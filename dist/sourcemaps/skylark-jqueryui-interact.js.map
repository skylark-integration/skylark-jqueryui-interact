{"version":3,"sources":["skylark-jqueryui-interact.js"],"names":["define","langx","ddmanager","current","droppables","default","prepareOffsets","t","event","i","j","m","options","scope","type","list","currentItem","element","find","addBack","droppablesLoop","length","disabled","accept","call","proportions","height","visible","css","_activate","offset","width","offsetWidth","offsetHeight","drop","draggable","dropped","each","slice","this","intersect","tolerance","_drop","isout","isover","_deactivate","dragStart","parentsUntil","on","refreshPositions","drag","greedyChild","parentInstance","parent","intersects","c","greedy","parents","filter","$","droppable","_out","_over","dragStop","off","isOverAxis","x","reference","size","toleranceMode","x1","positionAbs","position","absolute","left","margins","y1","top","x2","helperProportions","y2","l","r","b","pageY","pageX","browser","datax","plugins","JqPlugin","mouseHandled","document","MousePlugin","inherit","klassName","pluginName","cancel","distance","delay","_mouseInit","that","_mouseDown","data","target","removeData","stopImmediatePropagation","started","_mouseDestroy","_mouseMoveDelegate","_mouseUpDelegate","_mouseMoved","_mouseStarted","_mouseUp","_mouseDownEvent","btnIsLeft","which","elIsCancel","nodeName","closest","_mouseCapture","mouseDelayMet","_mouseDelayTimer","setTimeout","_mouseDistanceMet","_mouseDelayMet","_mouseStart","preventDefault","_mouseMove","ie","documentMode","button","originalEvent","altKey","ctrlKey","metaKey","shiftKey","ignoreMissingWhich","_mouseDrag","_mouseStop","clearTimeout","Math","max","abs","register","add","module","option","set","proto","prototype","patches","push","instance","name","args","allowDisconnected","parentNode","nodeType","apply","eventer","noder","Mouse","patch","Draggable","widgetEventPrefix","addClasses","appendTo","axis","connectToSortable","containment","cursor","cursorAt","grid","handle","helper","iframeFix","opacity","revert","revertDuration","scroll","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","stack","zIndex","start","stop","_create","_setPositionRelative","_addClass","_setHandleClassName","_setOption","key","value","_super","_removeHandleClassName","_destroy","is","destroyOnClear","o","_getHandle","_blurActiveElement","_blockFrames","selector","iframeBlocks","map","iframe","outerWidth","outerHeight","_unblockFrames","remove","activeElement","active","blur","_createHelper","_cacheHelperProportions","_cacheMargins","cssPosition","scrollParent","offsetParent","hasFixedAncestor","_refreshOffsets","originalPosition","_generatePosition","originalPageX","originalPageY","_adjustOffsetFromHelper","_setContainment","_trigger","_clear","dropBehaviour","_getParentOffset","relative","_getRelativeOffset","click","noPropagation","_convertPositionTo","ui","_uiHash","create","style","isFunction","animate","parseInt","handleElement","trigger","overrided","_removeClass","helperIsFunction","clone","removeAttr","test","obj","split","isArray","right","bottom","_isRootNode","tagName","po","contains","scrollLeft","scrollTop","p","scrollIsRootNode","isUserScrollable","ce","relativeContainer","constructor","Array","scrollWidth","scrollHeight","body","window","d","pos","mod","constrainPosition","co","round","cancelHelperRemoval","destroy","uiSortable","extend","item","sortables","sortable","isOver","_storedCSS","placeholder","_helper","innermostIntersecting","_intersectsWith","containerCache","_parent","fromOutside","_revert","_cursor","_opacity","scrollParentNotHidden","overflowOffset","scrolled","snapElements","String","items","$t","$o","inst","ts","bs","ls","rs","first","ownerDocument","snapping","release","snapItem","min","group","makeArray","sort","a","_zIndex","types","objects","arrays","pluginUuid","Plugin","pluginEventPrefix","eventNamespace","bindings","_construct","defaultElement","uuid","classesElementLookup","hoverable","focusable","_on","defaultView","parentWindow","_getCreateEventData","_init","_initOptions","mixin","_getCreateOptions","noop","arguments","_superApply","_classes","full","processClassString","classes","checkOption","_","isTracked","elements","some","uniq","get","concat","not","keys","match","extra","join","_untrackClassesElement","inArray","_off","_toggleClass","shift","toggleClass","suppressDisabledCheck","handlers","delegateElement","widget","handler","handlerProxy","hasClass","guid","eventName","prop","orig","callback","proxy","toLowerCase","isDefaultPrevented","enable","_setOptions","disable","Droppable","activate","deactivate","out","over","_addToManager","_splice","splice","_addActiveClass","_removeActiveClass","_addHoverClass","_removeHoverClass","custom","childrenIntersection","Resizable","alsoResize","animateDuration","animateEasing","aspectRatio","autoHide","ui-resizable-se","ghost","handles","maxHeight","maxWidth","minHeight","minWidth","resize","_num","parseFloat","_isNumber","isNaN","_hasScroll","el","has","_aspectRatio","originalElement","_proportionallyResizeElements","wrap","resizable","elementIsWrapper","marginTop","marginRight","marginBottom","marginLeft","originalResizeStyle","zoom","display","_proportionallyResize","_setupHandles","_handles","show","resizing","hide","_addedHandles","wrapper","exp","insertAfter","_removeHandles","n","hname","e","s","w","se","sw","ne","nw","trim","children","append","_renderAxis","padPos","padWrapper","jquery","mousedown","disableSelection","className","capture","curleft","curtop","_renderProxy","originalSize","sizeDiff","originalMousePosition","_propagate","props","smp","dx","dy","_change","_updatePrevProperties","_updateVirtualBoundaries","_updateRatio","_respectSize","_updateCache","_applyChanges","isEmptyObject","pr","ista","soffseth","soffsetw","prevPosition","prevSize","forceAspectRatio","pMinWidth","pMaxWidth","pMinHeight","pMaxHeight","Infinity","_vBoundaries","cpos","csize","ismaxw","ismaxh","isminw","isminh","dw","dh","cw","ch","_getPaddingPlusBorderDimensions","widths","borders","paddings","prel","outerDimensions","elementOffset","cs","sp","duration","easing","step","oc","containerElement","containerOffset","containerPosition","parentData","containerSize","innerHeight","innerWidth","woset","hoset","isParent","isOffsetRelative","cp","pRatio","cop","continueResize","ho","h","os","op","delta","sum","margin","removeChild","gridX","gridY","ox","oy","newWidth","newHeight","isMaxWidth","isMaxHeight","isMinWidth","isMinHeight","Selectable","autoRefresh","selected","selecting","unselected","unselecting","dragged","refresh","elementPos","selectees","$this","selecteeOffset","$element","startselected","opos","selectee","doSelect","tmp","hit","Sortable","ready","connectWith","dropOnEmpty","forcePlaceholderSize","forceHelperSize","beforeStop","change","receive","update","_isOverAxis","_isFloating","overrideHandle","validHandle","reverting","_refreshItems","_removeCurrentsFromItems","noActivation","currentContainer","domPosition","prev","_createPlaceholder","storedCursor","storedStylesheet","_storedZIndex","_storedOpacity","_preserveHelperProportions","containers","dragging","detach","lastPositionAbs","_scroll","itemElement","intersection","_contactContainers","innermostContainer","_refreshItemPositions","dragDirection","vertical","_getDragVerticalDirection","horizontal","_getDragHorizontalDirection","_intersectsWithPointer","direction","_intersectsWithSides","_rearrange","cur","animation","_noFinalSort","after","prepend","serialize","_getItemsAsjQuery","connected","str","res","attr","attribute","expression","toArray","ret","dyClick","dxClick","isOverElementHeight","isOverElementWidth","isOverElement","forcePointerForContainers","floating","verticalDirection","horizontalDirection","isOverBottomHalf","isOverRightHalf","_connectWith","queries","addItems","targetData","_queries","queriesLength","fast","toleranceElement","refreshContainers","_createTrPlaceholder","eq","container","sourceTr","targetTr","dist","itemWithLeastDistance","posProperty","sizeProperty","nearBottom","innermostIndex","appendChild","hardRefresh","insertBefore","nextSibling","counter","_delay","delayedTriggers","before","delayEvent","_inst","sender","main"],"mappings":"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","file":"../skylark-jqueryui-interact.js","sourcesContent":["define('skylark-jqueryui-interact/ddmanager',[\r\n\t\"skylark-langx/langx\"\r\n],function(langx) {\r\n\t/*\r\n\t * This manager tracks offsets of draggables and droppables\r\n\t */\r\n\tvar ddmanager = {\r\n\t\tcurrent: null,\r\n\t\tdroppables: { \"default\": [] },\r\n\t\tprepareOffsets: function( t, event ) {\r\n\r\n\t\t\tvar i, j,\r\n\t\t\t\tm = ddmanager.droppables[ t.options.scope ] || [],\r\n\t\t\t\ttype = event ? event.type : null, // workaround for #2317\r\n\t\t\t\tlist = ( t.currentItem || t.element ).find( \":data(ui-droppable)\" ).addBack();\r\n\r\n\t\t\tdroppablesLoop: for ( i = 0; i < m.length; i++ ) {\r\n\r\n\t\t\t\t// No disabled and non-accepted\r\n\t\t\t\tif ( m[ i ].options.disabled || ( t && !m[ i ].accept.call( m[ i ].element[ 0 ],\r\n\t\t\t\t\t\t( t.currentItem || t.element ) ) ) ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Filter out elements in the current dragged item\r\n\t\t\t\tfor ( j = 0; j < list.length; j++ ) {\r\n\t\t\t\t\tif ( list[ j ] === m[ i ].element[ 0 ] ) {\r\n\t\t\t\t\t\tm[ i ].proportions().height = 0;\r\n\t\t\t\t\t\tcontinue droppablesLoop;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tm[ i ].visible = m[ i ].element.css( \"display\" ) !== \"none\";\r\n\t\t\t\tif ( !m[ i ].visible ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Activate the droppable if used directly from draggables\r\n\t\t\t\tif ( type === \"mousedown\" ) {\r\n\t\t\t\t\tm[ i ]._activate.call( m[ i ], event );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tm[ i ].offset = m[ i ].element.offset();\r\n\t\t\t\tm[ i ].proportions( {\r\n\t\t\t\t\twidth: m[ i ].element[ 0 ].offsetWidth,\r\n\t\t\t\t\theight: m[ i ].element[ 0 ].offsetHeight\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tdrop: function( draggable, event ) {\r\n\r\n\t\t\tvar dropped = false;\r\n\r\n\t\t\t// Create a copy of the droppables in case the list changes during the drop (#9116)\r\n\t\t\tlangx.each( ( ddmanager.droppables[ draggable.options.scope ] || [] ).slice(), function() {\r\n\r\n\t\t\t\tif ( !this.options ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif ( !this.options.disabled && this.visible &&\r\n\t\t\t\t\t\tddmanager.intersect( draggable, this, this.options.tolerance, event ) ) {\r\n\t\t\t\t\tdropped = this._drop.call( this, event ) || dropped;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !this.options.disabled && this.visible && this.accept.call( this.element[ 0 ],\r\n\t\t\t\t\t\t( draggable.currentItem || draggable.element ) ) ) {\r\n\t\t\t\t\tthis.isout = true;\r\n\t\t\t\t\tthis.isover = false;\r\n\t\t\t\t\tthis._deactivate.call( this, event );\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\treturn dropped;\r\n\r\n\t\t},\r\n\t\tdragStart: function( draggable, event ) {\r\n\r\n\t\t\t// Listen for scrolling so that if the dragging causes scrolling the position of the\r\n\t\t\t// droppables can be recalculated (see #5003)\r\n\t\t\tdraggable.element.parentsUntil( \"body\" ).on( \"scroll.droppable\", function() {\r\n\t\t\t\tif ( !draggable.options.refreshPositions ) {\r\n\t\t\t\t\tddmanager.prepareOffsets( draggable, event );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\t\tdrag: function( draggable, event ) {\r\n\r\n\t\t\t// If you have a highly dynamic page, you might try this option. It renders positions\r\n\t\t\t// every time you move the mouse.\r\n\t\t\tif ( draggable.options.refreshPositions ) {\r\n\t\t\t\tddmanager.prepareOffsets( draggable, event );\r\n\t\t\t}\r\n\r\n\t\t\t// Run through all droppables and check their positions based on specific tolerance options\r\n\t\t\tlangx.each( ddmanager.droppables[ draggable.options.scope ] || [], function() {\r\n\r\n\t\t\t\tif ( this.options.disabled || this.greedyChild || !this.visible ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar parentInstance, scope, parent,\r\n\t\t\t\t\tintersects = ddmanager.intersect( draggable, this, this.options.tolerance, event ),\r\n\t\t\t\t\tc = !intersects && this.isover ?\r\n\t\t\t\t\t\t\"isout\" :\r\n\t\t\t\t\t\t( intersects && !this.isover ? \"isover\" : null );\r\n\t\t\t\tif ( !c ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( this.options.greedy ) {\r\n\r\n\t\t\t\t\t// find droppable parents with same scope\r\n\t\t\t\t\tscope = this.options.scope;\r\n\t\t\t\t\tparent = this.element.parents( \":data(ui-droppable)\" ).filter( function() {\r\n\t\t\t\t\t\treturn $( this ).droppable( \"instance\" ).options.scope === scope;\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\tif ( parent.length ) {\r\n\t\t\t\t\t\tparentInstance = $( parent[ 0 ] ).droppable( \"instance\" );\r\n\t\t\t\t\t\tparentInstance.greedyChild = ( c === \"isover\" );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// We just moved into a greedy child\r\n\t\t\t\tif ( parentInstance && c === \"isover\" ) {\r\n\t\t\t\t\tparentInstance.isover = false;\r\n\t\t\t\t\tparentInstance.isout = true;\r\n\t\t\t\t\tparentInstance._out.call( parentInstance, event );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis[ c ] = true;\r\n\t\t\t\tthis[ c === \"isout\" ? \"isover\" : \"isout\" ] = false;\r\n\t\t\t\tthis[ c === \"isover\" ? \"_over\" : \"_out\" ].call( this, event );\r\n\r\n\t\t\t\t// We just moved out of a greedy child\r\n\t\t\t\tif ( parentInstance && c === \"isout\" ) {\r\n\t\t\t\t\tparentInstance.isout = false;\r\n\t\t\t\t\tparentInstance.isover = true;\r\n\t\t\t\t\tparentInstance._over.call( parentInstance, event );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\tdragStop: function( draggable, event ) {\r\n\t\t\tdraggable.element.parentsUntil( \"body\" ).off( \"scroll.droppable\" );\r\n\r\n\t\t\t// Call prepareOffsets one final time since IE does not fire return scroll events when\r\n\t\t\t// overflow was caused by drag (see #5003)\r\n\t\t\tif ( !draggable.options.refreshPositions ) {\r\n\t\t\t\tddmanager.prepareOffsets( draggable, event );\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tddmanager.intersect = ( function() {\r\n\t\tfunction isOverAxis( x, reference, size ) {\r\n\t\t\treturn ( x >= reference ) && ( x < ( reference + size ) );\r\n\t\t}\r\n\r\n\t\treturn function( draggable, droppable, toleranceMode, event ) {\r\n\r\n\t\t\tif ( !droppable.offset ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tvar x1 = ( draggable.positionAbs ||\r\n\t\t\t\t\tdraggable.position.absolute ).left + draggable.margins.left,\r\n\t\t\t\ty1 = ( draggable.positionAbs ||\r\n\t\t\t\t\tdraggable.position.absolute ).top + draggable.margins.top,\r\n\t\t\t\tx2 = x1 + draggable.helperProportions.width,\r\n\t\t\t\ty2 = y1 + draggable.helperProportions.height,\r\n\t\t\t\tl = droppable.offset.left,\r\n\t\t\t\tt = droppable.offset.top,\r\n\t\t\t\tr = l + droppable.proportions().width,\r\n\t\t\t\tb = t + droppable.proportions().height;\r\n\r\n\t\t\tswitch ( toleranceMode ) {\r\n\t\t\tcase \"fit\":\r\n\t\t\t\treturn ( l <= x1 && x2 <= r && t <= y1 && y2 <= b );\r\n\t\t\tcase \"intersect\":\r\n\t\t\t\treturn ( l < x1 + ( draggable.helperProportions.width / 2 ) && // Right Half\r\n\t\t\t\t\tx2 - ( draggable.helperProportions.width / 2 ) < r && // Left Half\r\n\t\t\t\t\tt < y1 + ( draggable.helperProportions.height / 2 ) && // Bottom Half\r\n\t\t\t\t\ty2 - ( draggable.helperProportions.height / 2 ) < b ); // Top Half\r\n\t\t\tcase \"pointer\":\r\n\t\t\t\treturn isOverAxis( event.pageY, t, droppable.proportions().height ) &&\r\n\t\t\t\t\tisOverAxis( event.pageX, l, droppable.proportions().width );\r\n\t\t\tcase \"touch\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t( y1 >= t && y1 <= b ) || // Top edge touching\r\n\t\t\t\t\t( y2 >= t && y2 <= b ) || // Bottom edge touching\r\n\t\t\t\t\t( y1 < t && y2 > b ) // Surrounded vertically\r\n\t\t\t\t) && (\r\n\t\t\t\t\t( x1 >= l && x1 <= r ) || // Left edge touching\r\n\t\t\t\t\t( x2 >= l && x2 <= r ) || // Right edge touching\r\n\t\t\t\t\t( x1 < l && x2 > r ) // Surrounded horizontally\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t};\r\n\t} )();\r\n\r\n\r\n\treturn ddmanager;\r\n});\ndefine( 'skylark-jqueryui-interact/Mouse',[\r\n\t\"skylark-domx-browser\",\r\n\t\"skylark-domx-data\",\r\n\t\"skylark-domx-query\",\r\n\t\"skylark-domx-plugins-base\",\r\n\t\"skylark-jquery/jquery-plugin\"\r\n],function(browser, datax, $, plugins, JqPlugin) {\r\n\r\n\tvar mouseHandled = false;\r\n\t$( document ).on( \"mouseup\", function() {\r\n\t\tmouseHandled = false;\r\n\t} );\r\n\r\n\tvar MousePlugin = JqPlugin.inherit({\r\n\t\tklassName : \"MousePlugin\",\r\n\r\n\t\tpluginName : \"ui.mouse\",\r\n\r\n\t\toptions: {\r\n\t\t\tcancel: \"input, textarea, button, select, option\",\r\n\t\t\tdistance: 1,\r\n\t\t\tdelay: 0\r\n\t\t},\r\n\t\t_mouseInit: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.element\r\n\t\t\t\t.on( \"mousedown.\" + this.pluginName, function( event ) {\r\n\t\t\t\t\treturn that._mouseDown( event );\r\n\t\t\t\t} )\r\n\t\t\t\t.on( \"click.\" + this.pluginName, function( event ) {\r\n\t\t\t\t\tif ( true === datax.data( event.target, that.pluginName + \".preventClickEvent\" ) ) {\r\n\t\t\t\t\t\tdatax.removeData( event.target, that.pluginName + \".preventClickEvent\" );\r\n\t\t\t\t\t\tevent.stopImmediatePropagation();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\r\n\t\t\tthis.started = false;\r\n\t\t},\r\n\r\n\t\t// TODO: make sure destroying one instance of mouse doesn't mess with\r\n\t\t// other instances of mouse\r\n\t\t_mouseDestroy: function() {\r\n\t\t\tthis.element.off( \".\" + this.pluginName );\r\n\t\t\tif ( this._mouseMoveDelegate ) {\r\n\t\t\t\tthis.document\r\n\t\t\t\t\t.off( \"mousemove.\" + this.pluginName, this._mouseMoveDelegate )\r\n\t\t\t\t\t.off( \"mouseup.\" + this.pluginName, this._mouseUpDelegate );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_mouseDown: function( event ) {\r\n\r\n\t\t\t// don't let more than one widget handle mouseStart\r\n\t\t\tif ( mouseHandled ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis._mouseMoved = false;\r\n\r\n\t\t\t// We may have missed mouseup (out of window)\r\n\t\t\t( this._mouseStarted && this._mouseUp( event ) );\r\n\r\n\t\t\tthis._mouseDownEvent = event;\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\tbtnIsLeft = ( event.which === 1 ),\r\n\r\n\t\t\t\t// event.target.nodeName works around a bug in IE 8 with\r\n\t\t\t\t// disabled inputs (#7620)\r\n\t\t\t\telIsCancel = ( typeof this.options.cancel === \"string\" && event.target.nodeName ?\r\n\t\t\t\t\t$( event.target ).closest( this.options.cancel ).length : false );\r\n\t\t\tif ( !btnIsLeft || elIsCancel || !this._mouseCapture( event ) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tthis.mouseDelayMet = !this.options.delay;\r\n\t\t\tif ( !this.mouseDelayMet ) {\r\n\t\t\t\tthis._mouseDelayTimer = setTimeout( function() {\r\n\t\t\t\t\tthat.mouseDelayMet = true;\r\n\t\t\t\t}, this.options.delay );\r\n\t\t\t}\r\n\r\n\t\t\tif ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {\r\n\t\t\t\tthis._mouseStarted = ( this._mouseStart( event ) !== false );\r\n\t\t\t\tif ( !this._mouseStarted ) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Click event may never have fired (Gecko & Opera)\r\n\t\t\tif ( true === datax.data( event.target, this.pluginName + \".preventClickEvent\" ) ) {\r\n\t\t\t\tdatax.removeData( event.target, this.pluginName + \".preventClickEvent\" );\r\n\t\t\t}\r\n\r\n\t\t\t// These delegates are required to keep context\r\n\t\t\tthis._mouseMoveDelegate = function( event ) {\r\n\t\t\t\treturn that._mouseMove( event );\r\n\t\t\t};\r\n\t\t\tthis._mouseUpDelegate = function( event ) {\r\n\t\t\t\treturn that._mouseUp( event );\r\n\t\t\t};\r\n\r\n\t\t\tthis.document\r\n\t\t\t\t.on( \"mousemove.\" + this.pluginName, this._mouseMoveDelegate )\r\n\t\t\t\t.on( \"mouseup.\" + this.pluginName, this._mouseUpDelegate );\r\n\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tmouseHandled = true;\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t_mouseMove: function( event ) {\r\n\r\n\t\t\t// Only check for mouseups outside the document if you've moved inside the document\r\n\t\t\t// at least once. This prevents the firing of mouseup in the case of IE<9, which will\r\n\t\t\t// fire a mousemove event if content is placed under the cursor. See #7778\r\n\t\t\t// Support: IE <9\r\n\t\t\tif ( this._mouseMoved ) {\r\n\r\n\t\t\t\t// IE mouseup check - mouseup happened when mouse was out of window\r\n\t\t\t\tif ( browser.ie && ( !document.documentMode || document.documentMode < 9 ) &&\r\n\t\t\t\t\t\t!event.button ) {\r\n\t\t\t\t\treturn this._mouseUp( event );\r\n\r\n\t\t\t\t// Iframe mouseup check - mouseup occurred in another document\r\n\t\t\t\t} else if ( !event.which ) {\r\n\r\n\t\t\t\t\t// Support: Safari <=8 - 9\r\n\t\t\t\t\t// Safari sets which to 0 if you press any of the following keys\r\n\t\t\t\t\t// during a drag (#14461)\r\n\t\t\t\t\tif ( event.originalEvent.altKey || event.originalEvent.ctrlKey ||\r\n\t\t\t\t\t\t\tevent.originalEvent.metaKey || event.originalEvent.shiftKey ) {\r\n\t\t\t\t\t\tthis.ignoreMissingWhich = true;\r\n\t\t\t\t\t} else if ( !this.ignoreMissingWhich ) {\r\n\t\t\t\t\t\treturn this._mouseUp( event );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( event.which || event.button ) {\r\n\t\t\t\tthis._mouseMoved = true;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this._mouseStarted ) {\r\n\t\t\t\tthis._mouseDrag( event );\r\n\t\t\t\treturn event.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\tif ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {\r\n\t\t\t\tthis._mouseStarted =\r\n\t\t\t\t\t( this._mouseStart( this._mouseDownEvent, event ) !== false );\r\n\t\t\t\t( this._mouseStarted ? this._mouseDrag( event ) : this._mouseUp( event ) );\r\n\t\t\t}\r\n\r\n\t\t\treturn !this._mouseStarted;\r\n\t\t},\r\n\r\n\t\t_mouseUp: function( event ) {\r\n\t\t\tthis.document\r\n\t\t\t\t.off( \"mousemove.\" + this.pluginName, this._mouseMoveDelegate )\r\n\t\t\t\t.off( \"mouseup.\" + this.pluginName, this._mouseUpDelegate );\r\n\r\n\t\t\tif ( this._mouseStarted ) {\r\n\t\t\t\tthis._mouseStarted = false;\r\n\r\n\t\t\t\tif ( event.target === this._mouseDownEvent.target ) {\r\n\t\t\t\t\tdatax.data( event.target, this.pluginName + \".preventClickEvent\", true );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._mouseStop( event );\r\n\t\t\t}\r\n\r\n\t\t\tif ( this._mouseDelayTimer ) {\r\n\t\t\t\tclearTimeout( this._mouseDelayTimer );\r\n\t\t\t\tdelete this._mouseDelayTimer;\r\n\t\t\t}\r\n\r\n\t\t\tthis.ignoreMissingWhich = false;\r\n\t\t\tmouseHandled = false;\r\n\t\t\tevent.preventDefault();\r\n\t\t},\r\n\r\n\t\t_mouseDistanceMet: function( event ) {\r\n\t\t\treturn ( Math.max(\r\n\t\t\t\t\tMath.abs( this._mouseDownEvent.pageX - event.pageX ),\r\n\t\t\t\t\tMath.abs( this._mouseDownEvent.pageY - event.pageY )\r\n\t\t\t\t) >= this.options.distance\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t_mouseDelayMet: function( /* event */ ) {\r\n\t\t\treturn this.mouseDelayMet;\r\n\t\t},\r\n\r\n\t\t// These are placeholder methods, to be overriden by extending plugin\r\n\t\t_mouseStart: function( /* event */ ) {},\r\n\t\t_mouseDrag: function( /* event */ ) {},\r\n\t\t_mouseStop: function( /* event */ ) {},\r\n\t\t_mouseCapture: function( /* event */ ) { return true; }\r\n\t});\r\n\r\n\r\n\tplugins.register(MousePlugin);\r\n\r\n\treturn MousePlugin;\r\n});\r\n\ndefine('skylark-jqueryui-interact/patch',[\r\n], function() {\r\n\t// patch($.ui.plugin) is deprecated. .\r\n\treturn  {\r\n\t\tadd: function( module, option, set ) {\r\n\t\t\tvar i,\r\n\t\t\t\tproto = module.prototype;\r\n\t\t\tfor ( i in set ) {\r\n\t\t\t\tproto.patches[ i ] = proto.patches[ i ] || [];\r\n\t\t\t\tproto.patches[ i ].push( [ option, set[ i ] ] );\r\n\t\t\t}\r\n\t\t},\r\n\t\tcall: function( instance, name, args, allowDisconnected ) {\r\n\t\t\tvar i,\r\n\t\t\t\tset = instance.patches[ name ];\r\n\r\n\t\t\tif ( !set ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( !allowDisconnected && ( !instance.element[ 0 ].parentNode ||\r\n\t\t\t\t\tinstance.element[ 0 ].parentNode.nodeType === 11 ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor ( i = 0; i < set.length; i++ ) {\r\n\t\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\r\n\t\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n});\r\n\ndefine( 'skylark-jqueryui-interact/Draggable',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-eventer\",\r\n\t\"skylark-domx-noder\",\r\n\t\"skylark-domx-query\",\r\n\t\"skylark-domx-plugins-base\",\r\n\t\"./Mouse\",\r\n\t\"./patch\",\r\n\t\"./ddmanager\",\r\n],function(langx, eventer, noder, $, plugins, Mouse, patch, ddmanager) {\r\n\r\n\tvar Draggable = Mouse.inherit({\r\n\t\tklassName: \"Draggable\",\r\n\r\n\t\tpluginName : \"ui.draggable\",\r\n\r\n\t\twidgetEventPrefix: \"drag\",\r\n\t\toptions: {\r\n\t\t\taddClasses: true,\r\n\t\t\tappendTo: \"parent\",\r\n\t\t\taxis: false,\r\n\t\t\tconnectToSortable: false,\r\n\t\t\tcontainment: false,\r\n\t\t\tcursor: \"auto\",\r\n\t\t\tcursorAt: false,\r\n\t\t\tgrid: false,\r\n\t\t\thandle: false,\r\n\t\t\thelper: \"original\",\r\n\t\t\tiframeFix: false,\r\n\t\t\topacity: false,\r\n\t\t\trefreshPositions: false,\r\n\t\t\trevert: false,\r\n\t\t\trevertDuration: 500,\r\n\t\t\tscope: \"default\",\r\n\t\t\tscroll: true,\r\n\t\t\tscrollSensitivity: 20,\r\n\t\t\tscrollSpeed: 20,\r\n\t\t\tsnap: false,\r\n\t\t\tsnapMode: \"both\",\r\n\t\t\tsnapTolerance: 20,\r\n\t\t\tstack: false,\r\n\t\t\tzIndex: false,\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tdrag: null,\r\n\t\t\tstart: null,\r\n\t\t\tstop: null\r\n\t\t},\r\n\t\t_create: function() {\r\n\r\n\t\t\tif ( this.options.helper === \"original\" ) {\r\n\t\t\t\tthis._setPositionRelative();\r\n\t\t\t}\r\n\t\t\tif ( this.options.addClasses ) {\r\n\t\t\t\tthis._addClass( \"ui-draggable\" );\r\n\t\t\t}\r\n\t\t\tthis._setHandleClassName();\r\n\r\n\t\t\tthis._mouseInit();\r\n\t\t},\r\n\r\n\t\t_setOption: function( key, value ) {\r\n\t\t\tthis._super( key, value );\r\n\t\t\tif ( key === \"handle\" ) {\r\n\t\t\t\tthis._removeHandleClassName();\r\n\t\t\t\tthis._setHandleClassName();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\t\t\tif ( ( this.helper || this.element ).is( \".ui-draggable-dragging\" ) ) {\r\n\t\t\t\tthis.destroyOnClear = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._removeHandleClassName();\r\n\t\t\tthis._mouseDestroy();\r\n\t\t},\r\n\r\n\t\t_mouseCapture: function( event ) {\r\n\t\t\tvar o = this.options;\r\n\r\n\t\t\t// Among others, prevent a drag on a resizable-handle\r\n\t\t\tif ( this.helper || o.disabled ||\r\n\t\t\t\t\t$( event.target ).closest( \".ui-resizable-handle\" ).length > 0 ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t//Quit if we're not on a valid handle\r\n\t\t\tthis.handle = this._getHandle( event );\r\n\t\t\tif ( !this.handle ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthis._blurActiveElement( event );\r\n\r\n\t\t\tthis._blockFrames( o.iframeFix === true ? \"iframe\" : o.iframeFix );\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\t_blockFrames: function( selector ) {\r\n\t\t\tthis.iframeBlocks = this.document.find( selector ).map( function() {\r\n\t\t\t\tvar iframe = $( this );\r\n\r\n\t\t\t\treturn $( \"<div>\" )\r\n\t\t\t\t\t.css( \"position\", \"absolute\" )\r\n\t\t\t\t\t.appendTo( iframe.parent() )\r\n\t\t\t\t\t.outerWidth( iframe.outerWidth() )\r\n\t\t\t\t\t.outerHeight( iframe.outerHeight() )\r\n\t\t\t\t\t.offset( iframe.offset() )[ 0 ];\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t_unblockFrames: function() {\r\n\t\t\tif ( this.iframeBlocks ) {\r\n\t\t\t\tthis.iframeBlocks.remove();\r\n\t\t\t\tdelete this.iframeBlocks;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_blurActiveElement: function( event ) {\r\n\t\t\tvar activeElement = noder.active( this.document[ 0 ] ),\r\n\t\t\t\ttarget = $( event.target );\r\n\r\n\t\t\t// Don't blur if the event occurred on an element that is within\r\n\t\t\t// the currently focused element\r\n\t\t\t// See #10527, #12472\r\n\t\t\tif ( target.closest( activeElement ).length ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Blur any element that currently has focus, see #4261\r\n\t\t\tnoder.blur( activeElement );\r\n\t\t},\r\n\r\n\t\t_mouseStart: function( event ) {\r\n\r\n\t\t\tvar o = this.options;\r\n\r\n\t\t\t//Create and append the visible helper\r\n\t\t\tthis.helper = this._createHelper( event );\r\n\r\n\t\t\tthis._addClass( this.helper, \"ui-draggable-dragging\" );\r\n\r\n\t\t\t//Cache the helper size\r\n\t\t\tthis._cacheHelperProportions();\r\n\r\n\t\t\t//If ddmanager is used for droppables, set the global draggable\r\n\t\t\tif ( ddmanager ) {\r\n\t\t\t\tddmanager.current = this;\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * - Position generation -\r\n\t\t\t * This block generates everything position related - it's the core of draggables.\r\n\t\t\t */\r\n\r\n\t\t\t//Cache the margins of the original element\r\n\t\t\tthis._cacheMargins();\r\n\r\n\t\t\t//Store the helper's css position\r\n\t\t\tthis.cssPosition = this.helper.css( \"position\" );\r\n\t\t\tthis.scrollParent = this.helper.scrollParent( true );\r\n\t\t\tthis.offsetParent = this.helper.offsetParent();\r\n\t\t\tthis.hasFixedAncestor = this.helper.parents().filter( function() {\r\n\t\t\t\t\treturn $( this ).css( \"position\" ) === \"fixed\";\r\n\t\t\t\t} ).length > 0;\r\n\r\n\t\t\t//The element's absolute position on the page minus margins\r\n\t\t\tthis.positionAbs = this.element.offset();\r\n\t\t\tthis._refreshOffsets( event );\r\n\r\n\t\t\t//Generate the original position\r\n\t\t\tthis.originalPosition = this.position = this._generatePosition( event, false );\r\n\t\t\tthis.originalPageX = event.pageX;\r\n\t\t\tthis.originalPageY = event.pageY;\r\n\r\n\t\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\r\n\t\t\t( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );\r\n\r\n\t\t\t//Set a containment if given in the options\r\n\t\t\tthis._setContainment();\r\n\r\n\t\t\t//Trigger event + callbacks\r\n\t\t\tif ( this._trigger( \"start\", event ) === false ) {\r\n\t\t\t\tthis._clear();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t//Recache the helper size\r\n\t\t\tthis._cacheHelperProportions();\r\n\r\n\t\t\t//Prepare the droppable offsets\r\n\t\t\tif ( ddmanager && !o.dropBehaviour ) {\r\n\t\t\t\tddmanager.prepareOffsets( this, event );\r\n\t\t\t}\r\n\r\n\t\t\t// Execute the drag once - this causes the helper not to be visible before getting its\r\n\t\t\t// correct position\r\n\t\t\tthis._mouseDrag( event, true );\r\n\r\n\t\t\t// If the ddmanager is used for droppables, inform the manager that dragging has started\r\n\t\t\t// (see #5003)\r\n\t\t\tif ( ddmanager ) {\r\n\t\t\t\tddmanager.dragStart( this, event );\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t_refreshOffsets: function( event ) {\r\n\t\t\tthis.offset = {\r\n\t\t\t\ttop: this.positionAbs.top - this.margins.top,\r\n\t\t\t\tleft: this.positionAbs.left - this.margins.left,\r\n\t\t\t\tscroll: false,\r\n\t\t\t\tparent: this._getParentOffset(),\r\n\t\t\t\trelative: this._getRelativeOffset()\r\n\t\t\t};\r\n\r\n\t\t\tthis.offset.click = {\r\n\t\t\t\tleft: event.pageX - this.offset.left,\r\n\t\t\t\ttop: event.pageY - this.offset.top\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_mouseDrag: function( event, noPropagation ) {\r\n\r\n\t\t\t// reset any necessary cached properties (see #5009)\r\n\t\t\tif ( this.hasFixedAncestor ) {\r\n\t\t\t\tthis.offset.parent = this._getParentOffset();\r\n\t\t\t}\r\n\r\n\t\t\t//Compute the helpers position\r\n\t\t\tthis.position = this._generatePosition( event, true );\r\n\t\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\r\n\r\n\t\t\t//Call patches and callbacks and use the resulting position if something is returned\r\n\t\t\tif ( !noPropagation ) {\r\n\t\t\t\tvar ui = this._uiHash();\r\n\t\t\t\tif ( this._trigger( \"drag\", event, ui ) === false ) {\r\n\t\t\t\t\tthis._mouseUp( new eventer.create( \"mouseup\", event ) );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.position = ui.position;\r\n\t\t\t}\r\n\r\n\t\t\tthis.helper[ 0 ].style.left = this.position.left + \"px\";\r\n\t\t\tthis.helper[ 0 ].style.top = this.position.top + \"px\";\r\n\r\n\t\t\tif ( ddmanager ) {\r\n\t\t\t\tddmanager.drag( this, event );\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_mouseStop: function( event ) {\r\n\r\n\t\t\t//If we are using droppables, inform the manager about the drop\r\n\t\t\tvar that = this,\r\n\t\t\t\tdropped = false;\r\n\t\t\tif ( ddmanager && !this.options.dropBehaviour ) {\r\n\t\t\t\tdropped = ddmanager.drop( this, event );\r\n\t\t\t}\r\n\r\n\t\t\t//if a drop comes from outside (a sortable)\r\n\t\t\tif ( this.dropped ) {\r\n\t\t\t\tdropped = this.dropped;\r\n\t\t\t\tthis.dropped = false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( ( this.options.revert === \"invalid\" && !dropped ) ||\r\n\t\t\t\t\t( this.options.revert === \"valid\" && dropped ) ||\r\n\t\t\t\t\tthis.options.revert === true || ( langx.isFunction( this.options.revert ) &&\r\n\t\t\t\t\tthis.options.revert.call( this.element, dropped ) )\r\n\t\t\t) {\r\n\t\t\t\t$( this.helper ).animate(\r\n\t\t\t\t\tthis.originalPosition,\r\n\t\t\t\t\tparseInt( this.options.revertDuration, 10 ),\r\n\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\tif ( that._trigger( \"stop\", event ) !== false ) {\r\n\t\t\t\t\t\t\tthat._clear();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tif ( this._trigger( \"stop\", event ) !== false ) {\r\n\t\t\t\t\tthis._clear();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_mouseUp: function( event ) {\r\n\t\t\tthis._unblockFrames();\r\n\r\n\t\t\t// If the ddmanager is used for droppables, inform the manager that dragging has stopped\r\n\t\t\t// (see #5003)\r\n\t\t\tif ( ddmanager ) {\r\n\t\t\t\tddmanager.dragStop( this, event );\r\n\t\t\t}\r\n\r\n\t\t\t// Only need to focus if the event occurred on the draggable itself, see #10527\r\n\t\t\tif ( this.handleElement.is( event.target ) ) {\r\n\r\n\t\t\t\t// The interaction is over; whether or not the click resulted in a drag,\r\n\t\t\t\t// focus the element\r\n\t\t\t\tthis.element.trigger( \"focus\" );\r\n\t\t\t}\r\n\r\n\t\t\treturn this.overrided(event );\r\n\t\t},\r\n\r\n\t\tcancel: function() {\r\n\r\n\t\t\tif ( this.helper.is( \".ui-draggable-dragging\" ) ) {\r\n\t\t\t\tthis._mouseUp( eventer.create( \"mouseup\", { target: this.element[ 0 ] }));\r\n\t\t\t} else {\r\n\t\t\t\tthis._clear();\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\t_getHandle: function( event ) {\r\n\t\t\treturn this.options.handle ?\r\n\t\t\t\t!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :\r\n\t\t\t\ttrue;\r\n\t\t},\r\n\r\n\t\t_setHandleClassName: function() {\r\n\t\t\tthis.handleElement = this.options.handle ?\r\n\t\t\t\tthis.element.find( this.options.handle ) : this.element;\r\n\t\t\tthis._addClass( this.handleElement, \"ui-draggable-handle\" );\r\n\t\t},\r\n\r\n\t\t_removeHandleClassName: function() {\r\n\t\t\tthis._removeClass( this.handleElement, \"ui-draggable-handle\" );\r\n\t\t},\r\n\r\n\t\t_createHelper: function( event ) {\r\n\r\n\t\t\tvar o = this.options,\r\n\t\t\t\thelperIsFunction = langx.isFunction( o.helper ),\r\n\t\t\t\thelper = helperIsFunction ?\r\n\t\t\t\t\t$( o.helper.apply( this.element[ 0 ], [ event ] ) ) :\r\n\t\t\t\t\t( o.helper === \"clone\" ?\r\n\t\t\t\t\t\tthis.element.clone().removeAttr( \"id\" ) :\r\n\t\t\t\t\t\tthis.element );\r\n\r\n\t\t\tif ( !helper.parents( \"body\" ).length ) {\r\n\t\t\t\thelper.appendTo( ( o.appendTo === \"parent\" ?\r\n\t\t\t\t\tthis.element[ 0 ].parentNode :\r\n\t\t\t\t\to.appendTo ) );\r\n\t\t\t}\r\n\r\n\t\t\t// Http://bugs.jqueryui.com/ticket/9446\r\n\t\t\t// a helper function can return the original element\r\n\t\t\t// which wouldn't have been set to relative in _create\r\n\t\t\tif ( helperIsFunction && helper[ 0 ] === this.element[ 0 ] ) {\r\n\t\t\t\tthis._setPositionRelative();\r\n\t\t\t}\r\n\r\n\t\t\tif ( helper[ 0 ] !== this.element[ 0 ] &&\r\n\t\t\t\t\t!( /(fixed|absolute)/ ).test( helper.css( \"position\" ) ) ) {\r\n\t\t\t\thelper.css( \"position\", \"absolute\" );\r\n\t\t\t}\r\n\r\n\t\t\treturn helper;\r\n\r\n\t\t},\r\n\r\n\t\t_setPositionRelative: function() {\r\n\t\t\tif ( !( /^(?:r|a|f)/ ).test( this.element.css( \"position\" ) ) ) {\r\n\t\t\t\tthis.element[ 0 ].style.position = \"relative\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_adjustOffsetFromHelper: function( obj ) {\r\n\t\t\tif ( typeof obj === \"string\" ) {\r\n\t\t\t\tobj = obj.split( \" \" );\r\n\t\t\t}\r\n\t\t\tif ( langx.isArray( obj ) ) {\r\n\t\t\t\tobj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };\r\n\t\t\t}\r\n\t\t\tif ( \"left\" in obj ) {\r\n\t\t\t\tthis.offset.click.left = obj.left + this.margins.left;\r\n\t\t\t}\r\n\t\t\tif ( \"right\" in obj ) {\r\n\t\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\r\n\t\t\t}\r\n\t\t\tif ( \"top\" in obj ) {\r\n\t\t\t\tthis.offset.click.top = obj.top + this.margins.top;\r\n\t\t\t}\r\n\t\t\tif ( \"bottom\" in obj ) {\r\n\t\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_isRootNode: function( element ) {\r\n\t\t\treturn ( /(html|body)/i ).test( element.tagName ) || element === this.document[ 0 ];\r\n\t\t},\r\n\r\n\t\t_getParentOffset: function() {\r\n\r\n\t\t\t//Get the offsetParent and cache its position\r\n\t\t\tvar po = this.offsetParent.offset(),\r\n\t\t\t\tdocument = this.document[ 0 ];\r\n\r\n\t\t\t// This is a special case where we need to modify a offset calculated on start, since the\r\n\t\t\t// following happened:\r\n\t\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the\r\n\t\t\t// next positioned parent\r\n\t\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\r\n\t\t\t// the document, which means that the scroll is included in the initial calculation of the\r\n\t\t\t// offset of the parent, and never recalculated upon drag\r\n\t\t\tif ( this.cssPosition === \"absolute\" && this.scrollParent[ 0 ] !== document &&\r\n\t\t\t\t\tnoder.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {\r\n\t\t\t\tpo.left += this.scrollParent.scrollLeft();\r\n\t\t\t\tpo.top += this.scrollParent.scrollTop();\r\n\t\t\t}\r\n\r\n\t\t\tif ( this._isRootNode( this.offsetParent[ 0 ] ) ) {\r\n\t\t\t\tpo = { top: 0, left: 0 };\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: po.top + ( parseInt( this.offsetParent.css( \"borderTopWidth\" ), 10 ) || 0 ),\r\n\t\t\t\tleft: po.left + ( parseInt( this.offsetParent.css( \"borderLeftWidth\" ), 10 ) || 0 )\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_getRelativeOffset: function() {\r\n\t\t\tif ( this.cssPosition !== \"relative\" ) {\r\n\t\t\t\treturn { top: 0, left: 0 };\r\n\t\t\t}\r\n\r\n\t\t\tvar p = this.element.position(),\r\n\t\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: p.top - ( parseInt( this.helper.css( \"top\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollTop() : 0 ),\r\n\t\t\t\tleft: p.left - ( parseInt( this.helper.css( \"left\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollLeft() : 0 )\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_cacheMargins: function() {\r\n\t\t\tthis.margins = {\r\n\t\t\t\tleft: ( parseInt( this.element.css( \"marginLeft\" ), 10 ) || 0 ),\r\n\t\t\t\ttop: ( parseInt( this.element.css( \"marginTop\" ), 10 ) || 0 ),\r\n\t\t\t\tright: ( parseInt( this.element.css( \"marginRight\" ), 10 ) || 0 ),\r\n\t\t\t\tbottom: ( parseInt( this.element.css( \"marginBottom\" ), 10 ) || 0 )\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_cacheHelperProportions: function() {\r\n\t\t\tthis.helperProportions = {\r\n\t\t\t\twidth: this.helper.outerWidth(),\r\n\t\t\t\theight: this.helper.outerHeight()\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_setContainment: function() {\r\n\r\n\t\t\tvar isUserScrollable, c, ce,\r\n\t\t\t\to = this.options,\r\n\t\t\t\tdocument = this.document[ 0 ];\r\n\r\n\t\t\tthis.relativeContainer = null;\r\n\r\n\t\t\tif ( !o.containment ) {\r\n\t\t\t\tthis.containment = null;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( o.containment === \"window\" ) {\r\n\t\t\t\tthis.containment = [\r\n\t\t\t\t\t$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,\r\n\t\t\t\t\t$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,\r\n\t\t\t\t\t$( window ).scrollLeft() + $( window ).width() -\r\n\t\t\t\t\t\tthis.helperProportions.width - this.margins.left,\r\n\t\t\t\t\t$( window ).scrollTop() +\r\n\t\t\t\t\t\t( $( window ).height() || document.body.parentNode.scrollHeight ) -\r\n\t\t\t\t\t\tthis.helperProportions.height - this.margins.top\r\n\t\t\t\t];\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( o.containment === \"document\" ) {\r\n\t\t\t\tthis.containment = [\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t$( document ).width() - this.helperProportions.width - this.margins.left,\r\n\t\t\t\t\t( $( document ).height() || document.body.parentNode.scrollHeight ) -\r\n\t\t\t\t\t\tthis.helperProportions.height - this.margins.top\r\n\t\t\t\t];\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( o.containment.constructor === Array ) {\r\n\t\t\t\tthis.containment = o.containment;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( o.containment === \"parent\" ) {\r\n\t\t\t\to.containment = this.helper[ 0 ].parentNode;\r\n\t\t\t}\r\n\r\n\t\t\tc = $( o.containment );\r\n\t\t\tce = c[ 0 ];\r\n\r\n\t\t\tif ( !ce ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tisUserScrollable = /(scroll|auto)/.test( c.css( \"overflow\" ) );\r\n\r\n\t\t\tthis.containment = [\r\n\t\t\t\t( parseInt( c.css( \"borderLeftWidth\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t( parseInt( c.css( \"paddingLeft\" ), 10 ) || 0 ),\r\n\t\t\t\t( parseInt( c.css( \"borderTopWidth\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t( parseInt( c.css( \"paddingTop\" ), 10 ) || 0 ),\r\n\t\t\t\t( isUserScrollable ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -\r\n\t\t\t\t\t( parseInt( c.css( \"borderRightWidth\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t( parseInt( c.css( \"paddingRight\" ), 10 ) || 0 ) -\r\n\t\t\t\t\tthis.helperProportions.width -\r\n\t\t\t\t\tthis.margins.left -\r\n\t\t\t\t\tthis.margins.right,\r\n\t\t\t\t( isUserScrollable ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -\r\n\t\t\t\t\t( parseInt( c.css( \"borderBottomWidth\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t( parseInt( c.css( \"paddingBottom\" ), 10 ) || 0 ) -\r\n\t\t\t\t\tthis.helperProportions.height -\r\n\t\t\t\t\tthis.margins.top -\r\n\t\t\t\t\tthis.margins.bottom\r\n\t\t\t];\r\n\t\t\tthis.relativeContainer = c;\r\n\t\t},\r\n\r\n\t\t_convertPositionTo: function( d, pos ) {\r\n\r\n\t\t\tif ( !pos ) {\r\n\t\t\t\tpos = this.position;\r\n\t\t\t}\r\n\r\n\t\t\tvar mod = d === \"absolute\" ? 1 : -1,\r\n\t\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpos.top\t+\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.top * mod +\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.top * mod -\r\n\t\t\t\t\t( ( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.offset.scroll.top :\r\n\t\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) ) * mod )\r\n\t\t\t\t),\r\n\t\t\t\tleft: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpos.left +\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.left * mod +\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.left * mod\t-\r\n\t\t\t\t\t( ( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.offset.scroll.left :\r\n\t\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) ) * mod )\r\n\t\t\t\t)\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_generatePosition: function( event, constrainPosition ) {\r\n\r\n\t\t\tvar containment, co, top, left,\r\n\t\t\t\to = this.options,\r\n\t\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] ),\r\n\t\t\t\tpageX = event.pageX,\r\n\t\t\t\tpageY = event.pageY;\r\n\r\n\t\t\t// Cache the scroll\r\n\t\t\tif ( !scrollIsRootNode || !this.offset.scroll ) {\r\n\t\t\t\tthis.offset.scroll = {\r\n\t\t\t\t\ttop: this.scrollParent.scrollTop(),\r\n\t\t\t\t\tleft: this.scrollParent.scrollLeft()\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * - Position constraining -\r\n\t\t\t * Constrain the position to a mix of grid, containment.\r\n\t\t\t */\r\n\r\n\t\t\t// If we are not dragging yet, we won't check for options\r\n\t\t\tif ( constrainPosition ) {\r\n\t\t\t\tif ( this.containment ) {\r\n\t\t\t\t\tif ( this.relativeContainer ) {\r\n\t\t\t\t\t\tco = this.relativeContainer.offset();\r\n\t\t\t\t\t\tcontainment = [\r\n\t\t\t\t\t\t\tthis.containment[ 0 ] + co.left,\r\n\t\t\t\t\t\t\tthis.containment[ 1 ] + co.top,\r\n\t\t\t\t\t\t\tthis.containment[ 2 ] + co.left,\r\n\t\t\t\t\t\t\tthis.containment[ 3 ] + co.top\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontainment = this.containment;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( event.pageX - this.offset.click.left < containment[ 0 ] ) {\r\n\t\t\t\t\t\tpageX = containment[ 0 ] + this.offset.click.left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( event.pageY - this.offset.click.top < containment[ 1 ] ) {\r\n\t\t\t\t\t\tpageY = containment[ 1 ] + this.offset.click.top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( event.pageX - this.offset.click.left > containment[ 2 ] ) {\r\n\t\t\t\t\t\tpageX = containment[ 2 ] + this.offset.click.left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( event.pageY - this.offset.click.top > containment[ 3 ] ) {\r\n\t\t\t\t\t\tpageY = containment[ 3 ] + this.offset.click.top;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( o.grid ) {\r\n\r\n\t\t\t\t\t//Check for grid elements set to 0 to prevent divide by 0 error causing invalid\r\n\t\t\t\t\t// argument errors in IE (see ticket #6950)\r\n\t\t\t\t\ttop = o.grid[ 1 ] ? this.originalPageY + Math.round( ( pageY -\r\n\t\t\t\t\t\tthis.originalPageY ) / o.grid[ 1 ] ) * o.grid[ 1 ] : this.originalPageY;\r\n\t\t\t\t\tpageY = containment ? ( ( top - this.offset.click.top >= containment[ 1 ] ||\r\n\t\t\t\t\t\ttop - this.offset.click.top > containment[ 3 ] ) ?\r\n\t\t\t\t\t\t\ttop :\r\n\t\t\t\t\t\t\t( ( top - this.offset.click.top >= containment[ 1 ] ) ?\r\n\t\t\t\t\t\t\t\ttop - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) : top;\r\n\r\n\t\t\t\t\tleft = o.grid[ 0 ] ? this.originalPageX +\r\n\t\t\t\t\t\tMath.round( ( pageX - this.originalPageX ) / o.grid[ 0 ] ) * o.grid[ 0 ] :\r\n\t\t\t\t\t\tthis.originalPageX;\r\n\t\t\t\t\tpageX = containment ? ( ( left - this.offset.click.left >= containment[ 0 ] ||\r\n\t\t\t\t\t\tleft - this.offset.click.left > containment[ 2 ] ) ?\r\n\t\t\t\t\t\t\tleft :\r\n\t\t\t\t\t\t\t( ( left - this.offset.click.left >= containment[ 0 ] ) ?\r\n\t\t\t\t\t\t\t\tleft - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) : left;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( o.axis === \"y\" ) {\r\n\t\t\t\t\tpageX = this.originalPageX;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( o.axis === \"x\" ) {\r\n\t\t\t\t\tpageY = this.originalPageY;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpageY -\r\n\r\n\t\t\t\t\t// Click offset (relative to the element)\r\n\t\t\t\t\tthis.offset.click.top -\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.top -\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.top +\r\n\t\t\t\t\t( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.offset.scroll.top :\r\n\t\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) )\r\n\t\t\t\t),\r\n\t\t\t\tleft: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpageX -\r\n\r\n\t\t\t\t\t// Click offset (relative to the element)\r\n\t\t\t\t\tthis.offset.click.left -\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.left -\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.left +\r\n\t\t\t\t\t( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.offset.scroll.left :\r\n\t\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) )\r\n\t\t\t\t)\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_clear: function() {\r\n\t\t\tthis._removeClass( this.helper, \"ui-draggable-dragging\" );\r\n\t\t\tif ( this.helper[ 0 ] !== this.element[ 0 ] && !this.cancelHelperRemoval ) {\r\n\t\t\t\tthis.helper.remove();\r\n\t\t\t}\r\n\t\t\tthis.helper = null;\r\n\t\t\tthis.cancelHelperRemoval = false;\r\n\t\t\tif ( this.destroyOnClear ) {\r\n\t\t\t\tthis.destroy();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// From now on bulk stuff - mainly helpers\r\n\r\n\t\t_trigger: function( type, event, ui ) {\r\n\t\t\tui = ui || this._uiHash();\r\n\t\t\tpatch.call( this, type, [ event, ui, this ], true );\r\n\r\n\t\t\t// Absolute position and offset (see #6884 ) have to be recalculated after patches\r\n\t\t\tif ( /^(drag|start|stop)/.test( type ) ) {\r\n\t\t\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\r\n\t\t\t\tui.offset = this.positionAbs;\r\n\t\t\t}\r\n\t\t\treturn this.overrided( type, event, ui );\r\n\t\t},\r\n\r\n\t\tpatches: {},\r\n\r\n\t\t_uiHash: function() {\r\n\t\t\treturn {\r\n\t\t\t\thelper: this.helper,\r\n\t\t\t\tposition: this.position,\r\n\t\t\t\toriginalPosition: this.originalPosition,\r\n\t\t\t\toffset: this.positionAbs\r\n\t\t\t};\r\n\t\t}\r\n\r\n\r\n\r\n\t});\r\n\r\n\r\n\tplugins.register(Draggable,\"draggable\");\r\n\r\n\tpatch.add(Draggable, \"connectToSortable\", {\r\n\t\tstart: function( event, ui, draggable ) {\r\n\t\t\tvar uiSortable = langx.extend( {}, ui, {\r\n\t\t\t\titem: draggable.element\r\n\t\t\t} );\r\n\r\n\t\t\tdraggable.sortables = [];\r\n\t\t\t$( draggable.options.connectToSortable ).each( function() {\r\n\t\t\t\tvar sortable = $( this ).sortable( \"instance\" );\r\n\r\n\t\t\t\tif ( sortable && !sortable.options.disabled ) {\r\n\t\t\t\t\tdraggable.sortables.push( sortable );\r\n\r\n\t\t\t\t\t// RefreshPositions is called at drag start to refresh the containerCache\r\n\t\t\t\t\t// which is used in drag. This ensures it's initialized and synchronized\r\n\t\t\t\t\t// with any changes that might have happened on the page since initialization.\r\n\t\t\t\t\tsortable.refreshPositions();\r\n\t\t\t\t\tsortable._trigger( \"activate\", event, uiSortable );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\t\tstop: function( event, ui, draggable ) {\r\n\t\t\tvar uiSortable = langx.extend( {}, ui, {\r\n\t\t\t\titem: draggable.element\r\n\t\t\t} );\r\n\r\n\t\t\tdraggable.cancelHelperRemoval = false;\r\n\r\n\t\t\tlangx.each( draggable.sortables, function() {\r\n\t\t\t\tvar sortable = this;\r\n\r\n\t\t\t\tif ( sortable.isOver ) {\r\n\t\t\t\t\tsortable.isOver = 0;\r\n\r\n\t\t\t\t\t// Allow this sortable to handle removing the helper\r\n\t\t\t\t\tdraggable.cancelHelperRemoval = true;\r\n\t\t\t\t\tsortable.cancelHelperRemoval = false;\r\n\r\n\t\t\t\t\t// Use _storedCSS To restore properties in the sortable,\r\n\t\t\t\t\t// as this also handles revert (#9675) since the draggable\r\n\t\t\t\t\t// may have modified them in unexpected ways (#8809)\r\n\t\t\t\t\tsortable._storedCSS = {\r\n\t\t\t\t\t\tposition: sortable.placeholder.css( \"position\" ),\r\n\t\t\t\t\t\ttop: sortable.placeholder.css( \"top\" ),\r\n\t\t\t\t\t\tleft: sortable.placeholder.css( \"left\" )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tsortable._mouseStop( event );\r\n\r\n\t\t\t\t\t// Once drag has ended, the sortable should return to using\r\n\t\t\t\t\t// its original helper, not the shared helper from draggable\r\n\t\t\t\t\tsortable.options.helper = sortable.options._helper;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Prevent this Sortable from removing the helper.\r\n\t\t\t\t\t// However, don't set the draggable to remove the helper\r\n\t\t\t\t\t// either as another connected Sortable may yet handle the removal.\r\n\t\t\t\t\tsortable.cancelHelperRemoval = true;\r\n\r\n\t\t\t\t\tsortable._trigger( \"deactivate\", event, uiSortable );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\t\tdrag: function( event, ui, draggable ) {\r\n\t\t\tlangx.each( draggable.sortables, function() {\r\n\t\t\t\tvar innermostIntersecting = false,\r\n\t\t\t\t\tsortable = this;\r\n\r\n\t\t\t\t// Copy over variables that sortable's _intersectsWith uses\r\n\t\t\t\tsortable.positionAbs = draggable.positionAbs;\r\n\t\t\t\tsortable.helperProportions = draggable.helperProportions;\r\n\t\t\t\tsortable.offset.click = draggable.offset.click;\r\n\r\n\t\t\t\tif ( sortable._intersectsWith( sortable.containerCache ) ) {\r\n\t\t\t\t\tinnermostIntersecting = true;\r\n\r\n\t\t\t\t\tlangx.each( draggable.sortables, function() {\r\n\r\n\t\t\t\t\t\t// Copy over variables that sortable's _intersectsWith uses\r\n\t\t\t\t\t\tthis.positionAbs = draggable.positionAbs;\r\n\t\t\t\t\t\tthis.helperProportions = draggable.helperProportions;\r\n\t\t\t\t\t\tthis.offset.click = draggable.offset.click;\r\n\r\n\t\t\t\t\t\tif ( this !== sortable &&\r\n\t\t\t\t\t\t\t\tthis._intersectsWith( this.containerCache ) &&\r\n\t\t\t\t\t\t\t\tnoder.contains( sortable.element[ 0 ], this.element[ 0 ] ) ) {\r\n\t\t\t\t\t\t\tinnermostIntersecting = false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn innermostIntersecting;\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( innermostIntersecting ) {\r\n\r\n\t\t\t\t\t// If it intersects, we use a little isOver variable and set it once,\r\n\t\t\t\t\t// so that the move-in stuff gets fired only once.\r\n\t\t\t\t\tif ( !sortable.isOver ) {\r\n\t\t\t\t\t\tsortable.isOver = 1;\r\n\r\n\t\t\t\t\t\t// Store draggable's parent in case we need to reappend to it later.\r\n\t\t\t\t\t\tdraggable._parent = ui.helper.parent();\r\n\r\n\t\t\t\t\t\tsortable.currentItem = ui.helper\r\n\t\t\t\t\t\t\t.appendTo( sortable.element )\r\n\t\t\t\t\t\t\t.data( \"ui-sortable-item\", true );\r\n\r\n\t\t\t\t\t\t// Store helper option to later restore it\r\n\t\t\t\t\t\tsortable.options._helper = sortable.options.helper;\r\n\r\n\t\t\t\t\t\tsortable.options.helper = function() {\r\n\t\t\t\t\t\t\treturn ui.helper[ 0 ];\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// Fire the start events of the sortable with our passed browser event,\r\n\t\t\t\t\t\t// and our own helper (so it doesn't create a new one)\r\n\t\t\t\t\t\tevent.target = sortable.currentItem[ 0 ];\r\n\t\t\t\t\t\tsortable._mouseCapture( event, true );\r\n\t\t\t\t\t\tsortable._mouseStart( event, true, true );\r\n\r\n\t\t\t\t\t\t// Because the browser event is way off the new appended portlet,\r\n\t\t\t\t\t\t// modify necessary variables to reflect the changes\r\n\t\t\t\t\t\tsortable.offset.click.top = draggable.offset.click.top;\r\n\t\t\t\t\t\tsortable.offset.click.left = draggable.offset.click.left;\r\n\t\t\t\t\t\tsortable.offset.parent.left -= draggable.offset.parent.left -\r\n\t\t\t\t\t\t\tsortable.offset.parent.left;\r\n\t\t\t\t\t\tsortable.offset.parent.top -= draggable.offset.parent.top -\r\n\t\t\t\t\t\t\tsortable.offset.parent.top;\r\n\r\n\t\t\t\t\t\tdraggable._trigger( \"toSortable\", event );\r\n\r\n\t\t\t\t\t\t// Inform draggable that the helper is in a valid drop zone,\r\n\t\t\t\t\t\t// used solely in the revert option to handle \"valid/invalid\".\r\n\t\t\t\t\t\tdraggable.dropped = sortable.element;\r\n\r\n\t\t\t\t\t\t// Need to refreshPositions of all sortables in the case that\r\n\t\t\t\t\t\t// adding to one sortable changes the location of the other sortables (#9675)\r\n\t\t\t\t\t\tlangx.each( draggable.sortables, function() {\r\n\t\t\t\t\t\t\tthis.refreshPositions();\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\t// Hack so receive/update callbacks work (mostly)\r\n\t\t\t\t\t\tdraggable.currentItem = draggable.element;\r\n\t\t\t\t\t\tsortable.fromOutside = draggable;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( sortable.currentItem ) {\r\n\t\t\t\t\t\tsortable._mouseDrag( event );\r\n\r\n\t\t\t\t\t\t// Copy the sortable's position because the draggable's can potentially reflect\r\n\t\t\t\t\t\t// a relative position, while sortable is always absolute, which the dragged\r\n\t\t\t\t\t\t// element has now become. (#8809)\r\n\t\t\t\t\t\tui.position = sortable.position;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// If it doesn't intersect with the sortable, and it intersected before,\r\n\t\t\t\t\t// we fake the drag stop of the sortable, but make sure it doesn't remove\r\n\t\t\t\t\t// the helper by using cancelHelperRemoval.\r\n\t\t\t\t\tif ( sortable.isOver ) {\r\n\r\n\t\t\t\t\t\tsortable.isOver = 0;\r\n\t\t\t\t\t\tsortable.cancelHelperRemoval = true;\r\n\r\n\t\t\t\t\t\t// Calling sortable's mouseStop would trigger a revert,\r\n\t\t\t\t\t\t// so revert must be temporarily false until after mouseStop is called.\r\n\t\t\t\t\t\tsortable.options._revert = sortable.options.revert;\r\n\t\t\t\t\t\tsortable.options.revert = false;\r\n\r\n\t\t\t\t\t\tsortable._trigger( \"out\", event, sortable._uiHash( sortable ) );\r\n\t\t\t\t\t\tsortable._mouseStop( event, true );\r\n\r\n\t\t\t\t\t\t// Restore sortable behaviors that were modfied\r\n\t\t\t\t\t\t// when the draggable entered the sortable area (#9481)\r\n\t\t\t\t\t\tsortable.options.revert = sortable.options._revert;\r\n\t\t\t\t\t\tsortable.options.helper = sortable.options._helper;\r\n\r\n\t\t\t\t\t\tif ( sortable.placeholder ) {\r\n\t\t\t\t\t\t\tsortable.placeholder.remove();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Restore and recalculate the draggable's offset considering the sortable\r\n\t\t\t\t\t\t// may have modified them in unexpected ways. (#8809, #10669)\r\n\t\t\t\t\t\tui.helper.appendTo( draggable._parent );\r\n\t\t\t\t\t\tdraggable._refreshOffsets( event );\r\n\t\t\t\t\t\tui.position = draggable._generatePosition( event, true );\r\n\r\n\t\t\t\t\t\tdraggable._trigger( \"fromSortable\", event );\r\n\r\n\t\t\t\t\t\t// Inform draggable that the helper is no longer in a valid drop zone\r\n\t\t\t\t\t\tdraggable.dropped = false;\r\n\r\n\t\t\t\t\t\t// Need to refreshPositions of all sortables just in case removing\r\n\t\t\t\t\t\t// from one sortable changes the location of other sortables (#9675)\r\n\t\t\t\t\t\tlangx.each( draggable.sortables, function() {\r\n\t\t\t\t\t\t\tthis.refreshPositions();\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t});\r\n\r\n\tpatch.add( Draggable, \"cursor\", {\r\n\t\tstart: function( event, ui, instance ) {\r\n\t\t\tvar t = $( \"body\" ),\r\n\t\t\t\to = instance.options;\r\n\r\n\t\t\tif ( t.css( \"cursor\" ) ) {\r\n\t\t\t\to._cursor = t.css( \"cursor\" );\r\n\t\t\t}\r\n\t\t\tt.css( \"cursor\", o.cursor );\r\n\t\t},\r\n\t\tstop: function( event, ui, instance ) {\r\n\t\t\tvar o = instance.options;\r\n\t\t\tif ( o._cursor ) {\r\n\t\t\t\t$( \"body\" ).css( \"cursor\", o._cursor );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add( Draggable, \"opacity\", {\r\n\t\tstart: function( event, ui, instance ) {\r\n\t\t\tvar t = $( ui.helper ),\r\n\t\t\t\to = instance.options;\r\n\t\t\tif ( t.css( \"opacity\" ) ) {\r\n\t\t\t\to._opacity = t.css( \"opacity\" );\r\n\t\t\t}\r\n\t\t\tt.css( \"opacity\", o.opacity );\r\n\t\t},\r\n\t\tstop: function( event, ui, instance ) {\r\n\t\t\tvar o = instance.options;\r\n\t\t\tif ( o._opacity ) {\r\n\t\t\t\t$( ui.helper ).css( \"opacity\", o._opacity );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add( Draggable, \"scroll\", {\r\n\t\tstart: function( event, ui, i ) {\r\n\t\t\tif ( !i.scrollParentNotHidden ) {\r\n\t\t\t\ti.scrollParentNotHidden = i.helper.scrollParent( false );\r\n\t\t\t}\r\n\r\n\t\t\tif ( i.scrollParentNotHidden[ 0 ] !== i.document[ 0 ] &&\r\n\t\t\t\t\ti.scrollParentNotHidden[ 0 ].tagName !== \"HTML\" ) {\r\n\t\t\t\ti.overflowOffset = i.scrollParentNotHidden.offset();\r\n\t\t\t}\r\n\t\t},\r\n\t\tdrag: function( event, ui, i  ) {\r\n\r\n\t\t\tvar o = i.options,\r\n\t\t\t\tscrolled = false,\r\n\t\t\t\tscrollParent = i.scrollParentNotHidden[ 0 ],\r\n\t\t\t\tdocument = i.document[ 0 ];\r\n\r\n\t\t\tif ( scrollParent !== document && scrollParent.tagName !== \"HTML\" ) {\r\n\t\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\r\n\t\t\t\t\tif ( ( i.overflowOffset.top + scrollParent.offsetHeight ) - event.pageY <\r\n\t\t\t\t\t\t\to.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;\r\n\t\t\t\t\t} else if ( event.pageY - i.overflowOffset.top < o.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\r\n\t\t\t\t\tif ( ( i.overflowOffset.left + scrollParent.offsetWidth ) - event.pageX <\r\n\t\t\t\t\t\t\to.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;\r\n\t\t\t\t\t} else if ( event.pageX - i.overflowOffset.left < o.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\r\n\t\t\t\t\tif ( event.pageY - $( document ).scrollTop() < o.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() - o.scrollSpeed );\r\n\t\t\t\t\t} else if ( $( window ).height() - ( event.pageY - $( document ).scrollTop() ) <\r\n\t\t\t\t\t\t\to.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() + o.scrollSpeed );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\r\n\t\t\t\t\tif ( event.pageX - $( document ).scrollLeft() < o.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrolled = $( document ).scrollLeft(\r\n\t\t\t\t\t\t\t$( document ).scrollLeft() - o.scrollSpeed\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else if ( $( window ).width() - ( event.pageX - $( document ).scrollLeft() ) <\r\n\t\t\t\t\t\t\to.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrolled = $( document ).scrollLeft(\r\n\t\t\t\t\t\t\t$( document ).scrollLeft() + o.scrollSpeed\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scrolled !== false && ddmanager && !o.dropBehaviour ) {\r\n\t\t\t\tddmanager.prepareOffsets( i, event );\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add( Draggable, \"snap\", {\r\n\t\tstart: function( event, ui, i ) {\r\n\r\n\t\t\tvar o = i.options;\r\n\r\n\t\t\ti.snapElements = [];\r\n\r\n\t\t\t$( o.snap.constructor !== String ? ( o.snap.items || \":data(ui-draggable)\" ) : o.snap )\r\n\t\t\t\t.each( function() {\r\n\t\t\t\t\tvar $t = $( this ),\r\n\t\t\t\t\t\t$o = $t.offset();\r\n\t\t\t\t\tif ( this !== i.element[ 0 ] ) {\r\n\t\t\t\t\t\ti.snapElements.push( {\r\n\t\t\t\t\t\t\titem: this,\r\n\t\t\t\t\t\t\twidth: $t.outerWidth(), height: $t.outerHeight(),\r\n\t\t\t\t\t\t\ttop: $o.top, left: $o.left\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\r\n\t\t},\r\n\t\tdrag: function( event, ui, inst ) {\r\n\r\n\t\t\tvar ts, bs, ls, rs, l, r, t, b, i, first,\r\n\t\t\t\to = inst.options,\r\n\t\t\t\td = o.snapTolerance,\r\n\t\t\t\tx1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,\r\n\t\t\t\ty1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;\r\n\r\n\t\t\tfor ( i = inst.snapElements.length - 1; i >= 0; i-- ) {\r\n\r\n\t\t\t\tl = inst.snapElements[ i ].left - inst.margins.left;\r\n\t\t\t\tr = l + inst.snapElements[ i ].width;\r\n\t\t\t\tt = inst.snapElements[ i ].top - inst.margins.top;\r\n\t\t\t\tb = t + inst.snapElements[ i ].height;\r\n\r\n\t\t\t\tif ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d ||\r\n\t\t\t\t\t\t!noder.contains( inst.snapElements[ i ].item.ownerDocument,\r\n\t\t\t\t\t\tinst.snapElements[ i ].item ) ) {\r\n\t\t\t\t\tif ( inst.snapElements[ i ].snapping ) {\r\n\t\t\t\t\t\t( inst.options.snap.release &&\r\n\t\t\t\t\t\t\tinst.options.snap.release.call(\r\n\t\t\t\t\t\t\t\tinst.element,\r\n\t\t\t\t\t\t\t\tevent,\r\n\t\t\t\t\t\t\t\tlangx.extend( inst._uiHash(), { snapItem: inst.snapElements[ i ].item } )\r\n\t\t\t\t\t\t\t) );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinst.snapElements[ i ].snapping = false;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( o.snapMode !== \"inner\" ) {\r\n\t\t\t\t\tts = Math.abs( t - y2 ) <= d;\r\n\t\t\t\t\tbs = Math.abs( b - y1 ) <= d;\r\n\t\t\t\t\tls = Math.abs( l - x2 ) <= d;\r\n\t\t\t\t\trs = Math.abs( r - x1 ) <= d;\r\n\t\t\t\t\tif ( ts ) {\r\n\t\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: t - inst.helperProportions.height,\r\n\t\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t\t} ).top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( bs ) {\r\n\t\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: b,\r\n\t\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t\t} ).top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( ls ) {\r\n\t\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tleft: l - inst.helperProportions.width\r\n\t\t\t\t\t\t} ).left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( rs ) {\r\n\t\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tleft: r\r\n\t\t\t\t\t\t} ).left;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfirst = ( ts || bs || ls || rs );\r\n\r\n\t\t\t\tif ( o.snapMode !== \"outer\" ) {\r\n\t\t\t\t\tts = Math.abs( t - y1 ) <= d;\r\n\t\t\t\t\tbs = Math.abs( b - y2 ) <= d;\r\n\t\t\t\t\tls = Math.abs( l - x1 ) <= d;\r\n\t\t\t\t\trs = Math.abs( r - x2 ) <= d;\r\n\t\t\t\t\tif ( ts ) {\r\n\t\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: t,\r\n\t\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t\t} ).top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( bs ) {\r\n\t\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: b - inst.helperProportions.height,\r\n\t\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t\t} ).top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( ls ) {\r\n\t\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tleft: l\r\n\t\t\t\t\t\t} ).left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( rs ) {\r\n\t\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tleft: r - inst.helperProportions.width\r\n\t\t\t\t\t\t} ).left;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !inst.snapElements[ i ].snapping && ( ts || bs || ls || rs || first ) ) {\r\n\t\t\t\t\t( inst.options.snap.snap &&\r\n\t\t\t\t\t\tinst.options.snap.snap.call(\r\n\t\t\t\t\t\t\tinst.element,\r\n\t\t\t\t\t\t\tevent,\r\n\t\t\t\t\t\t\tlangx.extend( inst._uiHash(), {\r\n\t\t\t\t\t\t\t\tsnapItem: inst.snapElements[ i ].item\r\n\t\t\t\t\t\t\t} ) ) );\r\n\t\t\t\t}\r\n\t\t\t\tinst.snapElements[ i ].snapping = ( ts || bs || ls || rs || first );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add( Draggable, \"stack\", {\r\n\t\tstart: function( event, ui, instance ) {\r\n\t\t\tvar min,\r\n\t\t\t\to = instance.options,\r\n\t\t\t\tgroup = langx.makeArray( $( o.stack ) ).sort( function( a, b ) {\r\n\t\t\t\t\treturn ( parseInt( $( a ).css( \"zIndex\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t\t( parseInt( $( b ).css( \"zIndex\" ), 10 ) || 0 );\r\n\t\t\t\t} );\r\n\r\n\t\t\tif ( !group.length ) { return; }\r\n\r\n\t\t\tmin = parseInt( $( group[ 0 ] ).css( \"zIndex\" ), 10 ) || 0;\r\n\t\t\t$( group ).each( function( i ) {\r\n\t\t\t\t$( this ).css( \"zIndex\", min + i );\r\n\t\t\t} );\r\n\t\t\tthis.css( \"zIndex\", ( min + group.length ) );\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add( Draggable, \"zIndex\", {\r\n\t\tstart: function( event, ui, instance ) {\r\n\t\t\tvar t = $( ui.helper ),\r\n\t\t\t\to = instance.options;\r\n\r\n\t\t\tif ( t.css( \"zIndex\" ) ) {\r\n\t\t\t\to._zIndex = t.css( \"zIndex\" );\r\n\t\t\t}\r\n\t\t\tt.css( \"zIndex\", o.zIndex );\r\n\t\t},\r\n\t\tstop: function( event, ui, instance ) {\r\n\t\t\tvar o = instance.options;\r\n\r\n\t\t\tif ( o._zIndex ) {\r\n\t\t\t\t$( ui.helper ).css( \"zIndex\", o._zIndex );\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn Draggable;\r\n});\r\n\ndefine('skylark-jquery/JqueryPlugin',[\r\n\t\"skylark-langx-types\",\r\n\t\"skylark-langx-objects\",\r\n\t\"skylark-langx-arrays\",\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-data\",\r\n\t\"skylark-domx-eventer\",\r\n\t\"skylark-domx-plugins-base\",\r\n\t\"skylark-domx-query\",\r\n],function(types, objects, arrays, langx, datax, eventer, plugins, $){\r\n\r\n    var pluginUuid = 0;\r\n\r\n\tvar JqPlugin = plugins.Plugin.inherit({\r\n\t\tklassName : \"JqPlugin\",\r\n\r\n        pluginEventPrefix: \"\",\r\n\r\n        options: {\r\n            // Callbacks\r\n            create: null\r\n        },\r\n\r\n        destroy: function() {\r\n            this.overrided();\r\n\r\n            // We can probably remove the unbind calls in 2.0\r\n            // all event bindings should go through this._on()\r\n            this.element\r\n                .off( this.eventNamespace );\r\n\r\n            // Clean up events and states\r\n            this.bindings.off( this.eventNamespace );\r\n        },\r\n\r\n        _construct : function(element,options) {\r\n            //this.options = langx.mixin( {}, this.options );\r\n\r\n            element = $( element || this.defaultElement || this )[ 0 ];\r\n            this.element = $( element );\r\n            this.uuid = pluginUuid++;\r\n            this.eventNamespace = \".\" + this.pluginName + this.uuid;\r\n\r\n            this.bindings = $();\r\n            this.classesElementLookup = {};\r\n\r\n\t\t\tthis.hoverable = $();\r\n\t\t\tthis.focusable = $();\r\n\r\n            if ( element !== this ) {\r\n                datax.data( element, this.pluginName, this );\r\n                this._on( true, this.element, {\r\n                    remove: function( event ) {\r\n                        if ( event.target === element ) {\r\n                            this.destroy();\r\n                        }\r\n                    }\r\n                } );\r\n                this.document = $( element.style ?\r\n\r\n                    // Element within the document\r\n                    element.ownerDocument :\r\n\r\n                    // Element is window or document\r\n                    element.document || element );\r\n                this.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );\r\n            }\r\n\r\n            this.overrided(element,options);\r\n\r\n//            this.options = langx.mixin( {},\r\n//                this.options,\r\n//                this._getCreateOptions(),\r\n//                options );\r\n\r\n            this._create();\r\n\r\n            this._trigger( \"create\", null, this._getCreateEventData() );\r\n\r\n            this._init();\r\n        },\r\n\r\n\r\n\t     _initOptions : function(options) {\r\n\t     \toptions = langx.mixin(this._getCreateOptions(),options);\r\n\r\n\t\t\tthis.overrided(options);\r\n\t\t},\r\n\r\n        _getCreateOptions: function() {\r\n            return {};\r\n        },\r\n\r\n        _getCreateEventData: langx.noop,\r\n\r\n\t\t_super : function() {\r\n\t\t\tif (this.overrided) {\r\n\t\t\t\treturn this.overrided.apply(this,arguments);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_superApply : function ( args ) {\r\n\t\t\tif (this.overrided) {\r\n\t\t\t\treturn this.overrided.apply(this,args);\r\n\t\t\t}\r\n\t\t},\r\n\r\n        _create: langx.noop,\r\n\r\n        _init: langx.noop,\r\n\r\n\t\t_classes: function( options ) {\r\n\t\t\tvar full = [];\r\n\t\t\tvar that = this;\r\n\r\n\t\t\toptions = objects.mixin( {\r\n\t\t\t\telement: this.element,\r\n\t\t\t\tclasses: this.options.classes || {}\r\n\t\t\t}, options );\r\n\r\n\r\n\t\t\tfunction bindRemoveEvent() {\r\n\t\t\t\toptions.element.each( function( _, element ) {\r\n\t\t\t\t\tvar isTracked = langx.map( that.classesElementLookup, function( elements ) {\r\n\t\t\t\t\t\treturn elements;\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t\t.some( function(elements ) {\r\n\t\t\t\t\t\t\treturn $(elements).is( element );\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\tif ( !isTracked ) {\r\n\t\t\t\t\t\tthat._on( $( element ), {\r\n\t\t\t\t\t\t\tremove: \"_untrackClassesElement\"\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tfunction processClassString( classes, checkOption ) {\r\n\t\t\t\tvar current, i;\r\n\t\t\t\tfor ( i = 0; i < classes.length; i++ ) {\r\n\t\t\t\t\tcurrent = that.classesElementLookup[ classes[ i ] ] || $();\r\n\t\t\t\t\tif ( options.add ) {\r\n\t\t\t\t\t\tbindRemoveEvent();\r\n\t\t\t\t\t\tcurrent = $( langx.uniq( current.get().concat( options.element.get() ) ) );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcurrent = $( current.not( options.element ).get() );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.classesElementLookup[ classes[ i ] ] = current;\r\n\t\t\t\t\tfull.push( classes[ i ] );\r\n\t\t\t\t\tif ( checkOption && options.classes[ classes[ i ] ] ) {\r\n\t\t\t\t\t\tfull.push( options.classes[ classes[ i ] ] );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( options.keys ) {\r\n\t\t\t\tprocessClassString( options.keys.match( /\\S+/g ) || [], true );\r\n\t\t\t}\r\n\t\t\tif ( options.extra ) {\r\n\t\t\t\tprocessClassString( options.extra.match( /\\S+/g ) || [] );\r\n\t\t\t}\r\n\r\n\t\t\treturn full.join( \" \" );\r\n\t\t},\r\n\r\n\t\t_untrackClassesElement: function( event ) {\r\n\t\t\tvar that = this;\r\n\t\t\tlangx.each( that.classesElementLookup, function( key, value ) {\r\n\t\t\t\tif ( arrays.inArray( event.target, value ) !== -1 ) {\r\n\t\t\t\t\tthat.classesElementLookup[ key ] = $( value.not( event.target ).get() );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tthis._off( $( event.target ) );\r\n\t\t},\r\n\r\n\t\t_removeClass: function( element, keys, extra ) {\r\n\t\t\treturn this._toggleClass( element, keys, extra, false );\r\n\t\t},\r\n\r\n\t\t_addClass: function( element, keys, extra ) {\r\n\t\t\treturn this._toggleClass( element, keys, extra, true );\r\n\t\t},\r\n\r\n\t\t_toggleClass: function( element, keys, extra, add ) {\r\n\t\t\tadd = ( typeof add === \"boolean\" ) ? add : extra;\r\n\t\t\tvar shift = ( typeof element === \"string\" || element === null ),\r\n\t\t\t\toptions = {\r\n\t\t\t\t\textra: shift ? keys : extra,\r\n\t\t\t\t\tkeys: shift ? element : keys,\r\n\t\t\t\t\telement: shift ? this.element : element,\r\n\t\t\t\t\tadd: add\r\n\t\t\t\t};\r\n\t\t\toptions.element.toggleClass( this._classes( options ), add );\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t_on: function( suppressDisabledCheck, element, handlers ) {\r\n\t\t\tvar delegateElement;\r\n\t\t\tvar instance = this;\r\n\r\n\t\t\t// No suppressDisabledCheck flag, shuffle arguments\r\n\t\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\r\n\t\t\t\thandlers = element;\r\n\t\t\t\telement = suppressDisabledCheck;\r\n\t\t\t\tsuppressDisabledCheck = false;\r\n\t\t\t}\r\n\r\n\t\t\t// No element argument, shuffle and use this.element\r\n\t\t\tif ( !handlers ) {\r\n\t\t\t\thandlers = element;\r\n\t\t\t\telement = this.element;\r\n\t\t\t\tdelegateElement = this.widget();\r\n\t\t\t} else {\r\n\t\t\t\telement = delegateElement = $( element );\r\n\t\t\t\tthis.bindings = this.bindings.add( element );\r\n\t\t\t}\r\n\r\n\t\t\tobjects.each( handlers, function( event, handler ) {\r\n\t\t\t\tfunction handlerProxy() {\r\n\r\n\t\t\t\t\t// Allow widgets to customize the disabled handling\r\n\t\t\t\t\t// - disabled as an array instead of boolean\r\n\t\t\t\t\t// - disabled class as method for disabling individual parts\r\n\t\t\t\t\tif ( !suppressDisabledCheck &&\r\n\t\t\t\t\t\t\t( instance.options.disabled === true ||\r\n\t\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\r\n\t\t\t\t\t\t.apply( instance, arguments );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Copy the guid so direct unbinding works\r\n\t\t\t\tif ( typeof handler !== \"string\" ) {\r\n\t\t\t\t\thandlerProxy.guid = handler.guid =\r\n\t\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar match = event.match( /^([\\w:-]*)\\s*(.*)$/ );\r\n\t\t\t\tvar eventName = match[ 1 ] + instance.eventNamespace;\r\n\t\t\t\tvar selector = match[ 2 ];\r\n\r\n\t\t\t\tif ( selector ) {\r\n\t\t\t\t\tdelegateElement.on( eventName, selector, handlerProxy );\r\n\t\t\t\t} else {\r\n\t\t\t\t\telement.on( eventName, handlerProxy );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t_off: function( element, eventName ) {\r\n\t\t\teventName = ( eventName || \"\" ).split( \" \" ).join( this.eventNamespace + \" \" ) +\r\n\t\t\t\tthis.eventNamespace;\r\n\t\t\telement.off( eventName );\r\n\r\n\t\t\t// Clear the stack to avoid memory leaks (#10056)\r\n\t\t\tthis.bindings = $( this.bindings.not( element ).get() );\r\n\t\t\tthis.focusable = $( this.focusable.not( element ).get() );\r\n\t\t\tthis.hoverable = $( this.hoverable.not( element ).get() );\r\n\t\t},\r\n\r\n\t\t_trigger: function( type, event, data ) {\r\n\t\t\tvar prop, orig;\r\n\t\t\tvar callback = this.options[ type ];\r\n\r\n\t\t\tdata = data || {};\r\n\t\t\tevent = eventer.proxy( event );\r\n\t\t\tevent.type = ( type === this.widgetEventPrefix ?\r\n\t\t\t\ttype :\r\n\t\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\r\n\r\n\t\t\t// The original event may come from any element\r\n\t\t\t// so we need to reset the target on the new event\r\n\t\t\tevent.target = this.element[ 0 ];\r\n\r\n\t\t\t// Copy original event properties over to the new event\r\n\t\t\torig = event.originalEvent;\r\n\t\t\tif ( orig ) {\r\n\t\t\t\tfor ( prop in orig ) {\r\n\t\t\t\t\tif ( !( prop in event ) ) {\r\n\t\t\t\t\t\tevent[ prop ] = orig[ prop ];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.element.trigger( event, data );\r\n\t\t\treturn !( types.isFunction( callback ) &&\r\n\t\t\t\tcallback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||\r\n\t\t\t\tevent.isDefaultPrevented() );\r\n\t\t},\r\n\r\n\r\n\t    enable: function() {\r\n\t      return this._setOptions( { disabled: false } );\r\n\t    },\r\n\r\n\t    disable: function() {\r\n\t      return this._setOptions( { disabled: true } );\r\n\t    }\r\n\r\n\r\n\t});\r\n\r\n\treturn JqPlugin;\r\n});\ndefine( 'skylark-jqueryui-interact/Droppable',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-eventer\",\r\n\t\"skylark-domx-noder\",\r\n\t\"skylark-domx-query\",\r\n\t\"skylark-domx-plugins-base\",\r\n\t\"skylark-jquery/JqueryPlugin\",\r\n\t\"./patch\",\r\n\t\"./ddmanager\",\r\n],function(langx, eventer, noder, $, plugins, JqPlugin, patch, ddmanager) {\r\n\r\n\tvar Droppable = JqPlugin.inherit({\r\n\t\tklassName: \"Droppable\",\r\n\r\n\t\tpluginName : \"ui.Droppable\",\r\n\r\n\t\twidgetEventPrefix: \"drop\",\r\n\t\t\r\n\t\toptions: {\r\n\t\t\taccept: \"*\",\r\n\t\t\taddClasses: true,\r\n\t\t\tgreedy: false,\r\n\t\t\tscope: \"default\",\r\n\t\t\ttolerance: \"intersect\",\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tactivate: null,\r\n\t\t\tdeactivate: null,\r\n\t\t\tdrop: null,\r\n\t\t\tout: null,\r\n\t\t\tover: null\r\n\t\t},\r\n\t\t_create: function() {\r\n\r\n\t\t\tvar proportions,\r\n\t\t\t\to = this.options,\r\n\t\t\t\taccept = o.accept;\r\n\r\n\t\t\tthis.isover = false;\r\n\t\t\tthis.isout = true;\r\n\r\n\t\t\tthis.accept = langx.isFunction( accept ) ? accept : function( d ) {\r\n\t\t\t\treturn d.is( accept );\r\n\t\t\t};\r\n\r\n\t\t\tthis.proportions = function( /* valueToWrite */ ) {\r\n\t\t\t\tif ( arguments.length ) {\r\n\r\n\t\t\t\t\t// Store the droppable's proportions\r\n\t\t\t\t\tproportions = arguments[ 0 ];\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Retrieve or derive the droppable's proportions\r\n\t\t\t\t\treturn proportions ?\r\n\t\t\t\t\t\tproportions :\r\n\t\t\t\t\t\tproportions = {\r\n\t\t\t\t\t\t\twidth: this.element[ 0 ].offsetWidth,\r\n\t\t\t\t\t\t\theight: this.element[ 0 ].offsetHeight\r\n\t\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tthis._addToManager( o.scope );\r\n\r\n\t\t\to.addClasses && this._addClass( \"ui-droppable\" );\r\n\r\n\t\t},\r\n\r\n\t\t_addToManager: function( scope ) {\r\n\r\n\t\t\t// Add the reference and positions to the manager\r\n\t\t\tddmanager.droppables[ scope ] = ddmanager.droppables[ scope ] || [];\r\n\t\t\tddmanager.droppables[ scope ].push( this );\r\n\t\t},\r\n\r\n\t\t_splice: function( drop ) {\r\n\t\t\tvar i = 0;\r\n\t\t\tfor ( ; i < drop.length; i++ ) {\r\n\t\t\t\tif ( drop[ i ] === this ) {\r\n\t\t\t\t\tdrop.splice( i, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\t\t\tvar drop = ddmanager.droppables[ this.options.scope ];\r\n\r\n\t\t\tthis._splice( drop );\r\n\t\t},\r\n\r\n\t\t_setOption: function( key, value ) {\r\n\r\n\t\t\tif ( key === \"accept\" ) {\r\n\t\t\t\tthis.accept = langx.isFunction( value ) ? value : function( d ) {\r\n\t\t\t\t\treturn d.is( value );\r\n\t\t\t\t};\r\n\t\t\t} else if ( key === \"scope\" ) {\r\n\t\t\t\tvar drop = ddmanager.droppables[ this.options.scope ];\r\n\r\n\t\t\t\tthis._splice( drop );\r\n\t\t\t\tthis._addToManager( value );\r\n\t\t\t}\r\n\r\n\t\t\tthis._super( key, value );\r\n\t\t},\r\n\r\n\t\t_activate: function( event ) {\r\n\t\t\tvar draggable = ddmanager.current;\r\n\r\n\t\t\tthis._addActiveClass();\r\n\t\t\tif ( draggable ) {\r\n\t\t\t\tthis._trigger( \"activate\", event, this.ui( draggable ) );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_deactivate: function( event ) {\r\n\t\t\tvar draggable = ddmanager.current;\r\n\r\n\t\t\tthis._removeActiveClass();\r\n\t\t\tif ( draggable ) {\r\n\t\t\t\tthis._trigger( \"deactivate\", event, this.ui( draggable ) );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_over: function( event ) {\r\n\r\n\t\t\tvar draggable = ddmanager.current;\r\n\r\n\t\t\t// Bail if draggable and droppable are same element\r\n\t\t\tif ( !draggable || ( draggable.currentItem ||\r\n\t\t\t\t\tdraggable.element )[ 0 ] === this.element[ 0 ] ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.accept.call( this.element[ 0 ], ( draggable.currentItem ||\r\n\t\t\t\t\tdraggable.element ) ) ) {\r\n\t\t\t\tthis._addHoverClass();\r\n\t\t\t\tthis._trigger( \"over\", event, this.ui( draggable ) );\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_out: function( event ) {\r\n\r\n\t\t\tvar draggable = ddmanager.current;\r\n\r\n\t\t\t// Bail if draggable and droppable are same element\r\n\t\t\tif ( !draggable || ( draggable.currentItem ||\r\n\t\t\t\t\tdraggable.element )[ 0 ] === this.element[ 0 ] ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.accept.call( this.element[ 0 ], ( draggable.currentItem ||\r\n\t\t\t\t\tdraggable.element ) ) ) {\r\n\t\t\t\tthis._removeHoverClass();\r\n\t\t\t\tthis._trigger( \"out\", event, this.ui( draggable ) );\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_drop: function( event, custom ) {\r\n\r\n\t\t\tvar draggable = custom || ddmanager.current,\r\n\t\t\t\tchildrenIntersection = false;\r\n\r\n\t\t\t// Bail if draggable and droppable are same element\r\n\t\t\tif ( !draggable || ( draggable.currentItem ||\r\n\t\t\t\t\tdraggable.element )[ 0 ] === this.element[ 0 ] ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthis.element\r\n\t\t\t\t.find( \":data(ui-droppable)\" )\r\n\t\t\t\t.not( \".ui-draggable-dragging\" )\r\n\t\t\t\t.each( function() {\r\n\t\t\t\t\tvar inst = $( this ).droppable( \"instance\" );\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tinst.options.greedy &&\r\n\t\t\t\t\t\t!inst.options.disabled &&\r\n\t\t\t\t\t\tinst.options.scope === draggable.options.scope &&\r\n\t\t\t\t\t\tinst.accept.call(\r\n\t\t\t\t\t\t\tinst.element[ 0 ], ( draggable.currentItem || draggable.element )\r\n\t\t\t\t\t\t) &&\r\n\t\t\t\t\t\tddmanager.intersect(\r\n\t\t\t\t\t\t\tdraggable,\r\n\t\t\t\t\t\t\tlangx.extend( inst, { offset: inst.element.offset() } ),\r\n\t\t\t\t\t\t\tinst.options.tolerance, event\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tchildrenIntersection = true;\r\n\t\t\t\t\t\treturn false; }\r\n\t\t\t\t} );\r\n\t\t\tif ( childrenIntersection ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.accept.call( this.element[ 0 ],\r\n\t\t\t\t\t( draggable.currentItem || draggable.element ) ) ) {\r\n\t\t\t\tthis._removeActiveClass();\r\n\t\t\t\tthis._removeHoverClass();\r\n\r\n\t\t\t\tthis._trigger( \"drop\", event, this.ui( draggable ) );\r\n\t\t\t\treturn this.element;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\r\n\t\tui: function( c ) {\r\n\t\t\treturn {\r\n\t\t\t\tdraggable: ( c.currentItem || c.element ),\r\n\t\t\t\thelper: c.helper,\r\n\t\t\t\tposition: c.position,\r\n\t\t\t\toffset: c.positionAbs\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// Extension points just to make backcompat sane and avoid duplicating logic\r\n\t\t// TODO: Remove in 1.13 along with call to it below\r\n\t\t_addHoverClass: function() {\r\n\t\t\tthis._addClass( \"ui-droppable-hover\" );\r\n\t\t},\r\n\r\n\t\t_removeHoverClass: function() {\r\n\t\t\tthis._removeClass( \"ui-droppable-hover\" );\r\n\t\t},\r\n\r\n\t\t_addActiveClass: function() {\r\n\t\t\tthis._addClass( \"ui-droppable-active\" );\r\n\t\t},\r\n\r\n\t\t_removeActiveClass: function() {\r\n\t\t\tthis._removeClass( \"ui-droppable-active\" );\r\n\t\t}\r\n\t} );\r\n\r\n\tplugins.register(Droppable,\"droppable\");\r\n\r\n\treturn Droppable;\r\n\r\n});\r\n\ndefine( 'skylark-jqueryui-interact/Resizable',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-data\",\r\n\t\"skylark-domx-eventer\",\r\n\t\"skylark-domx-noder\",\r\n\t\"skylark-domx-query\",\r\n\t\"skylark-domx-plugins-base\",\r\n\t\"./Mouse\",\r\n\t\"./patch\",\r\n\t\"./ddmanager\",\r\n],function(langx, datax, eventer, noder, $, plugins, Mouse, patch, ddmanager) {\r\n\r\n\tvar Resizable = Mouse.inherit({\r\n\t\tklassName: \"Resizable\",\r\n\r\n\t\tpluginName : \"ui.resizable\",\r\n\t\r\n\t\twidgetEventPrefix: \"resize\",\r\n\r\n\t\toptions: {\r\n\t\t\talsoResize: false,\r\n\t\t\tanimate: false,\r\n\t\t\tanimateDuration: \"slow\",\r\n\t\t\tanimateEasing: \"swing\",\r\n\t\t\taspectRatio: false,\r\n\t\t\tautoHide: false,\r\n\t\t\tclasses: {\r\n\t\t\t\t\"ui-resizable-se\": \"ui-icon ui-icon-gripsmall-diagonal-se\"\r\n\t\t\t},\r\n\t\t\tcontainment: false,\r\n\t\t\tghost: false,\r\n\t\t\tgrid: false,\r\n\t\t\thandles: \"e,s,se\",\r\n\t\t\thelper: false,\r\n\t\t\tmaxHeight: null,\r\n\t\t\tmaxWidth: null,\r\n\t\t\tminHeight: 10,\r\n\t\t\tminWidth: 10,\r\n\r\n\t\t\t// See #7960\r\n\t\t\tzIndex: 90,\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tresize: null,\r\n\t\t\tstart: null,\r\n\t\t\tstop: null\r\n\t\t},\r\n\r\n\t\t_num: function( value ) {\r\n\t\t\treturn parseFloat( value ) || 0;\r\n\t\t},\r\n\r\n\t\t_isNumber: function( value ) {\r\n\t\t\treturn !isNaN( parseFloat( value ) );\r\n\t\t},\r\n\r\n\t\t_hasScroll: function( el, a ) {\r\n\r\n\t\t\tif ( $( el ).css( \"overflow\" ) === \"hidden\" ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tvar scroll = ( a && a === \"left\" ) ? \"scrollLeft\" : \"scrollTop\",\r\n\t\t\t\thas = false;\r\n\r\n\t\t\tif ( el[ scroll ] > 0 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t// TODO: determine which cases actually cause this to happen\r\n\t\t\t// if the element doesn't have the scroll set, see if it's possible to\r\n\t\t\t// set the scroll\r\n\t\t\tel[ scroll ] = 1;\r\n\t\t\thas = ( el[ scroll ] > 0 );\r\n\t\t\tel[ scroll ] = 0;\r\n\t\t\treturn has;\r\n\t\t},\r\n\r\n\t\t_create: function() {\r\n\r\n\t\t\tvar margins,\r\n\t\t\t\to = this.options,\r\n\t\t\t\tthat = this;\r\n\t\t\tthis._addClass( \"ui-resizable\" );\r\n\r\n\t\t\tlangx.extend( this, {\r\n\t\t\t\t_aspectRatio: !!( o.aspectRatio ),\r\n\t\t\t\taspectRatio: o.aspectRatio,\r\n\t\t\t\toriginalElement: this.element,\r\n\t\t\t\t_proportionallyResizeElements: [],\r\n\t\t\t\t_helper: o.helper || o.ghost || o.animate ? o.helper || \"ui-resizable-helper\" : null\r\n\t\t\t} );\r\n\r\n\t\t\t// Wrap the element if it cannot hold child nodes\r\n\t\t\tif ( this.element[ 0 ].nodeName.match( /^(canvas|textarea|input|select|button|img)$/i ) ) {\r\n\r\n\t\t\t\tthis.element.wrap(\r\n\t\t\t\t\t$( \"<div class='ui-wrapper' style='overflow: hidden;'></div>\" ).css( {\r\n\t\t\t\t\t\tposition: this.element.css( \"position\" ),\r\n\t\t\t\t\t\twidth: this.element.outerWidth(),\r\n\t\t\t\t\t\theight: this.element.outerHeight(),\r\n\t\t\t\t\t\ttop: this.element.css( \"top\" ),\r\n\t\t\t\t\t\tleft: this.element.css( \"left\" )\r\n\t\t\t\t\t} )\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.element = this.element.parent().data(\r\n\t\t\t\t\t\"ui-resizable\", this.element.resizable( \"instance\" )\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.elementIsWrapper = true;\r\n\r\n\t\t\t\tmargins = {\r\n\t\t\t\t\tmarginTop: this.originalElement.css( \"marginTop\" ),\r\n\t\t\t\t\tmarginRight: this.originalElement.css( \"marginRight\" ),\r\n\t\t\t\t\tmarginBottom: this.originalElement.css( \"marginBottom\" ),\r\n\t\t\t\t\tmarginLeft: this.originalElement.css( \"marginLeft\" )\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.element.css( margins );\r\n\t\t\t\tthis.originalElement.css( \"margin\", 0 );\r\n\r\n\t\t\t\t// support: Safari\r\n\t\t\t\t// Prevent Safari textarea resize\r\n\t\t\t\tthis.originalResizeStyle = this.originalElement.css( \"resize\" );\r\n\t\t\t\tthis.originalElement.css( \"resize\", \"none\" );\r\n\r\n\t\t\t\tthis._proportionallyResizeElements.push( this.originalElement.css( {\r\n\t\t\t\t\tposition: \"static\",\r\n\t\t\t\t\tzoom: 1,\r\n\t\t\t\t\tdisplay: \"block\"\r\n\t\t\t\t}));\r\n\r\n\t\t\t\t// Support: IE9\r\n\t\t\t\t// avoid IE jump (hard set the margin)\r\n\t\t\t\tthis.originalElement.css( margins );\r\n\r\n\t\t\t\tthis._proportionallyResize();\r\n\t\t\t}\r\n\r\n\t\t\tthis._setupHandles();\r\n\r\n\t\t\tif ( o.autoHide ) {\r\n\t\t\t\t$( this.element )\r\n\t\t\t\t\t.on( \"mouseenter\", function() {\r\n\t\t\t\t\t\tif ( o.disabled ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat._removeClass( \"ui-resizable-autohide\" );\r\n\t\t\t\t\t\tthat._handles.show();\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.on( \"mouseleave\", function() {\r\n\t\t\t\t\t\tif ( o.disabled ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( !that.resizing ) {\r\n\t\t\t\t\t\t\tthat._addClass( \"ui-resizable-autohide\" );\r\n\t\t\t\t\t\t\tthat._handles.hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tthis._mouseInit();\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\r\n\t\t\tthis._mouseDestroy();\r\n\t\t\tthis._addedHandles.remove();\r\n\r\n\t\t\tvar wrapper,\r\n\t\t\t\t_destroy = function( exp ) {\r\n\t\t\t\t\t$( exp )\r\n\t\t\t\t\t\t.removeData( \"resizable\" )\r\n\t\t\t\t\t\t.removeData( \"ui-resizable\" )\r\n\t\t\t\t\t\t.off( \".resizable\" );\r\n\t\t\t\t};\r\n\r\n\t\t\t// TODO: Unwrap at same DOM position\r\n\t\t\tif ( this.elementIsWrapper ) {\r\n\t\t\t\t_destroy( this.element );\r\n\t\t\t\twrapper = this.element;\r\n\t\t\t\tthis.originalElement.css( {\r\n\t\t\t\t\tposition: wrapper.css( \"position\" ),\r\n\t\t\t\t\twidth: wrapper.outerWidth(),\r\n\t\t\t\t\theight: wrapper.outerHeight(),\r\n\t\t\t\t\ttop: wrapper.css( \"top\" ),\r\n\t\t\t\t\tleft: wrapper.css( \"left\" )\r\n\t\t\t\t} ).insertAfter( wrapper );\r\n\t\t\t\twrapper.remove();\r\n\t\t\t}\r\n\r\n\t\t\tthis.originalElement.css( \"resize\", this.originalResizeStyle );\r\n\t\t\t_destroy( this.originalElement );\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t_setOption: function( key, value ) {\r\n\t\t\tthis._super( key, value );\r\n\r\n\t\t\tswitch ( key ) {\r\n\t\t\tcase \"handles\":\r\n\t\t\t\tthis._removeHandles();\r\n\t\t\t\tthis._setupHandles();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"aspectRatio\":\r\n\t\t\t\tthis._aspectRatio = !!value;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setupHandles: function() {\r\n\t\t\tvar o = this.options, handle, i, n, hname, axis, that = this;\r\n\t\t\tthis.handles = o.handles ||\r\n\t\t\t\t( !$( \".ui-resizable-handle\", this.element ).length ?\r\n\t\t\t\t\t\"e,s,se\" : {\r\n\t\t\t\t\t\tn: \".ui-resizable-n\",\r\n\t\t\t\t\t\te: \".ui-resizable-e\",\r\n\t\t\t\t\t\ts: \".ui-resizable-s\",\r\n\t\t\t\t\t\tw: \".ui-resizable-w\",\r\n\t\t\t\t\t\tse: \".ui-resizable-se\",\r\n\t\t\t\t\t\tsw: \".ui-resizable-sw\",\r\n\t\t\t\t\t\tne: \".ui-resizable-ne\",\r\n\t\t\t\t\t\tnw: \".ui-resizable-nw\"\r\n\t\t\t\t\t} );\r\n\r\n\t\t\tthis._handles = $();\r\n\t\t\tthis._addedHandles = $();\r\n\t\t\tif ( this.handles.constructor === String ) {\r\n\r\n\t\t\t\tif ( this.handles === \"all\" ) {\r\n\t\t\t\t\tthis.handles = \"n,e,s,w,se,sw,ne,nw\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tn = this.handles.split( \",\" );\r\n\t\t\t\tthis.handles = {};\r\n\r\n\t\t\t\tfor ( i = 0; i < n.length; i++ ) {\r\n\r\n\t\t\t\t\thandle = langx.trim( n[ i ] );\r\n\t\t\t\t\thname = \"ui-resizable-\" + handle;\r\n\t\t\t\t\taxis = $( \"<div>\" );\r\n\t\t\t\t\tthis._addClass( axis, \"ui-resizable-handle \" + hname );\r\n\r\n\t\t\t\t\taxis.css( { zIndex: o.zIndex } );\r\n\r\n\t\t\t\t\tthis.handles[ handle ] = \".ui-resizable-\" + handle;\r\n\t\t\t\t\tif ( !this.element.children( this.handles[ handle ] ).length ) {\r\n\t\t\t\t\t\tthis.element.append( axis );\r\n\t\t\t\t\t\tthis._addedHandles = this._addedHandles.add( axis );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._renderAxis = function( target ) {\r\n\r\n\t\t\t\tvar i, axis, padPos, padWrapper;\r\n\r\n\t\t\t\ttarget = target || this.element;\r\n\r\n\t\t\t\tfor ( i in this.handles ) {\r\n\r\n\t\t\t\t\tif ( this.handles[ i ].constructor === String ) {\r\n\t\t\t\t\t\tthis.handles[ i ] = this.element.children( this.handles[ i ] ).first().show();\r\n\t\t\t\t\t} else if ( this.handles[ i ].jquery || this.handles[ i ].nodeType ) {\r\n\t\t\t\t\t\tthis.handles[ i ] = $( this.handles[ i ] );\r\n\t\t\t\t\t\tthis._on( this.handles[ i ], { \"mousedown\": that._mouseDown } );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.elementIsWrapper &&\r\n\t\t\t\t\t\t\tthis.originalElement[ 0 ]\r\n\t\t\t\t\t\t\t\t.nodeName\r\n\t\t\t\t\t\t\t\t.match( /^(textarea|input|select|button)$/i ) ) {\r\n\t\t\t\t\t\taxis = $( this.handles[ i ], this.element );\r\n\r\n\t\t\t\t\t\tpadWrapper = /sw|ne|nw|se|n|s/.test( i ) ?\r\n\t\t\t\t\t\t\taxis.outerHeight() :\r\n\t\t\t\t\t\t\taxis.outerWidth();\r\n\r\n\t\t\t\t\t\tpadPos = [ \"padding\",\r\n\t\t\t\t\t\t\t/ne|nw|n/.test( i ) ? \"Top\" :\r\n\t\t\t\t\t\t\t/se|sw|s/.test( i ) ? \"Bottom\" :\r\n\t\t\t\t\t\t\t/^e$/.test( i ) ? \"Right\" : \"Left\" ].join( \"\" );\r\n\r\n\t\t\t\t\t\ttarget.css( padPos, padWrapper );\r\n\r\n\t\t\t\t\t\tthis._proportionallyResize();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._handles = this._handles.add( this.handles[ i ] );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// TODO: make renderAxis a prototype function\r\n\t\t\tthis._renderAxis( this.element );\r\n\r\n\t\t\tthis._handles = this._handles.add( this.element.find( \".ui-resizable-handle\" ) );\r\n\t\t\tthis._handles.disableSelection();\r\n\r\n\t\t\tthis._handles.on( \"mouseover\", function() {\r\n\t\t\t\tif ( !that.resizing ) {\r\n\t\t\t\t\tif ( this.className ) {\r\n\t\t\t\t\t\taxis = this.className.match( /ui-resizable-(se|sw|ne|nw|n|e|s|w)/i );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.axis = axis && axis[ 1 ] ? axis[ 1 ] : \"se\";\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tif ( o.autoHide ) {\r\n\t\t\t\tthis._handles.hide();\r\n\t\t\t\tthis._addClass( \"ui-resizable-autohide\" );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_removeHandles: function() {\r\n\t\t\tthis._addedHandles.remove();\r\n\t\t},\r\n\r\n\t\t_mouseCapture: function( event ) {\r\n\t\t\tvar i, handle,\r\n\t\t\t\tcapture = false;\r\n\r\n\t\t\tfor ( i in this.handles ) {\r\n\t\t\t\thandle = $( this.handles[ i ] )[ 0 ];\r\n\t\t\t\tif ( handle === event.target || noder.contains( handle, event.target ) ) {\r\n\t\t\t\t\tcapture = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn !this.options.disabled && capture;\r\n\t\t},\r\n\r\n\t\t_mouseStart: function( event ) {\r\n\r\n\t\t\tvar curleft, curtop, cursor,\r\n\t\t\t\to = this.options,\r\n\t\t\t\tel = this.element;\r\n\r\n\t\t\tthis.resizing = true;\r\n\r\n\t\t\tthis._renderProxy();\r\n\r\n\t\t\tcurleft = this._num( this.helper.css( \"left\" ) );\r\n\t\t\tcurtop = this._num( this.helper.css( \"top\" ) );\r\n\r\n\t\t\tif ( o.containment ) {\r\n\t\t\t\tcurleft += $( o.containment ).scrollLeft() || 0;\r\n\t\t\t\tcurtop += $( o.containment ).scrollTop() || 0;\r\n\t\t\t}\r\n\r\n\t\t\tthis.offset = this.helper.offset();\r\n\t\t\tthis.position = { left: curleft, top: curtop };\r\n\r\n\t\t\tthis.size = this._helper ? {\r\n\t\t\t\t\twidth: this.helper.width(),\r\n\t\t\t\t\theight: this.helper.height()\r\n\t\t\t\t} : {\r\n\t\t\t\t\twidth: el.width(),\r\n\t\t\t\t\theight: el.height()\r\n\t\t\t\t};\r\n\r\n\t\t\tthis.originalSize = this._helper ? {\r\n\t\t\t\t\twidth: el.outerWidth(),\r\n\t\t\t\t\theight: el.outerHeight()\r\n\t\t\t\t} : {\r\n\t\t\t\t\twidth: el.width(),\r\n\t\t\t\t\theight: el.height()\r\n\t\t\t\t};\r\n\r\n\t\t\tthis.sizeDiff = {\r\n\t\t\t\twidth: el.outerWidth() - el.width(),\r\n\t\t\t\theight: el.outerHeight() - el.height()\r\n\t\t\t};\r\n\r\n\t\t\tthis.originalPosition = { left: curleft, top: curtop };\r\n\t\t\tthis.originalMousePosition = { left: event.pageX, top: event.pageY };\r\n\r\n\t\t\tthis.aspectRatio = ( typeof o.aspectRatio === \"number\" ) ?\r\n\t\t\t\to.aspectRatio :\r\n\t\t\t\t( ( this.originalSize.width / this.originalSize.height ) || 1 );\r\n\r\n\t\t\tcursor = $( \".ui-resizable-\" + this.axis ).css( \"cursor\" );\r\n\t\t\t$( \"body\" ).css( \"cursor\", cursor === \"auto\" ? this.axis + \"-resize\" : cursor );\r\n\r\n\t\t\tthis._addClass( \"ui-resizable-resizing\" );\r\n\t\t\tthis._propagate( \"start\", event );\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t_mouseDrag: function( event ) {\r\n\r\n\t\t\tvar data, props,\r\n\t\t\t\tsmp = this.originalMousePosition,\r\n\t\t\t\ta = this.axis,\r\n\t\t\t\tdx = ( event.pageX - smp.left ) || 0,\r\n\t\t\t\tdy = ( event.pageY - smp.top ) || 0,\r\n\t\t\t\ttrigger = this._change[ a ];\r\n\r\n\t\t\tthis._updatePrevProperties();\r\n\r\n\t\t\tif ( !trigger ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tdata = trigger.apply( this, [ event, dx, dy ] );\r\n\r\n\t\t\tthis._updateVirtualBoundaries( event.shiftKey );\r\n\t\t\tif ( this._aspectRatio || event.shiftKey ) {\r\n\t\t\t\tdata = this._updateRatio( data, event );\r\n\t\t\t}\r\n\r\n\t\t\tdata = this._respectSize( data, event );\r\n\r\n\t\t\tthis._updateCache( data );\r\n\r\n\t\t\tthis._propagate( \"resize\", event );\r\n\r\n\t\t\tprops = this._applyChanges();\r\n\r\n\t\t\tif ( !this._helper && this._proportionallyResizeElements.length ) {\r\n\t\t\t\tthis._proportionallyResize();\r\n\t\t\t}\r\n\r\n\t\t\tif ( !langx.isEmptyObject( props ) ) {\r\n\t\t\t\tthis._updatePrevProperties();\r\n\t\t\t\tthis._trigger( \"resize\", event, this.ui() );\r\n\t\t\t\tthis._applyChanges();\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_mouseStop: function( event ) {\r\n\r\n\t\t\tthis.resizing = false;\r\n\t\t\tvar pr, ista, soffseth, soffsetw, s, left, top,\r\n\t\t\t\to = this.options, that = this;\r\n\r\n\t\t\tif ( this._helper ) {\r\n\r\n\t\t\t\tpr = this._proportionallyResizeElements;\r\n\t\t\t\tista = pr.length && ( /textarea/i ).test( pr[ 0 ].nodeName );\r\n\t\t\t\tsoffseth = ista && this._hasScroll( pr[ 0 ], \"left\" ) ? 0 : that.sizeDiff.height;\r\n\t\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width;\r\n\r\n\t\t\t\ts = {\r\n\t\t\t\t\twidth: ( that.helper.width()  - soffsetw ),\r\n\t\t\t\t\theight: ( that.helper.height() - soffseth )\r\n\t\t\t\t};\r\n\t\t\t\tleft = ( parseFloat( that.element.css( \"left\" ) ) +\r\n\t\t\t\t\t( that.position.left - that.originalPosition.left ) ) || null;\r\n\t\t\t\ttop = ( parseFloat( that.element.css( \"top\" ) ) +\r\n\t\t\t\t\t( that.position.top - that.originalPosition.top ) ) || null;\r\n\r\n\t\t\t\tif ( !o.animate ) {\r\n\t\t\t\t\tthis.element.css( langx.extend( s, { top: top, left: left }));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.helper.height( that.size.height );\r\n\t\t\t\tthat.helper.width( that.size.width );\r\n\r\n\t\t\t\tif ( this._helper && !o.animate ) {\r\n\t\t\t\t\tthis._proportionallyResize();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t$( \"body\" ).css( \"cursor\", \"auto\" );\r\n\r\n\t\t\tthis._removeClass( \"ui-resizable-resizing\" );\r\n\r\n\t\t\tthis._propagate( \"stop\", event );\r\n\r\n\t\t\tif ( this._helper ) {\r\n\t\t\t\tthis.helper.remove();\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\r\n\t\t_updatePrevProperties: function() {\r\n\t\t\tthis.prevPosition = {\r\n\t\t\t\ttop: this.position.top,\r\n\t\t\t\tleft: this.position.left\r\n\t\t\t};\r\n\t\t\tthis.prevSize = {\r\n\t\t\t\twidth: this.size.width,\r\n\t\t\t\theight: this.size.height\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_applyChanges: function() {\r\n\t\t\tvar props = {};\r\n\r\n\t\t\tif ( this.position.top !== this.prevPosition.top ) {\r\n\t\t\t\tprops.top = this.position.top + \"px\";\r\n\t\t\t}\r\n\t\t\tif ( this.position.left !== this.prevPosition.left ) {\r\n\t\t\t\tprops.left = this.position.left + \"px\";\r\n\t\t\t}\r\n\t\t\tif ( this.size.width !== this.prevSize.width ) {\r\n\t\t\t\tprops.width = this.size.width + \"px\";\r\n\t\t\t}\r\n\t\t\tif ( this.size.height !== this.prevSize.height ) {\r\n\t\t\t\tprops.height = this.size.height + \"px\";\r\n\t\t\t}\r\n\r\n\t\t\tthis.helper.css( props );\r\n\r\n\t\t\treturn props;\r\n\t\t},\r\n\r\n\t\t_updateVirtualBoundaries: function( forceAspectRatio ) {\r\n\t\t\tvar pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b,\r\n\t\t\t\to = this.options;\r\n\r\n\t\t\tb = {\r\n\t\t\t\tminWidth: this._isNumber( o.minWidth ) ? o.minWidth : 0,\r\n\t\t\t\tmaxWidth: this._isNumber( o.maxWidth ) ? o.maxWidth : Infinity,\r\n\t\t\t\tminHeight: this._isNumber( o.minHeight ) ? o.minHeight : 0,\r\n\t\t\t\tmaxHeight: this._isNumber( o.maxHeight ) ? o.maxHeight : Infinity\r\n\t\t\t};\r\n\r\n\t\t\tif ( this._aspectRatio || forceAspectRatio ) {\r\n\t\t\t\tpMinWidth = b.minHeight * this.aspectRatio;\r\n\t\t\t\tpMinHeight = b.minWidth / this.aspectRatio;\r\n\t\t\t\tpMaxWidth = b.maxHeight * this.aspectRatio;\r\n\t\t\t\tpMaxHeight = b.maxWidth / this.aspectRatio;\r\n\r\n\t\t\t\tif ( pMinWidth > b.minWidth ) {\r\n\t\t\t\t\tb.minWidth = pMinWidth;\r\n\t\t\t\t}\r\n\t\t\t\tif ( pMinHeight > b.minHeight ) {\r\n\t\t\t\t\tb.minHeight = pMinHeight;\r\n\t\t\t\t}\r\n\t\t\t\tif ( pMaxWidth < b.maxWidth ) {\r\n\t\t\t\t\tb.maxWidth = pMaxWidth;\r\n\t\t\t\t}\r\n\t\t\t\tif ( pMaxHeight < b.maxHeight ) {\r\n\t\t\t\t\tb.maxHeight = pMaxHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._vBoundaries = b;\r\n\t\t},\r\n\r\n\t\t_updateCache: function( data ) {\r\n\t\t\tthis.offset = this.helper.offset();\r\n\t\t\tif ( this._isNumber( data.left ) ) {\r\n\t\t\t\tthis.position.left = data.left;\r\n\t\t\t}\r\n\t\t\tif ( this._isNumber( data.top ) ) {\r\n\t\t\t\tthis.position.top = data.top;\r\n\t\t\t}\r\n\t\t\tif ( this._isNumber( data.height ) ) {\r\n\t\t\t\tthis.size.height = data.height;\r\n\t\t\t}\r\n\t\t\tif ( this._isNumber( data.width ) ) {\r\n\t\t\t\tthis.size.width = data.width;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_updateRatio: function( data ) {\r\n\r\n\t\t\tvar cpos = this.position,\r\n\t\t\t\tcsize = this.size,\r\n\t\t\t\ta = this.axis;\r\n\r\n\t\t\tif ( this._isNumber( data.height ) ) {\r\n\t\t\t\tdata.width = ( data.height * this.aspectRatio );\r\n\t\t\t} else if ( this._isNumber( data.width ) ) {\r\n\t\t\t\tdata.height = ( data.width / this.aspectRatio );\r\n\t\t\t}\r\n\r\n\t\t\tif ( a === \"sw\" ) {\r\n\t\t\t\tdata.left = cpos.left + ( csize.width - data.width );\r\n\t\t\t\tdata.top = null;\r\n\t\t\t}\r\n\t\t\tif ( a === \"nw\" ) {\r\n\t\t\t\tdata.top = cpos.top + ( csize.height - data.height );\r\n\t\t\t\tdata.left = cpos.left + ( csize.width - data.width );\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\t_respectSize: function( data ) {\r\n\r\n\t\t\tvar o = this._vBoundaries,\r\n\t\t\t\ta = this.axis,\r\n\t\t\t\tismaxw = this._isNumber( data.width ) && o.maxWidth && ( o.maxWidth < data.width ),\r\n\t\t\t\tismaxh = this._isNumber( data.height ) && o.maxHeight && ( o.maxHeight < data.height ),\r\n\t\t\t\tisminw = this._isNumber( data.width ) && o.minWidth && ( o.minWidth > data.width ),\r\n\t\t\t\tisminh = this._isNumber( data.height ) && o.minHeight && ( o.minHeight > data.height ),\r\n\t\t\t\tdw = this.originalPosition.left + this.originalSize.width,\r\n\t\t\t\tdh = this.originalPosition.top + this.originalSize.height,\r\n\t\t\t\tcw = /sw|nw|w/.test( a ), ch = /nw|ne|n/.test( a );\r\n\t\t\tif ( isminw ) {\r\n\t\t\t\tdata.width = o.minWidth;\r\n\t\t\t}\r\n\t\t\tif ( isminh ) {\r\n\t\t\t\tdata.height = o.minHeight;\r\n\t\t\t}\r\n\t\t\tif ( ismaxw ) {\r\n\t\t\t\tdata.width = o.maxWidth;\r\n\t\t\t}\r\n\t\t\tif ( ismaxh ) {\r\n\t\t\t\tdata.height = o.maxHeight;\r\n\t\t\t}\r\n\r\n\t\t\tif ( isminw && cw ) {\r\n\t\t\t\tdata.left = dw - o.minWidth;\r\n\t\t\t}\r\n\t\t\tif ( ismaxw && cw ) {\r\n\t\t\t\tdata.left = dw - o.maxWidth;\r\n\t\t\t}\r\n\t\t\tif ( isminh && ch ) {\r\n\t\t\t\tdata.top = dh - o.minHeight;\r\n\t\t\t}\r\n\t\t\tif ( ismaxh && ch ) {\r\n\t\t\t\tdata.top = dh - o.maxHeight;\r\n\t\t\t}\r\n\r\n\t\t\t// Fixing jump error on top/left - bug #2330\r\n\t\t\tif ( !data.width && !data.height && !data.left && data.top ) {\r\n\t\t\t\tdata.top = null;\r\n\t\t\t} else if ( !data.width && !data.height && !data.top && data.left ) {\r\n\t\t\t\tdata.left = null;\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\t_getPaddingPlusBorderDimensions: function( element ) {\r\n\t\t\tvar i = 0,\r\n\t\t\t\twidths = [],\r\n\t\t\t\tborders = [\r\n\t\t\t\t\telement.css( \"borderTopWidth\" ),\r\n\t\t\t\t\telement.css( \"borderRightWidth\" ),\r\n\t\t\t\t\telement.css( \"borderBottomWidth\" ),\r\n\t\t\t\t\telement.css( \"borderLeftWidth\" )\r\n\t\t\t\t],\r\n\t\t\t\tpaddings = [\r\n\t\t\t\t\telement.css( \"paddingTop\" ),\r\n\t\t\t\t\telement.css( \"paddingRight\" ),\r\n\t\t\t\t\telement.css( \"paddingBottom\" ),\r\n\t\t\t\t\telement.css( \"paddingLeft\" )\r\n\t\t\t\t];\r\n\r\n\t\t\tfor ( ; i < 4; i++ ) {\r\n\t\t\t\twidths[ i ] = ( parseFloat( borders[ i ] ) || 0 );\r\n\t\t\t\twidths[ i ] += ( parseFloat( paddings[ i ] ) || 0 );\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\theight: widths[ 0 ] + widths[ 2 ],\r\n\t\t\t\twidth: widths[ 1 ] + widths[ 3 ]\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_proportionallyResize: function() {\r\n\r\n\t\t\tif ( !this._proportionallyResizeElements.length ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar prel,\r\n\t\t\t\ti = 0,\r\n\t\t\t\telement = this.helper || this.element;\r\n\r\n\t\t\tfor ( ; i < this._proportionallyResizeElements.length; i++ ) {\r\n\r\n\t\t\t\tprel = this._proportionallyResizeElements[ i ];\r\n\r\n\t\t\t\t// TODO: Seems like a bug to cache this.outerDimensions\r\n\t\t\t\t// considering that we are in a loop.\r\n\t\t\t\tif ( !this.outerDimensions ) {\r\n\t\t\t\t\tthis.outerDimensions = this._getPaddingPlusBorderDimensions( prel );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tprel.css( {\r\n\t\t\t\t\theight: ( element.height() - this.outerDimensions.height ) || 0,\r\n\t\t\t\t\twidth: ( element.width() - this.outerDimensions.width ) || 0\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_renderProxy: function() {\r\n\r\n\t\t\tvar el = this.element, o = this.options;\r\n\t\t\tthis.elementOffset = el.offset();\r\n\r\n\t\t\tif ( this._helper ) {\r\n\r\n\t\t\t\tthis.helper = this.helper || $( \"<div style='overflow:hidden;'></div>\" );\r\n\r\n\t\t\t\tthis._addClass( this.helper, this._helper );\r\n\t\t\t\tthis.helper.css( {\r\n\t\t\t\t\twidth: this.element.outerWidth(),\r\n\t\t\t\t\theight: this.element.outerHeight(),\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tleft: this.elementOffset.left + \"px\",\r\n\t\t\t\t\ttop: this.elementOffset.top + \"px\",\r\n\t\t\t\t\tzIndex: ++o.zIndex //TODO: Don't modify option\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tthis.helper\r\n\t\t\t\t\t.appendTo( \"body\" )\r\n\t\t\t\t\t.disableSelection();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthis.helper = this.element;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_change: {\r\n\t\t\te: function( event, dx ) {\r\n\t\t\t\treturn { width: this.originalSize.width + dx };\r\n\t\t\t},\r\n\t\t\tw: function( event, dx ) {\r\n\t\t\t\tvar cs = this.originalSize, sp = this.originalPosition;\r\n\t\t\t\treturn { left: sp.left + dx, width: cs.width - dx };\r\n\t\t\t},\r\n\t\t\tn: function( event, dx, dy ) {\r\n\t\t\t\tvar cs = this.originalSize, sp = this.originalPosition;\r\n\t\t\t\treturn { top: sp.top + dy, height: cs.height - dy };\r\n\t\t\t},\r\n\t\t\ts: function( event, dx, dy ) {\r\n\t\t\t\treturn { height: this.originalSize.height + dy };\r\n\t\t\t},\r\n\t\t\tse: function( event, dx, dy ) {\r\n\t\t\t\treturn langx.extend( this._change.s.apply( this, arguments ),\r\n\t\t\t\t\tthis._change.e.apply( this, [ event, dx, dy ] ) );\r\n\t\t\t},\r\n\t\t\tsw: function( event, dx, dy ) {\r\n\t\t\t\treturn langx.extend( this._change.s.apply( this, arguments ),\r\n\t\t\t\t\tthis._change.w.apply( this, [ event, dx, dy ] ) );\r\n\t\t\t},\r\n\t\t\tne: function( event, dx, dy ) {\r\n\t\t\t\treturn langx.extend( this._change.n.apply( this, arguments ),\r\n\t\t\t\t\tthis._change.e.apply( this, [ event, dx, dy ] ) );\r\n\t\t\t},\r\n\t\t\tnw: function( event, dx, dy ) {\r\n\t\t\t\treturn langx.extend( this._change.n.apply( this, arguments ),\r\n\t\t\t\t\tthis._change.w.apply( this, [ event, dx, dy ] ) );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_propagate: function( n, event ) {\r\n\t\t\tpatch.call( this, n, [ event, this.ui(), this ], true );\r\n\t\t\t//$.ui.plugin.call( this, n, [ event, this.ui() ] );\r\n\t\t\t( n !== \"resize\" && this._trigger( n, event, this.ui() ) );\r\n\t\t},\r\n\r\n\t\tpatches: {},\r\n\r\n\t\tui: function() {\r\n\t\t\treturn {\r\n\t\t\t\toriginalElement: this.originalElement,\r\n\t\t\t\telement: this.element,\r\n\t\t\t\thelper: this.helper,\r\n\t\t\t\tposition: this.position,\r\n\t\t\t\tsize: this.size,\r\n\t\t\t\toriginalSize: this.originalSize,\r\n\t\t\t\toriginalPosition: this.originalPosition\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\t/*\r\n\t * Resizable Extensions\r\n\t */\r\n\r\n\tpatch.add(Resizable, \"animate\", {\r\n\r\n\t\tstop: function( event ) {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tpr = that._proportionallyResizeElements,\r\n\t\t\t\tista = pr.length && ( /textarea/i ).test( pr[ 0 ].nodeName ),\r\n\t\t\t\tsoffseth = ista && that._hasScroll( pr[ 0 ], \"left\" ) ? 0 : that.sizeDiff.height,\r\n\t\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width,\r\n\t\t\t\tstyle = {\r\n\t\t\t\t\twidth: ( that.size.width - soffsetw ),\r\n\t\t\t\t\theight: ( that.size.height - soffseth )\r\n\t\t\t\t},\r\n\t\t\t\tleft = ( parseFloat( that.element.css( \"left\" ) ) +\r\n\t\t\t\t\t( that.position.left - that.originalPosition.left ) ) || null,\r\n\t\t\t\ttop = ( parseFloat( that.element.css( \"top\" ) ) +\r\n\t\t\t\t\t( that.position.top - that.originalPosition.top ) ) || null;\r\n\r\n\t\t\tthat.element.animate(\r\n\t\t\t\tlangx.extend( style, top && left ? { top: top, left: left } : {} ), {\r\n\t\t\t\t\tduration: o.animateDuration,\r\n\t\t\t\t\teasing: o.animateEasing,\r\n\t\t\t\t\tstep: function() {\r\n\r\n\t\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\t\twidth: parseFloat( that.element.css( \"width\" ) ),\r\n\t\t\t\t\t\t\theight: parseFloat( that.element.css( \"height\" ) ),\r\n\t\t\t\t\t\t\ttop: parseFloat( that.element.css( \"top\" ) ),\r\n\t\t\t\t\t\t\tleft: parseFloat( that.element.css( \"left\" ) )\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tif ( pr && pr.length ) {\r\n\t\t\t\t\t\t\t$( pr[ 0 ] ).css( { width: data.width, height: data.height } );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Propagating resize, and updating values for each animation step\r\n\t\t\t\t\t\tthat._updateCache( data );\r\n\t\t\t\t\t\tthat._propagate( \"resize\", event );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tpatch.add(Resizable, \"containment\", {\r\n\r\n\t\tstart: function() {\r\n\t\t\tvar element, p, co, ch, cw, width, height,\r\n\t\t\t\tthat = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tel = that.element,\r\n\t\t\t\toc = o.containment,\r\n\t\t\t\tce = ( oc instanceof $ ) ?\r\n\t\t\t\t\toc.get( 0 ) :\r\n\t\t\t\t\t( /parent/.test( oc ) ) ? el.parent().get( 0 ) : oc;\r\n\r\n\t\t\tif ( !ce ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthat.containerElement = $( ce );\r\n\r\n\t\t\tif ( /document/.test( oc ) || oc === document ) {\r\n\t\t\t\tthat.containerOffset = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0\r\n\t\t\t\t};\r\n\t\t\t\tthat.containerPosition = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthat.parentData = {\r\n\t\t\t\t\telement: $( document ),\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: $( document ).width(),\r\n\t\t\t\t\theight: $( document ).height() || document.body.parentNode.scrollHeight\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\telement = $( ce );\r\n\t\t\t\tp = [];\r\n\t\t\t\t$( [ \"Top\", \"Right\", \"Left\", \"Bottom\" ] ).each( function( i, name ) {\r\n\t\t\t\t\tp[ i ] = that._num( element.css( \"padding\" + name ) );\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tthat.containerOffset = element.offset();\r\n\t\t\t\tthat.containerPosition = element.position();\r\n\t\t\t\tthat.containerSize = {\r\n\t\t\t\t\theight: ( element.innerHeight() - p[ 3 ] ),\r\n\t\t\t\t\twidth: ( element.innerWidth() - p[ 1 ] )\r\n\t\t\t\t};\r\n\r\n\t\t\t\tco = that.containerOffset;\r\n\t\t\t\tch = that.containerSize.height;\r\n\t\t\t\tcw = that.containerSize.width;\r\n\t\t\t\twidth = ( that._hasScroll ( ce, \"left\" ) ? ce.scrollWidth : cw );\r\n\t\t\t\theight = ( that._hasScroll ( ce ) ? ce.scrollHeight : ch ) ;\r\n\r\n\t\t\t\tthat.parentData = {\r\n\t\t\t\t\telement: ce,\r\n\t\t\t\t\tleft: co.left,\r\n\t\t\t\t\ttop: co.top,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tresize: function( event ) {\r\n\t\t\tvar woset, hoset, isParent, isOffsetRelative,\r\n\t\t\t\tthat = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tco = that.containerOffset,\r\n\t\t\t\tcp = that.position,\r\n\t\t\t\tpRatio = that._aspectRatio || event.shiftKey,\r\n\t\t\t\tcop = {\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0\r\n\t\t\t\t},\r\n\t\t\t\tce = that.containerElement,\r\n\t\t\t\tcontinueResize = true;\r\n\r\n\t\t\tif ( ce[ 0 ] !== document && ( /static/ ).test( ce.css( \"position\" ) ) ) {\r\n\t\t\t\tcop = co;\r\n\t\t\t}\r\n\r\n\t\t\tif ( cp.left < ( that._helper ? co.left : 0 ) ) {\r\n\t\t\t\tthat.size.width = that.size.width +\r\n\t\t\t\t\t( that._helper ?\r\n\t\t\t\t\t\t( that.position.left - co.left ) :\r\n\t\t\t\t\t\t( that.position.left - cop.left ) );\r\n\r\n\t\t\t\tif ( pRatio ) {\r\n\t\t\t\t\tthat.size.height = that.size.width / that.aspectRatio;\r\n\t\t\t\t\tcontinueResize = false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.position.left = o.helper ? co.left : 0;\r\n\t\t\t}\r\n\r\n\t\t\tif ( cp.top < ( that._helper ? co.top : 0 ) ) {\r\n\t\t\t\tthat.size.height = that.size.height +\r\n\t\t\t\t\t( that._helper ?\r\n\t\t\t\t\t\t( that.position.top - co.top ) :\r\n\t\t\t\t\t\tthat.position.top );\r\n\r\n\t\t\t\tif ( pRatio ) {\r\n\t\t\t\t\tthat.size.width = that.size.height * that.aspectRatio;\r\n\t\t\t\t\tcontinueResize = false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.position.top = that._helper ? co.top : 0;\r\n\t\t\t}\r\n\r\n\t\t\tisParent = that.containerElement.get( 0 ) === that.element.parent().get( 0 );\r\n\t\t\tisOffsetRelative = /relative|absolute/.test( that.containerElement.css( \"position\" ) );\r\n\r\n\t\t\tif ( isParent && isOffsetRelative ) {\r\n\t\t\t\tthat.offset.left = that.parentData.left + that.position.left;\r\n\t\t\t\tthat.offset.top = that.parentData.top + that.position.top;\r\n\t\t\t} else {\r\n\t\t\t\tthat.offset.left = that.element.offset().left;\r\n\t\t\t\tthat.offset.top = that.element.offset().top;\r\n\t\t\t}\r\n\r\n\t\t\twoset = Math.abs( that.sizeDiff.width +\r\n\t\t\t\t( that._helper ?\r\n\t\t\t\t\tthat.offset.left - cop.left :\r\n\t\t\t\t\t( that.offset.left - co.left ) ) );\r\n\r\n\t\t\thoset = Math.abs( that.sizeDiff.height +\r\n\t\t\t\t( that._helper ?\r\n\t\t\t\t\tthat.offset.top - cop.top :\r\n\t\t\t\t\t( that.offset.top - co.top ) ) );\r\n\r\n\t\t\tif ( woset + that.size.width >= that.parentData.width ) {\r\n\t\t\t\tthat.size.width = that.parentData.width - woset;\r\n\t\t\t\tif ( pRatio ) {\r\n\t\t\t\t\tthat.size.height = that.size.width / that.aspectRatio;\r\n\t\t\t\t\tcontinueResize = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( hoset + that.size.height >= that.parentData.height ) {\r\n\t\t\t\tthat.size.height = that.parentData.height - hoset;\r\n\t\t\t\tif ( pRatio ) {\r\n\t\t\t\t\tthat.size.width = that.size.height * that.aspectRatio;\r\n\t\t\t\t\tcontinueResize = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( !continueResize ) {\r\n\t\t\t\tthat.position.left = that.prevPosition.left;\r\n\t\t\t\tthat.position.top = that.prevPosition.top;\r\n\t\t\t\tthat.size.width = that.prevSize.width;\r\n\t\t\t\tthat.size.height = that.prevSize.height;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstop: function() {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tco = that.containerOffset,\r\n\t\t\t\tcop = that.containerPosition,\r\n\t\t\t\tce = that.containerElement,\r\n\t\t\t\thelper = $( that.helper ),\r\n\t\t\t\tho = helper.offset(),\r\n\t\t\t\tw = helper.outerWidth() - that.sizeDiff.width,\r\n\t\t\t\th = helper.outerHeight() - that.sizeDiff.height;\r\n\r\n\t\t\tif ( that._helper && !o.animate && ( /relative/ ).test( ce.css( \"position\" ) ) ) {\r\n\t\t\t\t$( this ).css( {\r\n\t\t\t\t\tleft: ho.left - cop.left - co.left,\r\n\t\t\t\t\twidth: w,\r\n\t\t\t\t\theight: h\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tif ( that._helper && !o.animate && ( /static/ ).test( ce.css( \"position\" ) ) ) {\r\n\t\t\t\t$( this ).css( {\r\n\t\t\t\t\tleft: ho.left - cop.left - co.left,\r\n\t\t\t\t\twidth: w,\r\n\t\t\t\t\theight: h\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add(Resizable, \"alsoResize\", {\r\n\r\n\t\tstart: function() {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options;\r\n\r\n\t\t\t$( o.alsoResize ).each( function() {\r\n\t\t\t\tvar el = $( this );\r\n\t\t\t\tel.data( \"ui-resizable-alsoresize\", {\r\n\t\t\t\t\twidth: parseFloat( el.width() ), height: parseFloat( el.height() ),\r\n\t\t\t\t\tleft: parseFloat( el.css( \"left\" ) ), top: parseFloat( el.css( \"top\" ) )\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\tresize: function( event, ui ) {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tos = that.originalSize,\r\n\t\t\t\top = that.originalPosition,\r\n\t\t\t\tdelta = {\r\n\t\t\t\t\theight: ( that.size.height - os.height ) || 0,\r\n\t\t\t\t\twidth: ( that.size.width - os.width ) || 0,\r\n\t\t\t\t\ttop: ( that.position.top - op.top ) || 0,\r\n\t\t\t\t\tleft: ( that.position.left - op.left ) || 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$( o.alsoResize ).each( function() {\r\n\t\t\t\t\tvar el = $( this ), start = $( this ).data( \"ui-resizable-alsoresize\" ), style = {},\r\n\t\t\t\t\t\tcss = el.parents( ui.originalElement[ 0 ] ).length ?\r\n\t\t\t\t\t\t\t\t[ \"width\", \"height\" ] :\r\n\t\t\t\t\t\t\t\t[ \"width\", \"height\", \"top\", \"left\" ];\r\n\r\n\t\t\t\t\tlangx.each( css, function( i, prop ) {\r\n\t\t\t\t\t\tvar sum = ( start[ prop ] || 0 ) + ( delta[ prop ] || 0 );\r\n\t\t\t\t\t\tif ( sum && sum >= 0 ) {\r\n\t\t\t\t\t\t\tstyle[ prop ] = sum || null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\tel.css( style );\r\n\t\t\t\t} );\r\n\t\t},\r\n\r\n\t\tstop: function() {\r\n\t\t\t$( this ).removeData( \"ui-resizable-alsoresize\" );\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add(Resizable, \"ghost\", {\r\n\r\n\t\tstart: function() {\r\n\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ), cs = that.size;\r\n\r\n\t\t\tthat.ghost = that.originalElement.clone();\r\n\t\t\tthat.ghost.css( {\r\n\t\t\t\topacity: 0.25,\r\n\t\t\t\tdisplay: \"block\",\r\n\t\t\t\tposition: \"relative\",\r\n\t\t\t\theight: cs.height,\r\n\t\t\t\twidth: cs.width,\r\n\t\t\t\tmargin: 0,\r\n\t\t\t\tleft: 0,\r\n\t\t\t\ttop: 0\r\n\t\t\t} );\r\n\r\n\t\t\tthat._addClass( that.ghost, \"ui-resizable-ghost\" );\r\n\r\n\t\t\t// DEPRECATED\r\n\t\t\t// TODO: remove after 1.12\r\n\t\t\t/*\r\n\t\t\tif ( $.uiBackCompat !== false && typeof that.options.ghost === \"string\" ) {\r\n\r\n\t\t\t\t// Ghost option\r\n\t\t\t\tthat.ghost.addClass( this.options.ghost );\r\n\t\t\t}\r\n\t\t\t*/\r\n\r\n\t\t\tthat.ghost.appendTo( that.helper );\r\n\r\n\t\t},\r\n\r\n\t\tresize: function() {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" );\r\n\t\t\tif ( that.ghost ) {\r\n\t\t\t\tthat.ghost.css( {\r\n\t\t\t\t\tposition: \"relative\",\r\n\t\t\t\t\theight: that.size.height,\r\n\t\t\t\t\twidth: that.size.width\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstop: function() {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" );\r\n\t\t\tif ( that.ghost && that.helper ) {\r\n\t\t\t\tthat.helper.get( 0 ).removeChild( that.ghost.get( 0 ) );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tpatch.add(Resizable, \"grid\", {\r\n\r\n\t\tresize: function() {\r\n\t\t\tvar outerDimensions,\r\n\t\t\t\tthat = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tcs = that.size,\r\n\t\t\t\tos = that.originalSize,\r\n\t\t\t\top = that.originalPosition,\r\n\t\t\t\ta = that.axis,\r\n\t\t\t\tgrid = typeof o.grid === \"number\" ? [ o.grid, o.grid ] : o.grid,\r\n\t\t\t\tgridX = ( grid[ 0 ] || 1 ),\r\n\t\t\t\tgridY = ( grid[ 1 ] || 1 ),\r\n\t\t\t\tox = Math.round( ( cs.width - os.width ) / gridX ) * gridX,\r\n\t\t\t\toy = Math.round( ( cs.height - os.height ) / gridY ) * gridY,\r\n\t\t\t\tnewWidth = os.width + ox,\r\n\t\t\t\tnewHeight = os.height + oy,\r\n\t\t\t\tisMaxWidth = o.maxWidth && ( o.maxWidth < newWidth ),\r\n\t\t\t\tisMaxHeight = o.maxHeight && ( o.maxHeight < newHeight ),\r\n\t\t\t\tisMinWidth = o.minWidth && ( o.minWidth > newWidth ),\r\n\t\t\t\tisMinHeight = o.minHeight && ( o.minHeight > newHeight );\r\n\r\n\t\t\to.grid = grid;\r\n\r\n\t\t\tif ( isMinWidth ) {\r\n\t\t\t\tnewWidth += gridX;\r\n\t\t\t}\r\n\t\t\tif ( isMinHeight ) {\r\n\t\t\t\tnewHeight += gridY;\r\n\t\t\t}\r\n\t\t\tif ( isMaxWidth ) {\r\n\t\t\t\tnewWidth -= gridX;\r\n\t\t\t}\r\n\t\t\tif ( isMaxHeight ) {\r\n\t\t\t\tnewHeight -= gridY;\r\n\t\t\t}\r\n\r\n\t\t\tif ( /^(se|s|e)$/.test( a ) ) {\r\n\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t} else if ( /^(ne)$/.test( a ) ) {\r\n\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t\tthat.position.top = op.top - oy;\r\n\t\t\t} else if ( /^(sw)$/.test( a ) ) {\r\n\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t\tthat.position.left = op.left - ox;\r\n\t\t\t} else {\r\n\t\t\t\tif ( newHeight - gridY <= 0 || newWidth - gridX <= 0 ) {\r\n\t\t\t\t\touterDimensions = that._getPaddingPlusBorderDimensions( this );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( newHeight - gridY > 0 ) {\r\n\t\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t\t\tthat.position.top = op.top - oy;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewHeight = gridY - outerDimensions.height;\r\n\t\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t\t\tthat.position.top = op.top + os.height - newHeight;\r\n\t\t\t\t}\r\n\t\t\t\tif ( newWidth - gridX > 0 ) {\r\n\t\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\t\tthat.position.left = op.left - ox;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewWidth = gridX - outerDimensions.width;\r\n\t\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\t\tthat.position.left = op.left + os.width - newWidth;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tplugins.register(Resizable,\"resizable\");\r\n\r\n\treturn Resizable;\r\n\r\n});\r\n\ndefine( 'skylark-jqueryui-interact/Selectable',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-data\",\r\n\t\"skylark-domx-eventer\",\r\n\t\"skylark-domx-noder\",\r\n\t\"skylark-domx-query\",\r\n\t\"skylark-domx-plugins-base\",\r\n\t\"./Mouse\"\r\n],function(langx, datax, eventer, noder, $, plugins, Mouse) {\r\n\r\n\tvar Selectable = Mouse.inherit({\r\n\t\tklassName: \"Selectable\",\r\n\r\n\t\tpluginName : \"ui.selectable\",\r\n\r\n\t\toptions: {\r\n\t\t\tappendTo: \"body\",\r\n\t\t\tautoRefresh: true,\r\n\t\t\tdistance: 0,\r\n\t\t\tfilter: \"*\",\r\n\t\t\ttolerance: \"touch\",\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tselected: null,\r\n\t\t\tselecting: null,\r\n\t\t\tstart: null,\r\n\t\t\tstop: null,\r\n\t\t\tunselected: null,\r\n\t\t\tunselecting: null\r\n\t\t},\r\n\t\t_create: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis._addClass( \"ui-selectable\" );\r\n\r\n\t\t\tthis.dragged = false;\r\n\r\n\t\t\t// Cache selectee children based on filter\r\n\t\t\tthis.refresh = function() {\r\n\t\t\t\tthat.elementPos = $( that.element[ 0 ] ).offset();\r\n\t\t\t\tthat.selectees = $( that.options.filter, that.element[ 0 ] );\r\n\t\t\t\tthat._addClass( that.selectees, \"ui-selectee\" );\r\n\t\t\t\tthat.selectees.each( function() {\r\n\t\t\t\t\tvar $this = $( this ),\r\n\t\t\t\t\t\tselecteeOffset = $this.offset(),\r\n\t\t\t\t\t\tpos = {\r\n\t\t\t\t\t\t\tleft: selecteeOffset.left - that.elementPos.left,\r\n\t\t\t\t\t\t\ttop: selecteeOffset.top - that.elementPos.top\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\tdatax.data( this, \"selectable-item\", {\r\n\t\t\t\t\t\telement: this,\r\n\t\t\t\t\t\t$element: $this,\r\n\t\t\t\t\t\tleft: pos.left,\r\n\t\t\t\t\t\ttop: pos.top,\r\n\t\t\t\t\t\tright: pos.left + $this.outerWidth(),\r\n\t\t\t\t\t\tbottom: pos.top + $this.outerHeight(),\r\n\t\t\t\t\t\tstartselected: false,\r\n\t\t\t\t\t\tselected: $this.hasClass( \"ui-selected\" ),\r\n\t\t\t\t\t\tselecting: $this.hasClass( \"ui-selecting\" ),\r\n\t\t\t\t\t\tunselecting: $this.hasClass( \"ui-unselecting\" )\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t\t};\r\n\t\t\tthis.refresh();\r\n\r\n\t\t\tthis._mouseInit();\r\n\r\n\t\t\tthis.helper = $( \"<div>\" );\r\n\t\t\tthis._addClass( this.helper, \"ui-selectable-helper\" );\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\t\t\tthis.selectees.removeData( \"selectable-item\" );\r\n\t\t\tthis._mouseDestroy();\r\n\t\t},\r\n\r\n\t\t_mouseStart: function( event ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\toptions = this.options;\r\n\r\n\t\t\tthis.opos = [ event.pageX, event.pageY ];\r\n\t\t\tthis.elementPos = $( this.element[ 0 ] ).offset();\r\n\r\n\t\t\tif ( this.options.disabled ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.selectees = $( options.filter, this.element[ 0 ] );\r\n\r\n\t\t\tthis._trigger( \"start\", event );\r\n\r\n\t\t\t$( options.appendTo ).append( this.helper );\r\n\r\n\t\t\t// position helper (lasso)\r\n\t\t\tthis.helper.css( {\r\n\t\t\t\t\"left\": event.pageX,\r\n\t\t\t\t\"top\": event.pageY,\r\n\t\t\t\t\"width\": 0,\r\n\t\t\t\t\"height\": 0\r\n\t\t\t} );\r\n\r\n\t\t\tif ( options.autoRefresh ) {\r\n\t\t\t\tthis.refresh();\r\n\t\t\t}\r\n\r\n\t\t\tthis.selectees.filter( \".ui-selected\" ).each( function() {\r\n\t\t\t\tvar selectee = datax.data( this, \"selectable-item\" );\r\n\t\t\t\tselectee.startselected = true;\r\n\t\t\t\tif ( !event.metaKey && !event.ctrlKey ) {\r\n\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\t\tselectee.selected = false;\r\n\t\t\t\t\tthat._addClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\t\tselectee.unselecting = true;\r\n\r\n\t\t\t\t\t// selectable UNSELECTING callback\r\n\t\t\t\t\tthat._trigger( \"unselecting\", event, {\r\n\t\t\t\t\t\tunselecting: selectee.element\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\t$( event.target ).parents().addBack().each( function() {\r\n\t\t\t\tvar doSelect,\r\n\t\t\t\t\tselectee = datax.data( this, \"selectable-item\" );\r\n\t\t\t\tif ( selectee ) {\r\n\t\t\t\t\tdoSelect = ( !event.metaKey && !event.ctrlKey ) ||\r\n\t\t\t\t\t\t!selectee.$element.hasClass( \"ui-selected\" );\r\n\t\t\t\t\tthat._removeClass( selectee.$element, doSelect ? \"ui-unselecting\" : \"ui-selected\" )\r\n\t\t\t\t\t\t._addClass( selectee.$element, doSelect ? \"ui-selecting\" : \"ui-unselecting\" );\r\n\t\t\t\t\tselectee.unselecting = !doSelect;\r\n\t\t\t\t\tselectee.selecting = doSelect;\r\n\t\t\t\t\tselectee.selected = doSelect;\r\n\r\n\t\t\t\t\t// selectable (UN)SELECTING callback\r\n\t\t\t\t\tif ( doSelect ) {\r\n\t\t\t\t\t\tthat._trigger( \"selecting\", event, {\r\n\t\t\t\t\t\t\tselecting: selectee.element\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat._trigger( \"unselecting\", event, {\r\n\t\t\t\t\t\t\tunselecting: selectee.element\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\r\n\t\t_mouseDrag: function( event ) {\r\n\r\n\t\t\tthis.dragged = true;\r\n\r\n\t\t\tif ( this.options.disabled ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar tmp,\r\n\t\t\t\tthat = this,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\tx1 = this.opos[ 0 ],\r\n\t\t\t\ty1 = this.opos[ 1 ],\r\n\t\t\t\tx2 = event.pageX,\r\n\t\t\t\ty2 = event.pageY;\r\n\r\n\t\t\tif ( x1 > x2 ) { tmp = x2; x2 = x1; x1 = tmp; }\r\n\t\t\tif ( y1 > y2 ) { tmp = y2; y2 = y1; y1 = tmp; }\r\n\t\t\tthis.helper.css( { left: x1, top: y1, width: x2 - x1, height: y2 - y1 } );\r\n\r\n\t\t\tthis.selectees.each( function() {\r\n\t\t\t\tvar selectee = datax.data( this, \"selectable-item\" ),\r\n\t\t\t\t\thit = false,\r\n\t\t\t\t\toffset = {};\r\n\r\n\t\t\t\t//prevent helper from being selected if appendTo: selectable\r\n\t\t\t\tif ( !selectee || selectee.element === that.element[ 0 ] ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toffset.left   = selectee.left   + that.elementPos.left;\r\n\t\t\t\toffset.right  = selectee.right  + that.elementPos.left;\r\n\t\t\t\toffset.top    = selectee.top    + that.elementPos.top;\r\n\t\t\t\toffset.bottom = selectee.bottom + that.elementPos.top;\r\n\r\n\t\t\t\tif ( options.tolerance === \"touch\" ) {\r\n\t\t\t\t\thit = ( !( offset.left > x2 || offset.right < x1 || offset.top > y2 ||\r\n\t                    offset.bottom < y1 ) );\r\n\t\t\t\t} else if ( options.tolerance === \"fit\" ) {\r\n\t\t\t\t\thit = ( offset.left > x1 && offset.right < x2 && offset.top > y1 &&\r\n\t                    offset.bottom < y2 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( hit ) {\r\n\r\n\t\t\t\t\t// SELECT\r\n\t\t\t\t\tif ( selectee.selected ) {\r\n\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\t\t\tselectee.selected = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( selectee.unselecting ) {\r\n\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\t\t\tselectee.unselecting = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( !selectee.selecting ) {\r\n\t\t\t\t\t\tthat._addClass( selectee.$element, \"ui-selecting\" );\r\n\t\t\t\t\t\tselectee.selecting = true;\r\n\r\n\t\t\t\t\t\t// selectable SELECTING callback\r\n\t\t\t\t\t\tthat._trigger( \"selecting\", event, {\r\n\t\t\t\t\t\t\tselecting: selectee.element\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// UNSELECT\r\n\t\t\t\t\tif ( selectee.selecting ) {\r\n\t\t\t\t\t\tif ( ( event.metaKey || event.ctrlKey ) && selectee.startselected ) {\r\n\t\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selecting\" );\r\n\t\t\t\t\t\t\tselectee.selecting = false;\r\n\t\t\t\t\t\t\tthat._addClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\t\t\t\tselectee.selected = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selecting\" );\r\n\t\t\t\t\t\t\tselectee.selecting = false;\r\n\t\t\t\t\t\t\tif ( selectee.startselected ) {\r\n\t\t\t\t\t\t\t\tthat._addClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\t\t\t\t\tselectee.unselecting = true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// selectable UNSELECTING callback\r\n\t\t\t\t\t\t\tthat._trigger( \"unselecting\", event, {\r\n\t\t\t\t\t\t\t\tunselecting: selectee.element\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( selectee.selected ) {\r\n\t\t\t\t\t\tif ( !event.metaKey && !event.ctrlKey && !selectee.startselected ) {\r\n\t\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\t\t\t\tselectee.selected = false;\r\n\r\n\t\t\t\t\t\t\tthat._addClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\t\t\t\tselectee.unselecting = true;\r\n\r\n\t\t\t\t\t\t\t// selectable UNSELECTING callback\r\n\t\t\t\t\t\t\tthat._trigger( \"unselecting\", event, {\r\n\t\t\t\t\t\t\t\tunselecting: selectee.element\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_mouseStop: function( event ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.dragged = false;\r\n\r\n\t\t\t$( \".ui-unselecting\", this.element[ 0 ] ).each( function() {\r\n\t\t\t\tvar selectee = datax.data( this, \"selectable-item\" );\r\n\t\t\t\tthat._removeClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\tselectee.unselecting = false;\r\n\t\t\t\tselectee.startselected = false;\r\n\t\t\t\tthat._trigger( \"unselected\", event, {\r\n\t\t\t\t\tunselected: selectee.element\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t\t$( \".ui-selecting\", this.element[ 0 ] ).each( function() {\r\n\t\t\t\tvar selectee = datax.data( this, \"selectable-item\" );\r\n\t\t\t\tthat._removeClass( selectee.$element, \"ui-selecting\" )\r\n\t\t\t\t\t._addClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\tselectee.selecting = false;\r\n\t\t\t\tselectee.selected = true;\r\n\t\t\t\tselectee.startselected = true;\r\n\t\t\t\tthat._trigger( \"selected\", event, {\r\n\t\t\t\t\tselected: selectee.element\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t\tthis._trigger( \"stop\", event );\r\n\r\n\t\t\tthis.helper.remove();\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\r\n\tplugins.register(Selectable,\"selectable\");\r\n\r\n\treturn Selectable;\r\n\r\n});\r\n\ndefine( 'skylark-jqueryui-interact/Sortable',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-data\",\r\n\t\"skylark-domx-eventer\",\r\n\t\"skylark-domx-noder\",\r\n\t\"skylark-domx-query\",\r\n\t\"skylark-domx-plugins-base\",\r\n\t\"./Mouse\",\r\n\t\"./ddmanager\",\r\n],function(langx, datax, eventer, noder, $, plugins, Mouse, ddmanager) {\r\n\r\n\tvar Sortable = Mouse.inherit({\r\n\t\tklassName: \"Sortable\",\r\n\r\n\t\tpluginName : \"ui.sortable\",\r\n\r\n\t\twidgetEventPrefix: \"sort\",\r\n\t\tready: false,\r\n\t\toptions: {\r\n\t\t\tappendTo: \"parent\",\r\n\t\t\taxis: false,\r\n\t\t\tconnectWith: false,\r\n\t\t\tcontainment: false,\r\n\t\t\tcursor: \"auto\",\r\n\t\t\tcursorAt: false,\r\n\t\t\tdropOnEmpty: true,\r\n\t\t\tforcePlaceholderSize: false,\r\n\t\t\tforceHelperSize: false,\r\n\t\t\tgrid: false,\r\n\t\t\thandle: false,\r\n\t\t\thelper: \"original\",\r\n\t\t\titems: \"> *\",\r\n\t\t\topacity: false,\r\n\t\t\tplaceholder: false,\r\n\t\t\trevert: false,\r\n\t\t\tscroll: true,\r\n\t\t\tscrollSensitivity: 20,\r\n\t\t\tscrollSpeed: 20,\r\n\t\t\tscope: \"default\",\r\n\t\t\ttolerance: \"intersect\",\r\n\t\t\tzIndex: 1000,\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tactivate: null,\r\n\t\t\tbeforeStop: null,\r\n\t\t\tchange: null,\r\n\t\t\tdeactivate: null,\r\n\t\t\tout: null,\r\n\t\t\tover: null,\r\n\t\t\treceive: null,\r\n\t\t\tremove: null,\r\n\t\t\tsort: null,\r\n\t\t\tstart: null,\r\n\t\t\tstop: null,\r\n\t\t\tupdate: null\r\n\t\t},\r\n\r\n\t\t_isOverAxis: function( x, reference, size ) {\r\n\t\t\treturn ( x >= reference ) && ( x < ( reference + size ) );\r\n\t\t},\r\n\r\n\t\t_isFloating: function( item ) {\r\n\t\t\treturn ( /left|right/ ).test( item.css( \"float\" ) ) ||\r\n\t\t\t\t( /inline|table-cell/ ).test( item.css( \"display\" ) );\r\n\t\t},\r\n\r\n\t\t_create: function() {\r\n\t\t\tthis.containerCache = {};\r\n\t\t\tthis._addClass( \"ui-sortable\" );\r\n\r\n\t\t\t//Get the items\r\n\t\t\tthis.refresh();\r\n\r\n\t\t\t//Let's determine the parent's offset\r\n\t\t\tthis.offset = this.element.offset();\r\n\r\n\t\t\t//Initialize mouse events for interaction\r\n\t\t\tthis._mouseInit();\r\n\r\n\t\t\tthis._setHandleClassName();\r\n\r\n\t\t\t//We're ready to go\r\n\t\t\tthis.ready = true;\r\n\r\n\t\t},\r\n\r\n\t\t_setOption: function( key, value ) {\r\n\t\t\tthis._super( key, value );\r\n\r\n\t\t\tif ( key === \"handle\" ) {\r\n\t\t\t\tthis._setHandleClassName();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setHandleClassName: function() {\r\n\t\t\tvar that = this;\r\n\t\t\tthis._removeClass( this.element.find( \".ui-sortable-handle\" ), \"ui-sortable-handle\" );\r\n\t\t\tlangx.each( this.items, function() {\r\n\t\t\t\tthat._addClass(\r\n\t\t\t\t\tthis.instance.options.handle ?\r\n\t\t\t\t\t\tthis.item.find( this.instance.options.handle ) :\r\n\t\t\t\t\t\tthis.item,\r\n\t\t\t\t\t\"ui-sortable-handle\"\r\n\t\t\t\t);\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\t\t\tthis._mouseDestroy();\r\n\r\n\t\t\tfor ( var i = this.items.length - 1; i >= 0; i-- ) {\r\n\t\t\t\tthis.items[ i ].item.removeData( this.pluginName + \"-item\" );\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t_mouseCapture: function( event, overrideHandle ) {\r\n\t\t\tvar currentItem = null,\r\n\t\t\t\tvalidHandle = false,\r\n\t\t\t\tthat = this;\r\n\r\n\t\t\tif ( this.reverting ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.options.disabled || this.options.type === \"static\" ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t//We have to refresh the items data once first\r\n\t\t\tthis._refreshItems( event );\r\n\r\n\t\t\t//Find out if the clicked node (or one of its parents) is a actual item in this.items\r\n\t\t\t$( event.target ).parents().each( function() {\r\n\t\t\t\tif ( datax.data( this, that.pluginName + \"-item\" ) === that ) {\r\n\t\t\t\t\tcurrentItem = $( this );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\tif ( datax.data( event.target, that.pluginName + \"-item\" ) === that ) {\r\n\t\t\t\tcurrentItem = $( event.target );\r\n\t\t\t}\r\n\r\n\t\t\tif ( !currentItem ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif ( this.options.handle && !overrideHandle ) {\r\n\t\t\t\t$( this.options.handle, currentItem ).find( \"*\" ).addBack().each( function() {\r\n\t\t\t\t\tif ( this === event.target ) {\r\n\t\t\t\t\t\tvalidHandle = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t\tif ( !validHandle ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.currentItem = currentItem;\r\n\t\t\tthis._removeCurrentsFromItems();\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\t_mouseStart: function( event, overrideHandle, noActivation ) {\r\n\r\n\t\t\tvar i, body,\r\n\t\t\t\to = this.options;\r\n\r\n\t\t\tthis.currentContainer = this;\r\n\r\n\t\t\t//We only need to call refreshPositions, because the refreshItems call has been moved to\r\n\t\t\t// mouseCapture\r\n\t\t\tthis.refreshPositions();\r\n\r\n\t\t\t//Prepare the dragged items parent\r\n\t\t\tthis.appendTo = $( o.appendTo !== \"parent\" ?\r\n\t\t\t\t\to.appendTo :\r\n\t\t\t\t\tthis.currentItem.parent() );\r\n\r\n\t\t\t//Create and append the visible helper\r\n\t\t\tthis.helper = this._createHelper( event );\r\n\r\n\t\t\t//Cache the helper size\r\n\t\t\tthis._cacheHelperProportions();\r\n\r\n\t\t\t/*\r\n\t\t\t * - Position generation -\r\n\t\t\t * This block generates everything position related - it's the core of draggables.\r\n\t\t\t */\r\n\r\n\t\t\t//Cache the margins of the original element\r\n\t\t\tthis._cacheMargins();\r\n\r\n\t\t\t//The element's absolute position on the page minus margins\r\n\t\t\tthis.offset = this.currentItem.offset();\r\n\t\t\tthis.offset = {\r\n\t\t\t\ttop: this.offset.top - this.margins.top,\r\n\t\t\t\tleft: this.offset.left - this.margins.left\r\n\t\t\t};\r\n\r\n\t\t\tlangx.extend( this.offset, {\r\n\t\t\t\tclick: { //Where the click happened, relative to the element\r\n\t\t\t\t\tleft: event.pageX - this.offset.left,\r\n\t\t\t\t\ttop: event.pageY - this.offset.top\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// This is a relative to absolute position minus the actual position calculation -\r\n\t\t\t\t// only used for relative positioned helper\r\n\t\t\t\trelative: this._getRelativeOffset()\r\n\t\t\t} );\r\n\r\n\t\t\t// After we get the helper offset, but before we get the parent offset we can\r\n\t\t\t// change the helper's position to absolute\r\n\t\t\t// TODO: Still need to figure out a way to make relative sorting possible\r\n\t\t\tthis.helper.css( \"position\", \"absolute\" );\r\n\t\t\tthis.cssPosition = this.helper.css( \"position\" );\r\n\r\n\t\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\r\n\t\t\t( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );\r\n\r\n\t\t\t//Cache the former DOM position\r\n\t\t\tthis.domPosition = {\r\n\t\t\t\tprev: this.currentItem.prev()[ 0 ],\r\n\t\t\t\tparent: this.currentItem.parent()[ 0 ]\r\n\t\t\t};\r\n\r\n\t\t\t// If the helper is not the original, hide the original so it's not playing any role during\r\n\t\t\t// the drag, won't cause anything bad this way\r\n\t\t\tif ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {\r\n\t\t\t\tthis.currentItem.hide();\r\n\t\t\t}\r\n\r\n\t\t\t//Create the placeholder\r\n\t\t\tthis._createPlaceholder();\r\n\r\n\t\t\t//Get the next scrolling parent\r\n\t\t\tthis.scrollParent = this.placeholder.scrollParent();\r\n\r\n\t\t\tlangx.extend( this.offset, {\r\n\t\t\t\tparent: this._getParentOffset()\r\n\t\t\t} );\r\n\r\n\t\t\t//Set a containment if given in the options\r\n\t\t\tif ( o.containment ) {\r\n\t\t\t\tthis._setContainment();\r\n\t\t\t}\r\n\r\n\t\t\tif ( o.cursor && o.cursor !== \"auto\" ) { // cursor option\r\n\t\t\t\tbody = this.document.find( \"body\" );\r\n\r\n\t\t\t\t// Support: IE\r\n\t\t\t\tthis.storedCursor = body.css( \"cursor\" );\r\n\t\t\t\tbody.css( \"cursor\", o.cursor );\r\n\r\n\t\t\t\tthis.storedStylesheet =\r\n\t\t\t\t\t$( \"<style>*{ cursor: \" + o.cursor + \" !important; }</style>\" ).appendTo( body );\r\n\t\t\t}\r\n\r\n\t\t\t// We need to make sure to grab the zIndex before setting the\r\n\t\t\t// opacity, because setting the opacity to anything lower than 1\r\n\t\t\t// causes the zIndex to change from \"auto\" to 0.\r\n\t\t\tif ( o.zIndex ) { // zIndex option\r\n\t\t\t\tif ( this.helper.css( \"zIndex\" ) ) {\r\n\t\t\t\t\tthis._storedZIndex = this.helper.css( \"zIndex\" );\r\n\t\t\t\t}\r\n\t\t\t\tthis.helper.css( \"zIndex\", o.zIndex );\r\n\t\t\t}\r\n\r\n\t\t\tif ( o.opacity ) { // opacity option\r\n\t\t\t\tif ( this.helper.css( \"opacity\" ) ) {\r\n\t\t\t\t\tthis._storedOpacity = this.helper.css( \"opacity\" );\r\n\t\t\t\t}\r\n\t\t\t\tthis.helper.css( \"opacity\", o.opacity );\r\n\t\t\t}\r\n\r\n\t\t\t//Prepare scrolling\r\n\t\t\tif ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\tthis.scrollParent[ 0 ].tagName !== \"HTML\" ) {\r\n\t\t\t\tthis.overflowOffset = this.scrollParent.offset();\r\n\t\t\t}\r\n\r\n\t\t\t//Call callbacks\r\n\t\t\tthis._trigger( \"start\", event, this._uiHash() );\r\n\r\n\t\t\t//Recache the helper size\r\n\t\t\tif ( !this._preserveHelperProportions ) {\r\n\t\t\t\tthis._cacheHelperProportions();\r\n\t\t\t}\r\n\r\n\t\t\t//Post \"activate\" events to possible containers\r\n\t\t\tif ( !noActivation ) {\r\n\t\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tthis.containers[ i ]._trigger( \"activate\", event, this._uiHash( this ) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Prepare possible droppables\r\n\t\t\tif ( ddmanager ) {\r\n\t\t\t\tddmanager.current = this;\r\n\t\t\t}\r\n\r\n\t\t\tif ( ddmanager && !o.dropBehaviour ) {\r\n\t\t\t\tddmanager.prepareOffsets( this, event );\r\n\t\t\t}\r\n\r\n\t\t\tthis.dragging = true;\r\n\r\n\t\t\tthis._addClass( this.helper, \"ui-sortable-helper\" );\r\n\r\n\t\t\t//Move the helper, if needed\r\n\t\t\tif ( !this.helper.parent().is( this.appendTo ) ) {\r\n\t\t\t\tthis.helper.detach().appendTo( this.appendTo );\r\n\r\n\t\t\t\t//Update position\r\n\t\t\t\tthis.offset.parent = this._getParentOffset();\r\n\t\t\t}\r\n\r\n\t\t\t//Generate the original position\r\n\t\t\tthis.position = this.originalPosition = this._generatePosition( event );\r\n\t\t\tthis.originalPageX = event.pageX;\r\n\t\t\tthis.originalPageY = event.pageY;\r\n\t\t\tthis.lastPositionAbs = this.positionAbs = this._convertPositionTo( \"absolute\" );\r\n\r\n\t\t\tthis._mouseDrag( event );\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\t_scroll: function( event ) {\r\n\t\t\tvar o = this.options,\r\n\t\t\t\tscrolled = false;\r\n\r\n\t\t\tif ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\tthis.scrollParent[ 0 ].tagName !== \"HTML\" ) {\r\n\r\n\t\t\t\tif ( ( this.overflowOffset.top + this.scrollParent[ 0 ].offsetHeight ) -\r\n\t\t\t\t\t\tevent.pageY < o.scrollSensitivity ) {\r\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollTop =\r\n\t\t\t\t\t\tscrolled = this.scrollParent[ 0 ].scrollTop + o.scrollSpeed;\r\n\t\t\t\t} else if ( event.pageY - this.overflowOffset.top < o.scrollSensitivity ) {\r\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollTop =\r\n\t\t\t\t\t\tscrolled = this.scrollParent[ 0 ].scrollTop - o.scrollSpeed;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ( this.overflowOffset.left + this.scrollParent[ 0 ].offsetWidth ) -\r\n\t\t\t\t\t\tevent.pageX < o.scrollSensitivity ) {\r\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft = scrolled =\r\n\t\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft + o.scrollSpeed;\r\n\t\t\t\t} else if ( event.pageX - this.overflowOffset.left < o.scrollSensitivity ) {\r\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft = scrolled =\r\n\t\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft - o.scrollSpeed;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( event.pageY - this.document.scrollTop() < o.scrollSensitivity ) {\r\n\t\t\t\t\tscrolled = this.document.scrollTop( this.document.scrollTop() - o.scrollSpeed );\r\n\t\t\t\t} else if ( this.window.height() - ( event.pageY - this.document.scrollTop() ) <\r\n\t\t\t\t\t\to.scrollSensitivity ) {\r\n\t\t\t\t\tscrolled = this.document.scrollTop( this.document.scrollTop() + o.scrollSpeed );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( event.pageX - this.document.scrollLeft() < o.scrollSensitivity ) {\r\n\t\t\t\t\tscrolled = this.document.scrollLeft(\r\n\t\t\t\t\t\tthis.document.scrollLeft() - o.scrollSpeed\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if ( this.window.width() - ( event.pageX - this.document.scrollLeft() ) <\r\n\t\t\t\t\t\to.scrollSensitivity ) {\r\n\t\t\t\t\tscrolled = this.document.scrollLeft(\r\n\t\t\t\t\t\tthis.document.scrollLeft() + o.scrollSpeed\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn scrolled;\r\n\t\t},\r\n\r\n\t\t_mouseDrag: function( event ) {\r\n\t\t\tvar i, item, itemElement, intersection,\r\n\t\t\t\to = this.options;\r\n\r\n\t\t\t//Compute the helpers position\r\n\t\t\tthis.position = this._generatePosition( event );\r\n\t\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\r\n\r\n\t\t\t//Set the helper position\r\n\t\t\tif ( !this.options.axis || this.options.axis !== \"y\" ) {\r\n\t\t\t\tthis.helper[ 0 ].style.left = this.position.left + \"px\";\r\n\t\t\t}\r\n\t\t\tif ( !this.options.axis || this.options.axis !== \"x\" ) {\r\n\t\t\t\tthis.helper[ 0 ].style.top = this.position.top + \"px\";\r\n\t\t\t}\r\n\r\n\t\t\t//Post events to containers\r\n\t\t\tthis._contactContainers( event );\r\n\r\n\t\t\tif ( this.innermostContainer !== null ) {\r\n\r\n\t\t\t\t//Do scrolling\r\n\t\t\t\tif ( o.scroll ) {\r\n\t\t\t\t\tif ( this._scroll( event ) !== false ) {\r\n\r\n\t\t\t\t\t\t//Update item positions used in position checks\r\n\t\t\t\t\t\tthis._refreshItemPositions( true );\r\n\r\n\t\t\t\t\t\tif ( ddmanager && !o.dropBehaviour ) {\r\n\t\t\t\t\t\t\tddmanager.prepareOffsets( this, event );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.dragDirection = {\r\n\t\t\t\t\tvertical: this._getDragVerticalDirection(),\r\n\t\t\t\t\thorizontal: this._getDragHorizontalDirection()\r\n\t\t\t\t};\r\n\r\n\t\t\t\t//Rearrange\r\n\t\t\t\tfor ( i = this.items.length - 1; i >= 0; i-- ) {\r\n\r\n\t\t\t\t\t//Cache variables and intersection, continue if no intersection\r\n\t\t\t\t\titem = this.items[ i ];\r\n\t\t\t\t\titemElement = item.item[ 0 ];\r\n\t\t\t\t\tintersection = this._intersectsWithPointer( item );\r\n\t\t\t\t\tif ( !intersection ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Only put the placeholder inside the current Container, skip all\r\n\t\t\t\t\t// items from other containers. This works because when moving\r\n\t\t\t\t\t// an item from one container to another the\r\n\t\t\t\t\t// currentContainer is switched before the placeholder is moved.\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// Without this, moving items in \"sub-sortables\" can cause\r\n\t\t\t\t\t// the placeholder to jitter between the outer and inner container.\r\n\t\t\t\t\tif ( item.instance !== this.currentContainer ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Cannot intersect with itself\r\n\t\t\t\t\t// no useless actions that have been done before\r\n\t\t\t\t\t// no action if the item moved is the parent of the item checked\r\n\t\t\t\t\tif ( itemElement !== this.currentItem[ 0 ] &&\r\n\t\t\t\t\t\tthis.placeholder[ intersection === 1 ?\r\n\t\t\t\t\t\t\"next\" : \"prev\" ]()[ 0 ] !== itemElement &&\r\n\t\t\t\t\t\t!noder.contains( this.placeholder[ 0 ], itemElement ) &&\r\n\t\t\t\t\t\t( this.options.type === \"semi-dynamic\" ?\r\n\t\t\t\t\t\t\t!noder.contains( this.element[ 0 ], itemElement ) :\r\n\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) {\r\n\r\n\t\t\t\t\t\tthis.direction = intersection === 1 ? \"down\" : \"up\";\r\n\r\n\t\t\t\t\t\tif ( this.options.tolerance === \"pointer\" ||\r\n\t\t\t\t\t\t\t\tthis._intersectsWithSides( item ) ) {\r\n\t\t\t\t\t\t\tthis._rearrange( event, item );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis._trigger( \"change\", event, this._uiHash() );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Interconnect with droppables\r\n\t\t\tif ( ddmanager ) {\r\n\t\t\t\tddmanager.drag( this, event );\r\n\t\t\t}\r\n\r\n\t\t\t//Call callbacks\r\n\t\t\tthis._trigger( \"sort\", event, this._uiHash() );\r\n\r\n\t\t\tthis.lastPositionAbs = this.positionAbs;\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\r\n\t\t_mouseStop: function( event, noPropagation ) {\r\n\r\n\t\t\tif ( !event ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//If we are using droppables, inform the manager about the drop\r\n\t\t\tif ( ddmanager && !this.options.dropBehaviour ) {\r\n\t\t\t\tddmanager.drop( this, event );\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.options.revert ) {\r\n\t\t\t\tvar that = this,\r\n\t\t\t\t\tcur = this.placeholder.offset(),\r\n\t\t\t\t\taxis = this.options.axis,\r\n\t\t\t\t\tanimation = {};\r\n\r\n\t\t\t\tif ( !axis || axis === \"x\" ) {\r\n\t\t\t\t\tanimation.left = cur.left - this.offset.parent.left - this.margins.left +\r\n\t\t\t\t\t\t( this.offsetParent[ 0 ] === this.document[ 0 ].body ?\r\n\t\t\t\t\t\t\t0 :\r\n\t\t\t\t\t\t\tthis.offsetParent[ 0 ].scrollLeft\r\n\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tif ( !axis || axis === \"y\" ) {\r\n\t\t\t\t\tanimation.top = cur.top - this.offset.parent.top - this.margins.top +\r\n\t\t\t\t\t\t( this.offsetParent[ 0 ] === this.document[ 0 ].body ?\r\n\t\t\t\t\t\t\t0 :\r\n\t\t\t\t\t\t\tthis.offsetParent[ 0 ].scrollTop\r\n\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tthis.reverting = true;\r\n\t\t\t\t$( this.helper ).animate(\r\n\t\t\t\t\tanimation,\r\n\t\t\t\t\tparseInt( this.options.revert, 10 ) || 500,\r\n\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\tthat._clear( event );\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis._clear( event, noPropagation );\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\r\n\t\tcancel: function() {\r\n\r\n\t\t\tif ( this.dragging ) {\r\n\r\n\t\t\t\tthis._mouseUp( new eventer.create( \"mouseup\", { target: null }));\r\n\r\n\t\t\t\tif ( this.options.helper === \"original\" ) {\r\n\t\t\t\t\tthis.currentItem.css( this._storedCSS );\r\n\t\t\t\t\tthis._removeClass( this.currentItem, \"ui-sortable-helper\" );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.currentItem.show();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Post deactivating events to containers\r\n\t\t\t\tfor ( var i = this.containers.length - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tthis.containers[ i ]._trigger( \"deactivate\", null, this._uiHash( this ) );\r\n\t\t\t\t\tif ( this.containers[ i ].containerCache.over ) {\r\n\t\t\t\t\t\tthis.containers[ i ]._trigger( \"out\", null, this._uiHash( this ) );\r\n\t\t\t\t\t\tthis.containers[ i ].containerCache.over = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.placeholder ) {\r\n\r\n\t\t\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,\r\n\t\t\t\t// it unbinds ALL events from the original node!\r\n\t\t\t\tif ( this.placeholder[ 0 ].parentNode ) {\r\n\t\t\t\t\tthis.placeholder[ 0 ].parentNode.removeChild( this.placeholder[ 0 ] );\r\n\t\t\t\t}\r\n\t\t\t\tif ( this.options.helper !== \"original\" && this.helper &&\r\n\t\t\t\t\t\tthis.helper[ 0 ].parentNode ) {\r\n\t\t\t\t\tthis.helper.remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlangx.extend( this, {\r\n\t\t\t\t\thelper: null,\r\n\t\t\t\t\tdragging: false,\r\n\t\t\t\t\treverting: false,\r\n\t\t\t\t\t_noFinalSort: null\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tif ( this.domPosition.prev ) {\r\n\t\t\t\t\t$( this.domPosition.prev ).after( this.currentItem );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$( this.domPosition.parent ).prepend( this.currentItem );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tserialize: function( o ) {\r\n\r\n\t\t\tvar items = this._getItemsAsjQuery( o && o.connected ),\r\n\t\t\t\tstr = [];\r\n\t\t\to = o || {};\r\n\r\n\t\t\t$( items ).each( function() {\r\n\t\t\t\tvar res = ( $( o.item || this ).attr( o.attribute || \"id\" ) || \"\" )\r\n\t\t\t\t\t.match( o.expression || ( /(.+)[\\-=_](.+)/ ) );\r\n\t\t\t\tif ( res ) {\r\n\t\t\t\t\tstr.push(\r\n\t\t\t\t\t\t( o.key || res[ 1 ] + \"[]\" ) +\r\n\t\t\t\t\t\t\"=\" + ( o.key && o.expression ? res[ 1 ] : res[ 2 ] ) );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tif ( !str.length && o.key ) {\r\n\t\t\t\tstr.push( o.key + \"=\" );\r\n\t\t\t}\r\n\r\n\t\t\treturn str.join( \"&\" );\r\n\r\n\t\t},\r\n\r\n\t\ttoArray: function( o ) {\r\n\r\n\t\t\tvar items = this._getItemsAsjQuery( o && o.connected ),\r\n\t\t\t\tret = [];\r\n\r\n\t\t\to = o || {};\r\n\r\n\t\t\titems.each( function() {\r\n\t\t\t\tret.push( $( o.item || this ).attr( o.attribute || \"id\" ) || \"\" );\r\n\t\t\t} );\r\n\t\t\treturn ret;\r\n\r\n\t\t},\r\n\r\n\t\t/* Be careful with the following core functions */\r\n\t\t_intersectsWith: function( item ) {\r\n\r\n\t\t\tvar x1 = this.positionAbs.left,\r\n\t\t\t\tx2 = x1 + this.helperProportions.width,\r\n\t\t\t\ty1 = this.positionAbs.top,\r\n\t\t\t\ty2 = y1 + this.helperProportions.height,\r\n\t\t\t\tl = item.left,\r\n\t\t\t\tr = l + item.width,\r\n\t\t\t\tt = item.top,\r\n\t\t\t\tb = t + item.height,\r\n\t\t\t\tdyClick = this.offset.click.top,\r\n\t\t\t\tdxClick = this.offset.click.left,\r\n\t\t\t\tisOverElementHeight = ( this.options.axis === \"x\" ) || ( ( y1 + dyClick ) > t &&\r\n\t\t\t\t\t( y1 + dyClick ) < b ),\r\n\t\t\t\tisOverElementWidth = ( this.options.axis === \"y\" ) || ( ( x1 + dxClick ) > l &&\r\n\t\t\t\t\t( x1 + dxClick ) < r ),\r\n\t\t\t\tisOverElement = isOverElementHeight && isOverElementWidth;\r\n\r\n\t\t\tif ( this.options.tolerance === \"pointer\" ||\r\n\t\t\t\tthis.options.forcePointerForContainers ||\r\n\t\t\t\t( this.options.tolerance !== \"pointer\" &&\r\n\t\t\t\t\tthis.helperProportions[ this.floating ? \"width\" : \"height\" ] >\r\n\t\t\t\t\titem[ this.floating ? \"width\" : \"height\" ] )\r\n\t\t\t) {\r\n\t\t\t\treturn isOverElement;\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn ( l < x1 + ( this.helperProportions.width / 2 ) && // Right Half\r\n\t\t\t\t\tx2 - ( this.helperProportions.width / 2 ) < r && // Left Half\r\n\t\t\t\t\tt < y1 + ( this.helperProportions.height / 2 ) && // Bottom Half\r\n\t\t\t\t\ty2 - ( this.helperProportions.height / 2 ) < b ); // Top Half\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_intersectsWithPointer: function( item ) {\r\n\t\t\tvar verticalDirection, horizontalDirection,\r\n\t\t\t\tisOverElementHeight = ( this.options.axis === \"x\" ) ||\r\n\t\t\t\t\tthis._isOverAxis(\r\n\t\t\t\t\t\tthis.positionAbs.top + this.offset.click.top, item.top, item.height ),\r\n\t\t\t\tisOverElementWidth = ( this.options.axis === \"y\" ) ||\r\n\t\t\t\t\tthis._isOverAxis(\r\n\t\t\t\t\t\tthis.positionAbs.left + this.offset.click.left, item.left, item.width ),\r\n\t\t\t\tisOverElement = isOverElementHeight && isOverElementWidth;\r\n\r\n\t\t\tif ( !isOverElement ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tverticalDirection = this.dragDirection.vertical;\r\n\t\t\thorizontalDirection = this.dragDirection.horizontal;\r\n\r\n\t\t\treturn this.floating ?\r\n\t\t\t\t( ( horizontalDirection === \"right\" || verticalDirection === \"down\" ) ? 2 : 1 )\r\n\t\t\t\t: ( verticalDirection && ( verticalDirection === \"down\" ? 2 : 1 ) );\r\n\r\n\t\t},\r\n\r\n\t\t_intersectsWithSides: function( item ) {\r\n\r\n\t\t\tvar isOverBottomHalf = this._isOverAxis( this.positionAbs.top +\r\n\t\t\t\t\tthis.offset.click.top, item.top + ( item.height / 2 ), item.height ),\r\n\t\t\t\tisOverRightHalf = this._isOverAxis( this.positionAbs.left +\r\n\t\t\t\t\tthis.offset.click.left, item.left + ( item.width / 2 ), item.width ),\r\n\t\t\t\tverticalDirection = this.dragDirection.vertical,\r\n\t\t\t\thorizontalDirection = this.dragDirection.horizontal;\r\n\r\n\t\t\tif ( this.floating && horizontalDirection ) {\r\n\t\t\t\treturn ( ( horizontalDirection === \"right\" && isOverRightHalf ) ||\r\n\t\t\t\t\t( horizontalDirection === \"left\" && !isOverRightHalf ) );\r\n\t\t\t} else {\r\n\t\t\t\treturn verticalDirection && ( ( verticalDirection === \"down\" && isOverBottomHalf ) ||\r\n\t\t\t\t\t( verticalDirection === \"up\" && !isOverBottomHalf ) );\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_getDragVerticalDirection: function() {\r\n\t\t\tvar delta = this.positionAbs.top - this.lastPositionAbs.top;\r\n\t\t\treturn delta !== 0 && ( delta > 0 ? \"down\" : \"up\" );\r\n\t\t},\r\n\r\n\t\t_getDragHorizontalDirection: function() {\r\n\t\t\tvar delta = this.positionAbs.left - this.lastPositionAbs.left;\r\n\t\t\treturn delta !== 0 && ( delta > 0 ? \"right\" : \"left\" );\r\n\t\t},\r\n\r\n\t\trefresh: function( event ) {\r\n\t\t\tthis._refreshItems( event );\r\n\t\t\tthis._setHandleClassName();\r\n\t\t\tthis.refreshPositions();\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t_connectWith: function() {\r\n\t\t\tvar options = this.options;\r\n\t\t\treturn options.connectWith.constructor === String ?\r\n\t\t\t\t[ options.connectWith ] :\r\n\t\t\t\toptions.connectWith;\r\n\t\t},\r\n\r\n\t\t_getItemsAsjQuery: function( connected ) {\r\n\r\n\t\t\tvar i, j, cur, inst,\r\n\t\t\t\titems = [],\r\n\t\t\t\tqueries = [],\r\n\t\t\t\tconnectWith = this._connectWith();\r\n\r\n\t\t\tif ( connectWith && connected ) {\r\n\t\t\t\tfor ( i = connectWith.length - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tcur = $( connectWith[ i ], this.document[ 0 ] );\r\n\t\t\t\t\tfor ( j = cur.length - 1; j >= 0; j-- ) {\r\n\t\t\t\t\t\tinst = datax.data( cur[ j ], this.pluginName );\r\n\t\t\t\t\t\tif ( inst && inst !== this && !inst.options.disabled ) {\r\n\t\t\t\t\t\t\tqueries.push( [ langx.isFunction( inst.options.items ) ?\r\n\t\t\t\t\t\t\t\tinst.options.items.call( inst.element ) :\r\n\t\t\t\t\t\t\t\t$( inst.options.items, inst.element )\r\n\t\t\t\t\t\t\t\t\t.not( \".ui-sortable-helper\" )\r\n\t\t\t\t\t\t\t\t\t.not( \".ui-sortable-placeholder\" ), inst ] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tqueries.push( [ langx.isFunction( this.options.items ) ?\r\n\t\t\t\tthis.options.items\r\n\t\t\t\t\t.call( this.element, null, { options: this.options, item: this.currentItem } ) :\r\n\t\t\t\t$( this.options.items, this.element )\r\n\t\t\t\t\t.not( \".ui-sortable-helper\" )\r\n\t\t\t\t\t.not( \".ui-sortable-placeholder\" ), this ] );\r\n\r\n\t\t\tfunction addItems() {\r\n\t\t\t\titems.push( this );\r\n\t\t\t}\r\n\t\t\tfor ( i = queries.length - 1; i >= 0; i-- ) {\r\n\t\t\t\tqueries[ i ][ 0 ].each( addItems );\r\n\t\t\t}\r\n\r\n\t\t\treturn $( items );\r\n\r\n\t\t},\r\n\r\n\t\t_removeCurrentsFromItems: function() {\r\n\r\n\t\t\tvar list = this.currentItem.find( \":data(\" + this.pluginName + \"-item)\" );\r\n\r\n\t\t\tthis.items = this.items.filter(function( item ) {\r\n\t\t\t\tfor ( var j = 0; j < list.length; j++ ) {\r\n\t\t\t\t\tif ( list[ j ] === item.item[ 0 ] ) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\r\n\t\t_refreshItems: function( event ) {\r\n\r\n\t\t\tthis.items = [];\r\n\t\t\tthis.containers = [ this ];\r\n\r\n\t\t\tvar i, j, cur, inst, targetData, _queries, item, queriesLength,\r\n\t\t\t\titems = this.items,\r\n\t\t\t\tqueries = [ [ langx.isFunction( this.options.items ) ?\r\n\t\t\t\t\tthis.options.items.call( this.element[ 0 ], event, { item: this.currentItem } ) :\r\n\t\t\t\t\t$( this.options.items, this.element ), this ] ],\r\n\t\t\t\tconnectWith = this._connectWith();\r\n\r\n\t\t\t//Shouldn't be run the first time through due to massive slow-down\r\n\t\t\tif ( connectWith && this.ready ) {\r\n\t\t\t\tfor ( i = connectWith.length - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tcur = $( connectWith[ i ], this.document[ 0 ] );\r\n\t\t\t\t\tfor ( j = cur.length - 1; j >= 0; j-- ) {\r\n\t\t\t\t\t\tinst = datax.data( cur[ j ], this.pluginName );\r\n\t\t\t\t\t\tif ( inst && inst !== this && !inst.options.disabled ) {\r\n\t\t\t\t\t\t\tqueries.push( [ langx.isFunction( inst.options.items ) ?\r\n\t\t\t\t\t\t\t\tinst.options.items\r\n\t\t\t\t\t\t\t\t\t.call( inst.element[ 0 ], event, { item: this.currentItem } ) :\r\n\t\t\t\t\t\t\t\t$( inst.options.items, inst.element ), inst ] );\r\n\t\t\t\t\t\t\tthis.containers.push( inst );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor ( i = queries.length - 1; i >= 0; i-- ) {\r\n\t\t\t\ttargetData = queries[ i ][ 1 ];\r\n\t\t\t\t_queries = queries[ i ][ 0 ];\r\n\r\n\t\t\t\tfor ( j = 0, queriesLength = _queries.length; j < queriesLength; j++ ) {\r\n\t\t\t\t\titem = $( _queries[ j ] );\r\n\r\n\t\t\t\t\t// Data for target checking (mouse manager)\r\n\t\t\t\t\titem.data( this.pluginName + \"-item\", targetData );\r\n\r\n\t\t\t\t\titems.push( {\r\n\t\t\t\t\t\titem: item,\r\n\t\t\t\t\t\tinstance: targetData,\r\n\t\t\t\t\t\twidth: 0, height: 0,\r\n\t\t\t\t\t\tleft: 0, top: 0\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_refreshItemPositions: function( fast ) {\r\n\t\t\tvar i, item, t, p;\r\n\r\n\t\t\tfor ( i = this.items.length - 1; i >= 0; i-- ) {\r\n\t\t\t\titem = this.items[ i ];\r\n\r\n\t\t\t\t//We ignore calculating positions of all connected containers when we're not over them\r\n\t\t\t\tif ( this.currentContainer && item.instance !== this.currentContainer &&\r\n\t\t\t\t\t\titem.item[ 0 ] !== this.currentItem[ 0 ] ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tt = this.options.toleranceElement ?\r\n\t\t\t\t\t$( this.options.toleranceElement, item.item ) :\r\n\t\t\t\t\titem.item;\r\n\r\n\t\t\t\tif ( !fast ) {\r\n\t\t\t\t\titem.width = t.outerWidth();\r\n\t\t\t\t\titem.height = t.outerHeight();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tp = t.offset();\r\n\t\t\t\titem.left = p.left;\r\n\t\t\t\titem.top = p.top;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\trefreshPositions: function( fast ) {\r\n\r\n\t\t\t// Determine whether items are being displayed horizontally\r\n\t\t\tthis.floating = this.items.length ?\r\n\t\t\t\tthis.options.axis === \"x\" || this._isFloating( this.items[ 0 ].item ) :\r\n\t\t\t\tfalse;\r\n\r\n\t\t\tif ( this.innermostContainer !== null ) {\r\n\t\t\t\tthis._refreshItemPositions( fast );\r\n\t\t\t}\r\n\r\n\t\t\tvar i, p;\r\n\r\n\t\t\tif ( this.options.custom && this.options.custom.refreshContainers ) {\r\n\t\t\t\tthis.options.custom.refreshContainers.call( this );\r\n\t\t\t} else {\r\n\t\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tp = this.containers[ i ].element.offset();\r\n\t\t\t\t\tthis.containers[ i ].containerCache.left = p.left;\r\n\t\t\t\t\tthis.containers[ i ].containerCache.top = p.top;\r\n\t\t\t\t\tthis.containers[ i ].containerCache.width =\r\n\t\t\t\t\t\tthis.containers[ i ].element.outerWidth();\r\n\t\t\t\t\tthis.containers[ i ].containerCache.height =\r\n\t\t\t\t\t\tthis.containers[ i ].element.outerHeight();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t_createPlaceholder: function( that ) {\r\n\t\t\tthat = that || this;\r\n\t\t\tvar className, nodeName,\r\n\t\t\t\to = that.options;\r\n\r\n\t\t\tif ( !o.placeholder || o.placeholder.constructor === String ) {\r\n\t\t\t\tclassName = o.placeholder;\r\n\t\t\t\tnodeName = that.currentItem[ 0 ].nodeName.toLowerCase();\r\n\t\t\t\to.placeholder = {\r\n\t\t\t\t\telement: function() {\r\n\r\n\t\t\t\t\t\tvar element = $( \"<\" + nodeName + \">\", that.document[ 0 ] );\r\n\r\n\t\t\t\t\t\tthat._addClass( element, \"ui-sortable-placeholder\",\r\n\t\t\t\t\t\t\t\tclassName || that.currentItem[ 0 ].className )\r\n\t\t\t\t\t\t\t._removeClass( element, \"ui-sortable-helper\" );\r\n\r\n\t\t\t\t\t\tif ( nodeName === \"tbody\" ) {\r\n\t\t\t\t\t\t\tthat._createTrPlaceholder(\r\n\t\t\t\t\t\t\t\tthat.currentItem.find( \"tr\" ).eq( 0 ),\r\n\t\t\t\t\t\t\t\t$( \"<tr>\", that.document[ 0 ] ).appendTo( element )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else if ( nodeName === \"tr\" ) {\r\n\t\t\t\t\t\t\tthat._createTrPlaceholder( that.currentItem, element );\r\n\t\t\t\t\t\t} else if ( nodeName === \"img\" ) {\r\n\t\t\t\t\t\t\telement.attr( \"src\", that.currentItem.attr( \"src\" ) );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( !className ) {\r\n\t\t\t\t\t\t\telement.css( \"visibility\", \"hidden\" );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn element;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tupdate: function( container, p ) {\r\n\r\n\t\t\t\t\t\t// 1. If a className is set as 'placeholder option, we don't force sizes -\r\n\t\t\t\t\t\t// the class is responsible for that\r\n\t\t\t\t\t\t// 2. The option 'forcePlaceholderSize can be enabled to force it even if a\r\n\t\t\t\t\t\t// class name is specified\r\n\t\t\t\t\t\tif ( className && !o.forcePlaceholderSize ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// If the element doesn't have a actual height or width by itself (without\r\n\t\t\t\t\t\t// styles coming from a stylesheet), it receives the inline height and width\r\n\t\t\t\t\t\t// from the dragged item. Or, if it's a tbody or tr, it's going to have a height\r\n\t\t\t\t\t\t// anyway since we're populating them with <td>s above, but they're unlikely to\r\n\t\t\t\t\t\t// be the correct height on their own if the row heights are dynamic, so we'll\r\n\t\t\t\t\t\t// always assign the height of the dragged item given forcePlaceholderSize\r\n\t\t\t\t\t\t// is true.\r\n\t\t\t\t\t\tif ( !p.height() || ( o.forcePlaceholderSize &&\r\n\t\t\t\t\t\t\t\t( nodeName === \"tbody\" || nodeName === \"tr\" ) ) ) {\r\n\t\t\t\t\t\t\tp.height(\r\n\t\t\t\t\t\t\t\tthat.currentItem.innerHeight() -\r\n\t\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingTop\" ) || 0, 10 ) -\r\n\t\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingBottom\" ) || 0, 10 ) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( !p.width() ) {\r\n\t\t\t\t\t\t\tp.width(\r\n\t\t\t\t\t\t\t\tthat.currentItem.innerWidth() -\r\n\t\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingLeft\" ) || 0, 10 ) -\r\n\t\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingRight\" ) || 0, 10 ) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t//Create the placeholder\r\n\t\t\tthat.placeholder = $( o.placeholder.element.call( that.element, that.currentItem ) );\r\n\r\n\t\t\t//Append it after the actual current item\r\n\t\t\tthat.currentItem.after( that.placeholder );\r\n\r\n\t\t\t//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)\r\n\t\t\to.placeholder.update( that, that.placeholder );\r\n\r\n\t\t},\r\n\r\n\t\t_createTrPlaceholder: function( sourceTr, targetTr ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tsourceTr.children().each( function() {\r\n\t\t\t\t$( \"<td>&#160;</td>\", that.document[ 0 ] )\r\n\t\t\t\t\t.attr( \"colspan\", $( this ).attr( \"colspan\" ) || 1 )\r\n\t\t\t\t\t.appendTo( targetTr );\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t_contactContainers: function( event ) {\r\n\t\t\tvar i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, cur, nearBottom,\r\n\t\t\t\tfloating, axis,\r\n\t\t\t\tinnermostContainer = null,\r\n\t\t\t\tinnermostIndex = null;\r\n\r\n\t\t\t// Get innermost container that intersects with item\r\n\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\r\n\r\n\t\t\t\t// Never consider a container that's located within the item itself\r\n\t\t\t\tif ( noder.contains( this.currentItem[ 0 ], this.containers[ i ].element[ 0 ] ) ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( this._intersectsWith( this.containers[ i ].containerCache ) ) {\r\n\r\n\t\t\t\t\t// If we've already found a container and it's more \"inner\" than this, then continue\r\n\t\t\t\t\tif ( innermostContainer &&\r\n\t\t\t\t\t\t\tnoder.contains(\r\n\t\t\t\t\t\t\t\tthis.containers[ i ].element[ 0 ],\r\n\t\t\t\t\t\t\t\tinnermostContainer.element[ 0 ] ) ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tinnermostContainer = this.containers[ i ];\r\n\t\t\t\t\tinnermostIndex = i;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// container doesn't intersect. trigger \"out\" event if necessary\r\n\t\t\t\t\tif ( this.containers[ i ].containerCache.over ) {\r\n\t\t\t\t\t\tthis.containers[ i ]._trigger( \"out\", event, this._uiHash( this ) );\r\n\t\t\t\t\t\tthis.containers[ i ].containerCache.over = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.innermostContainer = innermostContainer;\r\n\r\n\t\t\t// If no intersecting containers found, return\r\n\t\t\tif ( !innermostContainer ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Move the item into the container if it's not there already\r\n\t\t\tif ( this.containers.length === 1 ) {\r\n\t\t\t\tif ( !this.containers[ innermostIndex ].containerCache.over ) {\r\n\t\t\t\t\tthis.containers[ innermostIndex ]._trigger( \"over\", event, this._uiHash( this ) );\r\n\t\t\t\t\tthis.containers[ innermostIndex ].containerCache.over = 1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// When entering a new container, we will find the item with the least distance and\r\n\t\t\t\t// append our item near it\r\n\t\t\t\tdist = 10000;\r\n\t\t\t\titemWithLeastDistance = null;\r\n\t\t\t\tfloating = innermostContainer.floating || this._isFloating( this.currentItem );\r\n\t\t\t\tposProperty = floating ? \"left\" : \"top\";\r\n\t\t\t\tsizeProperty = floating ? \"width\" : \"height\";\r\n\t\t\t\taxis = floating ? \"pageX\" : \"pageY\";\r\n\r\n\t\t\t\tfor ( j = this.items.length - 1; j >= 0; j-- ) {\r\n\t\t\t\t\tif ( !noder.contains(\r\n\t\t\t\t\t\t\tthis.containers[ innermostIndex ].element[ 0 ], this.items[ j ].item[ 0 ] )\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( this.items[ j ].item[ 0 ] === this.currentItem[ 0 ] ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcur = this.items[ j ].item.offset()[ posProperty ];\r\n\t\t\t\t\tnearBottom = false;\r\n\t\t\t\t\tif ( event[ axis ] - cur > this.items[ j ][ sizeProperty ] / 2 ) {\r\n\t\t\t\t\t\tnearBottom = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( Math.abs( event[ axis ] - cur ) < dist ) {\r\n\t\t\t\t\t\tdist = Math.abs( event[ axis ] - cur );\r\n\t\t\t\t\t\titemWithLeastDistance = this.items[ j ];\r\n\t\t\t\t\t\tthis.direction = nearBottom ? \"up\" : \"down\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Check if dropOnEmpty is enabled\r\n\t\t\t\tif ( !itemWithLeastDistance && !this.options.dropOnEmpty ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( this.currentContainer === this.containers[ innermostIndex ] ) {\r\n\t\t\t\t\tif ( !this.currentContainer.containerCache.over ) {\r\n\t\t\t\t\t\tthis.containers[ innermostIndex ]._trigger( \"over\", event, this._uiHash() );\r\n\t\t\t\t\t\tthis.currentContainer.containerCache.over = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\titemWithLeastDistance ?\r\n\t\t\t\t\tthis._rearrange( event, itemWithLeastDistance, null, true ) :\r\n\t\t\t\t\tthis._rearrange( event, null, this.containers[ innermostIndex ].element, true );\r\n\t\t\t\tthis._trigger( \"change\", event, this._uiHash() );\r\n\t\t\t\tthis.containers[ innermostIndex ]._trigger( \"change\", event, this._uiHash( this ) );\r\n\t\t\t\tthis.currentContainer = this.containers[ innermostIndex ];\r\n\r\n\t\t\t\t//Update the placeholder\r\n\t\t\t\tthis.options.placeholder.update( this.currentContainer, this.placeholder );\r\n\r\n\t\t\t\t//Update scrollParent\r\n\t\t\t\tthis.scrollParent = this.placeholder.scrollParent();\r\n\r\n\t\t\t\t//Update overflowOffset\r\n\t\t\t\tif ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\t\tthis.scrollParent[ 0 ].tagName !== \"HTML\" ) {\r\n\t\t\t\t\tthis.overflowOffset = this.scrollParent.offset();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.containers[ innermostIndex ]._trigger( \"over\", event, this._uiHash( this ) );\r\n\t\t\t\tthis.containers[ innermostIndex ].containerCache.over = 1;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_createHelper: function( event ) {\r\n\r\n\t\t\tvar o = this.options,\r\n\t\t\t\thelper = langx.isFunction( o.helper ) ?\r\n\t\t\t\t\t$( o.helper.apply( this.element[ 0 ], [ event, this.currentItem ] ) ) :\r\n\t\t\t\t\t( o.helper === \"clone\" ? this.currentItem.clone() : this.currentItem );\r\n\r\n\t\t\t//Add the helper to the DOM if that didn't happen already\r\n\t\t\tif ( !helper.parents( \"body\" ).length ) {\r\n\t\t\t\tthis.appendTo[ 0 ].appendChild( helper[ 0 ] );\r\n\t\t\t}\r\n\r\n\t\t\tif ( helper[ 0 ] === this.currentItem[ 0 ] ) {\r\n\t\t\t\tthis._storedCSS = {\r\n\t\t\t\t\twidth: this.currentItem[ 0 ].style.width,\r\n\t\t\t\t\theight: this.currentItem[ 0 ].style.height,\r\n\t\t\t\t\tposition: this.currentItem.css( \"position\" ),\r\n\t\t\t\t\ttop: this.currentItem.css( \"top\" ),\r\n\t\t\t\t\tleft: this.currentItem.css( \"left\" )\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif ( !helper[ 0 ].style.width || o.forceHelperSize ) {\r\n\t\t\t\thelper.width( this.currentItem.width() );\r\n\t\t\t}\r\n\t\t\tif ( !helper[ 0 ].style.height || o.forceHelperSize ) {\r\n\t\t\t\thelper.height( this.currentItem.height() );\r\n\t\t\t}\r\n\r\n\t\t\treturn helper;\r\n\r\n\t\t},\r\n\r\n\t\t_adjustOffsetFromHelper: function( obj ) {\r\n\t\t\tif ( typeof obj === \"string\" ) {\r\n\t\t\t\tobj = obj.split( \" \" );\r\n\t\t\t}\r\n\t\t\tif ( langx.isArray( obj ) ) {\r\n\t\t\t\tobj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };\r\n\t\t\t}\r\n\t\t\tif ( \"left\" in obj ) {\r\n\t\t\t\tthis.offset.click.left = obj.left + this.margins.left;\r\n\t\t\t}\r\n\t\t\tif ( \"right\" in obj ) {\r\n\t\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\r\n\t\t\t}\r\n\t\t\tif ( \"top\" in obj ) {\r\n\t\t\t\tthis.offset.click.top = obj.top + this.margins.top;\r\n\t\t\t}\r\n\t\t\tif ( \"bottom\" in obj ) {\r\n\t\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getParentOffset: function() {\r\n\r\n\t\t\t//Get the offsetParent and cache its position\r\n\t\t\tthis.offsetParent = this.helper.offsetParent();\r\n\t\t\tvar po = this.offsetParent.offset();\r\n\r\n\t\t\t// This is a special case where we need to modify a offset calculated on start, since the\r\n\t\t\t// following happened:\r\n\t\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the\r\n\t\t\t// next positioned parent\r\n\t\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\r\n\t\t\t// the document, which means that the scroll is included in the initial calculation of the\r\n\t\t\t// offset of the parent, and never recalculated upon drag\r\n\t\t\tif ( this.cssPosition === \"absolute\" && this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\tnoder.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {\r\n\t\t\t\tpo.left += this.scrollParent.scrollLeft();\r\n\t\t\t\tpo.top += this.scrollParent.scrollTop();\r\n\t\t\t}\r\n\r\n\t\t\t// This needs to be actually done for all browsers, since pageX/pageY includes this\r\n\t\t\t// information with an ugly IE fix\r\n\t\t\tif ( this.offsetParent[ 0 ] === this.document[ 0 ].body ||\r\n\t\t\t\t\t( this.offsetParent[ 0 ].tagName &&\r\n\t\t\t\t\tthis.offsetParent[ 0 ].tagName.toLowerCase() === \"html\" && langx.ui.ie ) ) {\r\n\t\t\t\tpo = { top: 0, left: 0 };\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: po.top + ( parseInt( this.offsetParent.css( \"borderTopWidth\" ), 10 ) || 0 ),\r\n\t\t\t\tleft: po.left + ( parseInt( this.offsetParent.css( \"borderLeftWidth\" ), 10 ) || 0 )\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_getRelativeOffset: function() {\r\n\r\n\t\t\tif ( this.cssPosition === \"relative\" ) {\r\n\t\t\t\tvar p = this.currentItem.position();\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttop: p.top - ( parseInt( this.helper.css( \"top\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t\tthis.scrollParent.scrollTop(),\r\n\t\t\t\t\tleft: p.left - ( parseInt( this.helper.css( \"left\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t\tthis.scrollParent.scrollLeft()\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn { top: 0, left: 0 };\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_cacheMargins: function() {\r\n\t\t\tthis.margins = {\r\n\t\t\t\tleft: ( parseInt( this.currentItem.css( \"marginLeft\" ), 10 ) || 0 ),\r\n\t\t\t\ttop: ( parseInt( this.currentItem.css( \"marginTop\" ), 10 ) || 0 )\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_cacheHelperProportions: function() {\r\n\t\t\tthis.helperProportions = {\r\n\t\t\t\twidth: this.helper.outerWidth(),\r\n\t\t\t\theight: this.helper.outerHeight()\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_setContainment: function() {\r\n\r\n\t\t\tvar ce, co, over,\r\n\t\t\t\to = this.options;\r\n\t\t\tif ( o.containment === \"parent\" ) {\r\n\t\t\t\to.containment = this.helper[ 0 ].parentNode;\r\n\t\t\t}\r\n\t\t\tif ( o.containment === \"document\" || o.containment === \"window\" ) {\r\n\t\t\t\tthis.containment = [\r\n\t\t\t\t\t0 - this.offset.relative.left - this.offset.parent.left,\r\n\t\t\t\t\t0 - this.offset.relative.top - this.offset.parent.top,\r\n\t\t\t\t\to.containment === \"document\" ?\r\n\t\t\t\t\t\tthis.document.width() :\r\n\t\t\t\t\t\tthis.window.width() - this.helperProportions.width - this.margins.left,\r\n\t\t\t\t\t( o.containment === \"document\" ?\r\n\t\t\t\t\t\t( this.document.height() || document.body.parentNode.scrollHeight ) :\r\n\t\t\t\t\t\tthis.window.height() || this.document[ 0 ].body.parentNode.scrollHeight\r\n\t\t\t\t\t) - this.helperProportions.height - this.margins.top\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t\tif ( !( /^(document|window|parent)$/ ).test( o.containment ) ) {\r\n\t\t\t\tce = $( o.containment )[ 0 ];\r\n\t\t\t\tco = $( o.containment ).offset();\r\n\t\t\t\tover = ( $( ce ).css( \"overflow\" ) !== \"hidden\" );\r\n\r\n\t\t\t\tthis.containment = [\r\n\t\t\t\t\tco.left + ( parseInt( $( ce ).css( \"borderLeftWidth\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t\t( parseInt( $( ce ).css( \"paddingLeft\" ), 10 ) || 0 ) - this.margins.left,\r\n\t\t\t\t\tco.top + ( parseInt( $( ce ).css( \"borderTopWidth\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t\t( parseInt( $( ce ).css( \"paddingTop\" ), 10 ) || 0 ) - this.margins.top,\r\n\t\t\t\t\tco.left + ( over ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -\r\n\t\t\t\t\t\t( parseInt( $( ce ).css( \"borderLeftWidth\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t\t( parseInt( $( ce ).css( \"paddingRight\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t\tthis.helperProportions.width - this.margins.left,\r\n\t\t\t\t\tco.top + ( over ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -\r\n\t\t\t\t\t\t( parseInt( $( ce ).css( \"borderTopWidth\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t\t( parseInt( $( ce ).css( \"paddingBottom\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t\tthis.helperProportions.height - this.margins.top\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_convertPositionTo: function( d, pos ) {\r\n\r\n\t\t\tif ( !pos ) {\r\n\t\t\t\tpos = this.position;\r\n\t\t\t}\r\n\t\t\tvar mod = d === \"absolute\" ? 1 : -1,\r\n\t\t\t\tscroll = this.cssPosition === \"absolute\" &&\r\n\t\t\t\t\t!( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\tnoder.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ?\r\n\t\t\t\t\t\tthis.offsetParent :\r\n\t\t\t\t\t\tthis.scrollParent,\r\n\t\t\t\tscrollIsRootNode = ( /(html|body)/i ).test( scroll[ 0 ].tagName );\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpos.top\t+\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.top * mod +\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.top * mod -\r\n\t\t\t\t\t( ( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.scrollParent.scrollTop() :\r\n\t\t\t\t\t\t( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod )\r\n\t\t\t\t),\r\n\t\t\t\tleft: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpos.left +\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.left * mod +\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.left * mod\t-\r\n\t\t\t\t\t( ( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 :\r\n\t\t\t\t\t\tscroll.scrollLeft() ) * mod )\r\n\t\t\t\t)\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_generatePosition: function( event ) {\r\n\r\n\t\t\tvar top, left,\r\n\t\t\t\to = this.options,\r\n\t\t\t\tpageX = event.pageX,\r\n\t\t\t\tpageY = event.pageY,\r\n\t\t\t\tscroll = this.cssPosition === \"absolute\" &&\r\n\t\t\t\t\t!( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\tnoder.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ?\r\n\t\t\t\t\t\tthis.offsetParent :\r\n\t\t\t\t\t\tthis.scrollParent,\r\n\t\t\t\t\tscrollIsRootNode = ( /(html|body)/i ).test( scroll[ 0 ].tagName );\r\n\r\n\t\t\t// This is another very weird special case that only happens for relative elements:\r\n\t\t\t// 1. If the css position is relative\r\n\t\t\t// 2. and the scroll parent is the document or similar to the offset parent\r\n\t\t\t// we have to refresh the relative offset during the scroll so there are no jumps\r\n\t\t\tif ( this.cssPosition === \"relative\" && !( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\tthis.scrollParent[ 0 ] !== this.offsetParent[ 0 ] ) ) {\r\n\t\t\t\tthis.offset.relative = this._getRelativeOffset();\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * - Position constraining -\r\n\t\t\t * Constrain the position to a mix of grid, containment.\r\n\t\t\t */\r\n\r\n\t\t\tif ( this.originalPosition ) { //If we are not dragging yet, we won't check for options\r\n\r\n\t\t\t\tif ( this.containment ) {\r\n\t\t\t\t\tif ( event.pageX - this.offset.click.left < this.containment[ 0 ] ) {\r\n\t\t\t\t\t\tpageX = this.containment[ 0 ] + this.offset.click.left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( event.pageY - this.offset.click.top < this.containment[ 1 ] ) {\r\n\t\t\t\t\t\tpageY = this.containment[ 1 ] + this.offset.click.top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( event.pageX - this.offset.click.left > this.containment[ 2 ] ) {\r\n\t\t\t\t\t\tpageX = this.containment[ 2 ] + this.offset.click.left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( event.pageY - this.offset.click.top > this.containment[ 3 ] ) {\r\n\t\t\t\t\t\tpageY = this.containment[ 3 ] + this.offset.click.top;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( o.grid ) {\r\n\t\t\t\t\ttop = this.originalPageY + Math.round( ( pageY - this.originalPageY ) /\r\n\t\t\t\t\t\to.grid[ 1 ] ) * o.grid[ 1 ];\r\n\t\t\t\t\tpageY = this.containment ?\r\n\t\t\t\t\t\t( ( top - this.offset.click.top >= this.containment[ 1 ] &&\r\n\t\t\t\t\t\t\ttop - this.offset.click.top <= this.containment[ 3 ] ) ?\r\n\t\t\t\t\t\t\t\ttop :\r\n\t\t\t\t\t\t\t\t( ( top - this.offset.click.top >= this.containment[ 1 ] ) ?\r\n\t\t\t\t\t\t\t\t\ttop - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) :\r\n\t\t\t\t\t\t\t\t\ttop;\r\n\r\n\t\t\t\t\tleft = this.originalPageX + Math.round( ( pageX - this.originalPageX ) /\r\n\t\t\t\t\t\to.grid[ 0 ] ) * o.grid[ 0 ];\r\n\t\t\t\t\tpageX = this.containment ?\r\n\t\t\t\t\t\t( ( left - this.offset.click.left >= this.containment[ 0 ] &&\r\n\t\t\t\t\t\t\tleft - this.offset.click.left <= this.containment[ 2 ] ) ?\r\n\t\t\t\t\t\t\t\tleft :\r\n\t\t\t\t\t\t\t\t( ( left - this.offset.click.left >= this.containment[ 0 ] ) ?\r\n\t\t\t\t\t\t\t\t\tleft - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) :\r\n\t\t\t\t\t\t\t\t\tleft;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpageY -\r\n\r\n\t\t\t\t\t// Click offset (relative to the element)\r\n\t\t\t\t\tthis.offset.click.top -\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.top -\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.top +\r\n\t\t\t\t\t( ( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.scrollParent.scrollTop() :\r\n\t\t\t\t\t\t( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) )\r\n\t\t\t\t),\r\n\t\t\t\tleft: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpageX -\r\n\r\n\t\t\t\t\t// Click offset (relative to the element)\r\n\t\t\t\t\tthis.offset.click.left -\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.left -\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.left +\r\n\t\t\t\t\t( ( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.scrollParent.scrollLeft() :\r\n\t\t\t\t\t\tscrollIsRootNode ? 0 : scroll.scrollLeft() ) )\r\n\t\t\t\t)\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_rearrange: function( event, i, a, hardRefresh ) {\r\n\r\n\t\t\ta ? a[ 0 ].appendChild( this.placeholder[ 0 ] ) :\r\n\t\t\t\ti.item[ 0 ].parentNode.insertBefore( this.placeholder[ 0 ],\r\n\t\t\t\t\t( this.direction === \"down\" ? i.item[ 0 ] : i.item[ 0 ].nextSibling ) );\r\n\r\n\t\t\t//Various things done here to improve the performance:\r\n\t\t\t// 1. we create a setTimeout, that calls refreshPositions\r\n\t\t\t// 2. on the instance, we have a counter variable, that get's higher after every append\r\n\t\t\t// 3. on the local scope, we copy the counter variable, and check in the timeout,\r\n\t\t\t// if it's still the same\r\n\t\t\t// 4. this lets only the last addition to the timeout stack through\r\n\t\t\tthis.counter = this.counter ? ++this.counter : 1;\r\n\t\t\tvar counter = this.counter;\r\n\r\n\t\t\tthis._delay( function() {\r\n\t\t\t\tif ( counter === this.counter ) {\r\n\r\n\t\t\t\t\t//Precompute after each DOM insertion, NOT on mousemove\r\n\t\t\t\t\tthis.refreshPositions( !hardRefresh );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\r\n\t\t_clear: function( event, noPropagation ) {\r\n\r\n\t\t\tthis.reverting = false;\r\n\r\n\t\t\t// We delay all events that have to be triggered to after the point where the placeholder\r\n\t\t\t// has been removed and everything else normalized again\r\n\t\t\tvar i,\r\n\t\t\t\tdelayedTriggers = [];\r\n\r\n\t\t\t// We first have to update the dom position of the actual currentItem\r\n\t\t\t// Note: don't do it if the current item is already removed (by a user), or it gets\r\n\t\t\t// reappended (see #4088)\r\n\t\t\tif ( !this._noFinalSort && this.currentItem.parent().length ) {\r\n\t\t\t\tthis.placeholder.before( this.currentItem );\r\n\t\t\t}\r\n\t\t\tthis._noFinalSort = null;\r\n\r\n\t\t\tif ( this.helper[ 0 ] === this.currentItem[ 0 ] ) {\r\n\t\t\t\tfor ( i in this._storedCSS ) {\r\n\t\t\t\t\tif ( this._storedCSS[ i ] === \"auto\" || this._storedCSS[ i ] === \"static\" ) {\r\n\t\t\t\t\t\tthis._storedCSS[ i ] = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.currentItem.css( this._storedCSS );\r\n\t\t\t\tthis._removeClass( this.currentItem, \"ui-sortable-helper\" );\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentItem.show();\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.fromOutside && !noPropagation ) {\r\n\t\t\t\tdelayedTriggers.push( function( event ) {\r\n\t\t\t\t\tthis._trigger( \"receive\", event, this._uiHash( this.fromOutside ) );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\tif ( ( this.fromOutside ||\r\n\t\t\t\t\tthis.domPosition.prev !==\r\n\t\t\t\t\tthis.currentItem.prev().not( \".ui-sortable-helper\" )[ 0 ] ||\r\n\t\t\t\t\tthis.domPosition.parent !== this.currentItem.parent()[ 0 ] ) && !noPropagation ) {\r\n\r\n\t\t\t\t// Trigger update callback if the DOM position has changed\r\n\t\t\t\tdelayedTriggers.push( function( event ) {\r\n\t\t\t\t\tthis._trigger( \"update\", event, this._uiHash() );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\t// Check if the items Container has Changed and trigger appropriate\r\n\t\t\t// events.\r\n\t\t\tif ( this !== this.currentContainer ) {\r\n\t\t\t\tif ( !noPropagation ) {\r\n\t\t\t\t\tdelayedTriggers.push( function( event ) {\r\n\t\t\t\t\t\tthis._trigger( \"remove\", event, this._uiHash() );\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tdelayedTriggers.push( ( function( c ) {\r\n\t\t\t\t\t\treturn function( event ) {\r\n\t\t\t\t\t\t\tc._trigger( \"receive\", event, this._uiHash( this ) );\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} ).call( this, this.currentContainer ) );\r\n\t\t\t\t\tdelayedTriggers.push( ( function( c ) {\r\n\t\t\t\t\t\treturn function( event ) {\r\n\t\t\t\t\t\t\tc._trigger( \"update\", event, this._uiHash( this ) );\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} ).call( this, this.currentContainer ) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Post events to containers\r\n\t\t\tfunction delayEvent( type, instance, container ) {\r\n\t\t\t\treturn function( event ) {\r\n\t\t\t\t\tcontainer._trigger( type, event, instance._uiHash( instance ) );\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\r\n\t\t\t\tif ( !noPropagation ) {\r\n\t\t\t\t\tdelayedTriggers.push( delayEvent( \"deactivate\", this, this.containers[ i ] ) );\r\n\t\t\t\t}\r\n\t\t\t\tif ( this.containers[ i ].containerCache.over ) {\r\n\t\t\t\t\tdelayedTriggers.push( delayEvent( \"out\", this, this.containers[ i ] ) );\r\n\t\t\t\t\tthis.containers[ i ].containerCache.over = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Do what was originally in patches\r\n\t\t\tif ( this.storedCursor ) {\r\n\t\t\t\tthis.document.find( \"body\" ).css( \"cursor\", this.storedCursor );\r\n\t\t\t\tthis.storedStylesheet.remove();\r\n\t\t\t}\r\n\t\t\tif ( this._storedOpacity ) {\r\n\t\t\t\tthis.helper.css( \"opacity\", this._storedOpacity );\r\n\t\t\t}\r\n\t\t\tif ( this._storedZIndex ) {\r\n\t\t\t\tthis.helper.css( \"zIndex\", this._storedZIndex === \"auto\" ? \"\" : this._storedZIndex );\r\n\t\t\t}\r\n\r\n\t\t\tthis.dragging = false;\r\n\r\n\t\t\tif ( !noPropagation ) {\r\n\t\t\t\tthis._trigger( \"beforeStop\", event, this._uiHash() );\r\n\t\t\t}\r\n\r\n\t\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,\r\n\t\t\t// it unbinds ALL events from the original node!\r\n\t\t\tthis.placeholder[ 0 ].parentNode.removeChild( this.placeholder[ 0 ] );\r\n\r\n\t\t\tif ( !this.cancelHelperRemoval ) {\r\n\t\t\t\tif ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {\r\n\t\t\t\t\tthis.helper.remove();\r\n\t\t\t\t}\r\n\t\t\t\tthis.helper = null;\r\n\t\t\t}\r\n\r\n\t\t\tif ( !noPropagation ) {\r\n\t\t\t\tfor ( i = 0; i < delayedTriggers.length; i++ ) {\r\n\r\n\t\t\t\t\t// Trigger all delayed events\r\n\t\t\t\t\tdelayedTriggers[ i ].call( this, event );\r\n\t\t\t\t}\r\n\t\t\t\tthis._trigger( \"stop\", event, this._uiHash() );\r\n\t\t\t}\r\n\r\n\t\t\tthis.fromOutside = false;\r\n\t\t\treturn !this.cancelHelperRemoval;\r\n\r\n\t\t},\r\n\r\n\t\t_trigger: function( type, event, ui ) {\r\n\t\t\tif ( this.overrided(type, event, ui) === false ) {\r\n\t\t\t\tthis.cancel();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_uiHash: function( _inst ) {\r\n\t\t\tvar inst = _inst || this;\r\n\t\t\treturn {\r\n\t\t\t\thelper: inst.helper,\r\n\t\t\t\tplaceholder: inst.placeholder || $( [] ),\r\n\t\t\t\tposition: inst.position,\r\n\t\t\t\toriginalPosition: inst.originalPosition,\r\n\t\t\t\toffset: inst.positionAbs,\r\n\t\t\t\titem: inst.currentItem,\r\n\t\t\t\tsender: _inst ? _inst.element : null\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tplugins.register(Sortable,\"sortable\");\r\n\r\n\treturn Sortable;\r\n});\r\n\ndefine( 'skylark-jqueryui-interact/main',[\r\n\t\"./ddmanager\",\r\n\t\"./Draggable\",\r\n\t\"./Droppable\",\r\n\t\"./Mouse\",\r\n\t\"./Resizable\",\r\n\t\"./Selectable\",\r\n\t\"./Sortable\",\r\n],function(ddmanager,Draggable,Droppable,Mouse,Resizable,Selectable,Sortable){\r\n\treturn {\r\n\t\tddmanager : ddmanager,\r\n\t\tDraggable : Draggable,\r\n\t\tDroppable : Droppable,\r\n\t\tMouse : Mouse,\r\n\t\tResizable : Resizable,\r\n\t\tSelectable : Selectable,\r\n\t\tSortable : Sortable\r\n\t};\r\n});\ndefine('skylark-jqueryui-interact', ['skylark-jqueryui-interact/main'], function (main) { return main; });\n\n"]}