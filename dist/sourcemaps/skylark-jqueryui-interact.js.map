{"version":3,"sources":["skylark-jqueryui-interact.js"],"names":["factory","globals","absolute","relative","base","stack","split","parts","pop","i","length","push","join","define","require","isAmd","amd","isCmd","exports","map","id","deps","dep","hasOwnProperty","Error","module","args","forEach","apply","skylarkjs","langx","ddmanager","current","droppables","default","prepareOffsets","t","event","j","m","options","scope","type","list","currentItem","element","find","addBack","droppablesLoop","disabled","accept","call","proportions","height","visible","css","_activate","offset","width","offsetWidth","offsetHeight","drop","draggable","dropped","each","slice","this","intersect","tolerance","_drop","isout","isover","_deactivate","dragStart","parentsUntil","on","refreshPositions","drag","greedyChild","parentInstance","parent","intersects","c","greedy","parents","filter","$","droppable","_out","_over","dragStop","off","isOverAxis","x","reference","size","toleranceMode","x1","positionAbs","position","left","margins","y1","top","x2","helperProportions","y2","l","r","b","pageY","pageX","types","objects","arrays","datax","eventer","plugins","pluginUuid","JqPlugin","Plugin","inherit","klassName","pluginEventPrefix","create","destroy","overrided","eventNamespace","plugin","removeAttr","bindings","_construct","defaultElement","uuid","pluginName","classesElementLookup","data","_on","remove","target","document","style","ownerDocument","window","defaultView","parentWindow","_create","_trigger","_getCreateEventData","_init","noop","_classes","bindRemoveEvent","_","isTracked","that","elements","some","is","processClassString","classes","checkOption","add","uniq","get","concat","not","full","mixin","keys","match","extra","_untrackClassesElement","key","value","inArray","_off","_removeClass","_toggleClass","_addClass","shift","toggleClass","suppressDisabledCheck","handlers","delegateElement","instance","widget","handler","handlerProxy","hasClass","arguments","guid","eventName","selector","focusable","hoverable","prop","orig","callback","proxy","widgetEventPrefix","toLowerCase","originalEvent","trigger","isFunction","isDefaultPrevented","browser","mouseHandled","MousePlugin","cancel","distance","delay","_mouseInit","_mouseDown","removeData","stopImmediatePropagation","started","_mouseDestroy","_mouseMoveDelegate","_mouseUpDelegate","_mouseMoved","_mouseStarted","_mouseUp","_mouseDownEvent","btnIsLeft","which","elIsCancel","nodeName","closest","_mouseCapture","mouseDelayMet","_mouseDelayTimer","setTimeout","_mouseDistanceMet","_mouseDelayMet","_mouseStart","preventDefault","_mouseMove","ie","documentMode","button","altKey","ctrlKey","metaKey","shiftKey","ignoreMissingWhich","_mouseDrag","_mouseStop","clearTimeout","Math","max","abs","register","option","set","proto","prototype","patches","name","allowDisconnected","parentNode","nodeType","noder","Mouse","patch","Draggable","addClasses","appendTo","axis","connectToSortable","containment","cursor","cursorAt","grid","handle","helper","iframeFix","opacity","revert","revertDuration","scroll","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","zIndex","start","stop","_setPositionRelative","_setHandleClassName","_setOption","_super","_removeHandleClassName","_destroy","destroyOnClear","o","_getHandle","_blurActiveElement","_blockFrames","iframeBlocks","iframe","outerWidth","outerHeight","_unblockFrames","activeElement","active","blur","_createHelper","_cacheHelperProportions","_cacheMargins","cssPosition","scrollParent","offsetParent","hasFixedAncestor","_refreshOffsets","originalPosition","_generatePosition","originalPageX","originalPageY","_adjustOffsetFromHelper","_setContainment","_clear","dropBehaviour","_getParentOffset","_getRelativeOffset","click","noPropagation","_convertPositionTo","ui","_uiHash","animate","parseInt","handleElement","helperIsFunction","clone","test","obj","isArray","right","bottom","_isRootNode","tagName","po","contains","scrollLeft","scrollTop","p","scrollIsRootNode","isUserScrollable","ce","relativeContainer","body","scrollHeight","constructor","Array","scrollWidth","d","pos","mod","constrainPosition","co","round","cancelHelperRemoval","uiSortable","extend","item","sortables","sortable","isOver","_storedCSS","placeholder","_helper","innermostIntersecting","_intersectsWith","containerCache","_parent","fromOutside","_revert","_cursor","_opacity","scrollParentNotHidden","overflowOffset","scrolled","snapElements","String","items","$t","$o","inst","ts","bs","ls","rs","first","snapping","release","snapItem","min","group","makeArray","sort","a","_zIndex","Droppable","activate","deactivate","out","over","_addToManager","_splice","splice","_addActiveClass","_removeActiveClass","_addHoverClass","_removeHoverClass","custom","childrenIntersection","Resizable","alsoResize","animateDuration","animateEasing","aspectRatio","autoHide","ui-resizable-se","ghost","handles","maxHeight","maxWidth","minHeight","minWidth","resize","_num","parseFloat","_isNumber","isNaN","_hasScroll","el","has","_aspectRatio","originalElement","_proportionallyResizeElements","wrap","resizable","elementIsWrapper","marginTop","marginRight","marginBottom","marginLeft","originalResizeStyle","zoom","display","_proportionallyResize","_setupHandles","_handles","show","resizing","hide","_addedHandles","wrapper","exp","insertAfter","_removeHandles","n","hname","e","s","w","se","sw","ne","nw","trim","children","append","_renderAxis","padPos","padWrapper","jquery","mousedown","disableSelection","className","capture","curleft","curtop","_renderProxy","originalSize","sizeDiff","originalMousePosition","_propagate","props","smp","dx","dy","_change","_updatePrevProperties","_updateVirtualBoundaries","_updateRatio","_respectSize","_updateCache","_applyChanges","isEmptyObject","pr","ista","soffseth","soffsetw","prevPosition","prevSize","forceAspectRatio","pMinWidth","pMaxWidth","pMinHeight","pMaxHeight","Infinity","_vBoundaries","cpos","csize","ismaxw","ismaxh","isminw","isminh","dw","dh","cw","ch","_getPaddingPlusBorderDimensions","widths","borders","paddings","prel","outerDimensions","elementOffset","cs","sp","duration","easing","step","oc","containerElement","containerOffset","containerPosition","parentData","containerSize","innerHeight","innerWidth","woset","hoset","isParent","isOffsetRelative","cp","pRatio","cop","continueResize","ho","h","os","op","delta","sum","margin","removeChild","gridX","gridY","ox","oy","newWidth","newHeight","isMaxWidth","isMaxHeight","isMinWidth","isMinHeight","Selectable","autoRefresh","selected","selecting","unselected","unselecting","dragged","refresh","elementPos","selectees","$this","selecteeOffset","$element","startselected","opos","selectee","doSelect","tmp","hit","Sortable","ready","connectWith","dropOnEmpty","forcePlaceholderSize","forceHelperSize","beforeStop","change","receive","update","_isOverAxis","_isFloating","overrideHandle","validHandle","reverting","_refreshItems","_removeCurrentsFromItems","noActivation","currentContainer","domPosition","prev","_createPlaceholder","storedCursor","storedStylesheet","_storedZIndex","_storedOpacity","_preserveHelperProportions","containers","dragging","detach","lastPositionAbs","_scroll","itemElement","intersection","_contactContainers","innermostContainer","_refreshItemPositions","dragDirection","vertical","_getDragVerticalDirection","horizontal","_getDragHorizontalDirection","_intersectsWithPointer","direction","_intersectsWithSides","_rearrange","cur","animation","_noFinalSort","after","prepend","serialize","_getItemsAsjQuery","connected","str","res","attr","attribute","expression","toArray","ret","dyClick","dxClick","isOverElementHeight","isOverElementWidth","isOverElement","forcePointerForContainers","floating","verticalDirection","horizontalDirection","isOverBottomHalf","isOverRightHalf","_connectWith","addItems","queries","targetData","_queries","queriesLength","fast","toleranceElement","refreshContainers","_createTrPlaceholder","eq","container","sourceTr","targetTr","dist","itemWithLeastDistance","posProperty","sizeProperty","nearBottom","innermostIndex","appendChild","hardRefresh","insertBefore","nextSibling","counter","_delay","delayEvent","delayedTriggers","before","_inst","sender","main"],"mappings":"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","file":"../skylark-jqueryui-interact.js","sourcesContent":["define('skylark-jqueryui-interact/ddmanager',[\r\n\t\"skylark-utils-dom/langx\"\r\n],function(langx) {\r\n\t/*\r\n\t * This manager tracks offsets of draggables and droppables\r\n\t */\r\n\tvar ddmanager = {\r\n\t\tcurrent: null,\r\n\t\tdroppables: { \"default\": [] },\r\n\t\tprepareOffsets: function( t, event ) {\r\n\r\n\t\t\tvar i, j,\r\n\t\t\t\tm = ddmanager.droppables[ t.options.scope ] || [],\r\n\t\t\t\ttype = event ? event.type : null, // workaround for #2317\r\n\t\t\t\tlist = ( t.currentItem || t.element ).find( \":data(ui-droppable)\" ).addBack();\r\n\r\n\t\t\tdroppablesLoop: for ( i = 0; i < m.length; i++ ) {\r\n\r\n\t\t\t\t// No disabled and non-accepted\r\n\t\t\t\tif ( m[ i ].options.disabled || ( t && !m[ i ].accept.call( m[ i ].element[ 0 ],\r\n\t\t\t\t\t\t( t.currentItem || t.element ) ) ) ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Filter out elements in the current dragged item\r\n\t\t\t\tfor ( j = 0; j < list.length; j++ ) {\r\n\t\t\t\t\tif ( list[ j ] === m[ i ].element[ 0 ] ) {\r\n\t\t\t\t\t\tm[ i ].proportions().height = 0;\r\n\t\t\t\t\t\tcontinue droppablesLoop;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tm[ i ].visible = m[ i ].element.css( \"display\" ) !== \"none\";\r\n\t\t\t\tif ( !m[ i ].visible ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Activate the droppable if used directly from draggables\r\n\t\t\t\tif ( type === \"mousedown\" ) {\r\n\t\t\t\t\tm[ i ]._activate.call( m[ i ], event );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tm[ i ].offset = m[ i ].element.offset();\r\n\t\t\t\tm[ i ].proportions( {\r\n\t\t\t\t\twidth: m[ i ].element[ 0 ].offsetWidth,\r\n\t\t\t\t\theight: m[ i ].element[ 0 ].offsetHeight\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tdrop: function( draggable, event ) {\r\n\r\n\t\t\tvar dropped = false;\r\n\r\n\t\t\t// Create a copy of the droppables in case the list changes during the drop (#9116)\r\n\t\t\tlangx.each( ( ddmanager.droppables[ draggable.options.scope ] || [] ).slice(), function() {\r\n\r\n\t\t\t\tif ( !this.options ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif ( !this.options.disabled && this.visible &&\r\n\t\t\t\t\t\tddmanager.intersect( draggable, this, this.options.tolerance, event ) ) {\r\n\t\t\t\t\tdropped = this._drop.call( this, event ) || dropped;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !this.options.disabled && this.visible && this.accept.call( this.element[ 0 ],\r\n\t\t\t\t\t\t( draggable.currentItem || draggable.element ) ) ) {\r\n\t\t\t\t\tthis.isout = true;\r\n\t\t\t\t\tthis.isover = false;\r\n\t\t\t\t\tthis._deactivate.call( this, event );\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\treturn dropped;\r\n\r\n\t\t},\r\n\t\tdragStart: function( draggable, event ) {\r\n\r\n\t\t\t// Listen for scrolling so that if the dragging causes scrolling the position of the\r\n\t\t\t// droppables can be recalculated (see #5003)\r\n\t\t\tdraggable.element.parentsUntil( \"body\" ).on( \"scroll.droppable\", function() {\r\n\t\t\t\tif ( !draggable.options.refreshPositions ) {\r\n\t\t\t\t\tddmanager.prepareOffsets( draggable, event );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\t\tdrag: function( draggable, event ) {\r\n\r\n\t\t\t// If you have a highly dynamic page, you might try this option. It renders positions\r\n\t\t\t// every time you move the mouse.\r\n\t\t\tif ( draggable.options.refreshPositions ) {\r\n\t\t\t\tddmanager.prepareOffsets( draggable, event );\r\n\t\t\t}\r\n\r\n\t\t\t// Run through all droppables and check their positions based on specific tolerance options\r\n\t\t\tlangx.each( ddmanager.droppables[ draggable.options.scope ] || [], function() {\r\n\r\n\t\t\t\tif ( this.options.disabled || this.greedyChild || !this.visible ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar parentInstance, scope, parent,\r\n\t\t\t\t\tintersects = ddmanager.intersect( draggable, this, this.options.tolerance, event ),\r\n\t\t\t\t\tc = !intersects && this.isover ?\r\n\t\t\t\t\t\t\"isout\" :\r\n\t\t\t\t\t\t( intersects && !this.isover ? \"isover\" : null );\r\n\t\t\t\tif ( !c ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( this.options.greedy ) {\r\n\r\n\t\t\t\t\t// find droppable parents with same scope\r\n\t\t\t\t\tscope = this.options.scope;\r\n\t\t\t\t\tparent = this.element.parents( \":data(ui-droppable)\" ).filter( function() {\r\n\t\t\t\t\t\treturn $( this ).droppable( \"instance\" ).options.scope === scope;\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\tif ( parent.length ) {\r\n\t\t\t\t\t\tparentInstance = $( parent[ 0 ] ).droppable( \"instance\" );\r\n\t\t\t\t\t\tparentInstance.greedyChild = ( c === \"isover\" );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// We just moved into a greedy child\r\n\t\t\t\tif ( parentInstance && c === \"isover\" ) {\r\n\t\t\t\t\tparentInstance.isover = false;\r\n\t\t\t\t\tparentInstance.isout = true;\r\n\t\t\t\t\tparentInstance._out.call( parentInstance, event );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis[ c ] = true;\r\n\t\t\t\tthis[ c === \"isout\" ? \"isover\" : \"isout\" ] = false;\r\n\t\t\t\tthis[ c === \"isover\" ? \"_over\" : \"_out\" ].call( this, event );\r\n\r\n\t\t\t\t// We just moved out of a greedy child\r\n\t\t\t\tif ( parentInstance && c === \"isout\" ) {\r\n\t\t\t\t\tparentInstance.isout = false;\r\n\t\t\t\t\tparentInstance.isover = true;\r\n\t\t\t\t\tparentInstance._over.call( parentInstance, event );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\tdragStop: function( draggable, event ) {\r\n\t\t\tdraggable.element.parentsUntil( \"body\" ).off( \"scroll.droppable\" );\r\n\r\n\t\t\t// Call prepareOffsets one final time since IE does not fire return scroll events when\r\n\t\t\t// overflow was caused by drag (see #5003)\r\n\t\t\tif ( !draggable.options.refreshPositions ) {\r\n\t\t\t\tddmanager.prepareOffsets( draggable, event );\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tddmanager.intersect = ( function() {\r\n\t\tfunction isOverAxis( x, reference, size ) {\r\n\t\t\treturn ( x >= reference ) && ( x < ( reference + size ) );\r\n\t\t}\r\n\r\n\t\treturn function( draggable, droppable, toleranceMode, event ) {\r\n\r\n\t\t\tif ( !droppable.offset ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tvar x1 = ( draggable.positionAbs ||\r\n\t\t\t\t\tdraggable.position.absolute ).left + draggable.margins.left,\r\n\t\t\t\ty1 = ( draggable.positionAbs ||\r\n\t\t\t\t\tdraggable.position.absolute ).top + draggable.margins.top,\r\n\t\t\t\tx2 = x1 + draggable.helperProportions.width,\r\n\t\t\t\ty2 = y1 + draggable.helperProportions.height,\r\n\t\t\t\tl = droppable.offset.left,\r\n\t\t\t\tt = droppable.offset.top,\r\n\t\t\t\tr = l + droppable.proportions().width,\r\n\t\t\t\tb = t + droppable.proportions().height;\r\n\r\n\t\t\tswitch ( toleranceMode ) {\r\n\t\t\tcase \"fit\":\r\n\t\t\t\treturn ( l <= x1 && x2 <= r && t <= y1 && y2 <= b );\r\n\t\t\tcase \"intersect\":\r\n\t\t\t\treturn ( l < x1 + ( draggable.helperProportions.width / 2 ) && // Right Half\r\n\t\t\t\t\tx2 - ( draggable.helperProportions.width / 2 ) < r && // Left Half\r\n\t\t\t\t\tt < y1 + ( draggable.helperProportions.height / 2 ) && // Bottom Half\r\n\t\t\t\t\ty2 - ( draggable.helperProportions.height / 2 ) < b ); // Top Half\r\n\t\t\tcase \"pointer\":\r\n\t\t\t\treturn isOverAxis( event.pageY, t, droppable.proportions().height ) &&\r\n\t\t\t\t\tisOverAxis( event.pageX, l, droppable.proportions().width );\r\n\t\t\tcase \"touch\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t( y1 >= t && y1 <= b ) || // Top edge touching\r\n\t\t\t\t\t( y2 >= t && y2 <= b ) || // Bottom edge touching\r\n\t\t\t\t\t( y1 < t && y2 > b ) // Surrounded vertically\r\n\t\t\t\t) && (\r\n\t\t\t\t\t( x1 >= l && x1 <= r ) || // Left edge touching\r\n\t\t\t\t\t( x2 >= l && x2 <= r ) || // Right edge touching\r\n\t\t\t\t\t( x1 < l && x2 > r ) // Surrounded horizontally\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t};\r\n\t} )();\r\n\r\n\r\n\treturn ddmanager;\r\n});\ndefine('skylark-jqueryui-interact/JqueryPlugin',[\r\n\t\"skylark-langx/types\",\r\n\t\"skylark-langx/objects\",\r\n\t\"skylark-langx/arrays\",\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-utils-dom/datax\",\r\n\t\"skylark-utils-dom/eventer\",\r\n\t\"skylark-utils-dom/plugins\",\r\n\t\"skylark-utils-dom/query\",\r\n],function(types, objects, arrays, langx, datax, eventer, plugins, $){\r\n\r\n    var pluginUuid = 0;\r\n\r\n\tvar JqPlugin = plugins.Plugin.inherit({\r\n\t\tklassName : \"JqPlugin\",\r\n\r\n        pluginEventPrefix: \"\",\r\n\r\n        options: {\r\n            // Callbacks\r\n            create: null\r\n        },\r\n\r\n        destroy: function() {\r\n            this.overrided();\r\n\r\n            // We can probably remove the unbind calls in 2.0\r\n            // all event bindings should go through this._on()\r\n            this.element\r\n                .off( this.eventNamespace );\r\n\r\n            this.plugin()\r\n                .off( this.eventNamespace )\r\n                .removeAttr( \"aria-disabled\" );\r\n\r\n            // Clean up events and states\r\n            this.bindings.off( this.eventNamespace );\r\n        },\r\n\r\n        _construct : function(element,options) {\r\n            //this.options = langx.mixin( {}, this.options );\r\n\r\n            element = $( element || this.defaultElement || this )[ 0 ];\r\n\r\n            this.overrided(element,options);\r\n            \r\n            this.element = $( element );\r\n            this.uuid = pluginUuid++;\r\n            this.eventNamespace = \".\" + this.pluginName + this.uuid;\r\n\r\n            this.bindings = $();\r\n            this.classesElementLookup = {};\r\n\r\n            if ( element !== this ) {\r\n                datax.data( element, this.pluginName, this );\r\n                this._on( true, this.element, {\r\n                    remove: function( event ) {\r\n                        if ( event.target === element ) {\r\n                            this.destroy();\r\n                        }\r\n                    }\r\n                } );\r\n                this.document = $( element.style ?\r\n\r\n                    // Element within the document\r\n                    element.ownerDocument :\r\n\r\n                    // Element is window or document\r\n                    element.document || element );\r\n                this.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );\r\n            }\r\n\r\n//            this.options = langx.mixin( {},\r\n//                this.options,\r\n//                this._getCreateOptions(),\r\n//                options );\r\n\r\n            this._create();\r\n\r\n            this._trigger( \"create\", null, this._getCreateEventData() );\r\n\r\n            this._init();\r\n        },\r\n\r\n//        _getCreateOptions: function() {\r\n//            return {};\r\n//        },\r\n\r\n        _getCreateEventData: langx.noop,\r\n\r\n        _create: langx.noop,\r\n\r\n        _init: langx.noop,\r\n\r\n\t\t_classes: function( options ) {\r\n\t\t\tvar full = [];\r\n\t\t\tvar that = this;\r\n\r\n\t\t\toptions = objects.mixin( {\r\n\t\t\t\telement: this.element,\r\n\t\t\t\tclasses: this.options.classes || {}\r\n\t\t\t}, options );\r\n\r\n\r\n\t\t\tfunction bindRemoveEvent() {\r\n\t\t\t\toptions.element.each( function( _, element ) {\r\n\t\t\t\t\tvar isTracked = langx.map( that.classesElementLookup, function( elements ) {\r\n\t\t\t\t\t\treturn elements;\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t\t.some( function(elements ) {\r\n\t\t\t\t\t\t\treturn $(elements).is( element );\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\tif ( !isTracked ) {\r\n\t\t\t\t\t\tthat._on( $( element ), {\r\n\t\t\t\t\t\t\tremove: \"_untrackClassesElement\"\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tfunction processClassString( classes, checkOption ) {\r\n\t\t\t\tvar current, i;\r\n\t\t\t\tfor ( i = 0; i < classes.length; i++ ) {\r\n\t\t\t\t\tcurrent = that.classesElementLookup[ classes[ i ] ] || $();\r\n\t\t\t\t\tif ( options.add ) {\r\n\t\t\t\t\t\tbindRemoveEvent();\r\n\t\t\t\t\t\tcurrent = $( langx.uniq( current.get().concat( options.element.get() ) ) );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcurrent = $( current.not( options.element ).get() );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.classesElementLookup[ classes[ i ] ] = current;\r\n\t\t\t\t\tfull.push( classes[ i ] );\r\n\t\t\t\t\tif ( checkOption && options.classes[ classes[ i ] ] ) {\r\n\t\t\t\t\t\tfull.push( options.classes[ classes[ i ] ] );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( options.keys ) {\r\n\t\t\t\tprocessClassString( options.keys.match( /\\S+/g ) || [], true );\r\n\t\t\t}\r\n\t\t\tif ( options.extra ) {\r\n\t\t\t\tprocessClassString( options.extra.match( /\\S+/g ) || [] );\r\n\t\t\t}\r\n\r\n\t\t\treturn full.join( \" \" );\r\n\t\t},\r\n\r\n\t\t_untrackClassesElement: function( event ) {\r\n\t\t\tvar that = this;\r\n\t\t\tlangx.each( that.classesElementLookup, function( key, value ) {\r\n\t\t\t\tif ( arrays.inArray( event.target, value ) !== -1 ) {\r\n\t\t\t\t\tthat.classesElementLookup[ key ] = $( value.not( event.target ).get() );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tthis._off( $( event.target ) );\r\n\t\t},\r\n\r\n\t\t_removeClass: function( element, keys, extra ) {\r\n\t\t\treturn this._toggleClass( element, keys, extra, false );\r\n\t\t},\r\n\r\n\t\t_addClass: function( element, keys, extra ) {\r\n\t\t\treturn this._toggleClass( element, keys, extra, true );\r\n\t\t},\r\n\r\n\t\t_toggleClass: function( element, keys, extra, add ) {\r\n\t\t\tadd = ( typeof add === \"boolean\" ) ? add : extra;\r\n\t\t\tvar shift = ( typeof element === \"string\" || element === null ),\r\n\t\t\t\toptions = {\r\n\t\t\t\t\textra: shift ? keys : extra,\r\n\t\t\t\t\tkeys: shift ? element : keys,\r\n\t\t\t\t\telement: shift ? this.element : element,\r\n\t\t\t\t\tadd: add\r\n\t\t\t\t};\r\n\t\t\toptions.element.toggleClass( this._classes( options ), add );\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t_on: function( suppressDisabledCheck, element, handlers ) {\r\n\t\t\tvar delegateElement;\r\n\t\t\tvar instance = this;\r\n\r\n\t\t\t// No suppressDisabledCheck flag, shuffle arguments\r\n\t\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\r\n\t\t\t\thandlers = element;\r\n\t\t\t\telement = suppressDisabledCheck;\r\n\t\t\t\tsuppressDisabledCheck = false;\r\n\t\t\t}\r\n\r\n\t\t\t// No element argument, shuffle and use this.element\r\n\t\t\tif ( !handlers ) {\r\n\t\t\t\thandlers = element;\r\n\t\t\t\telement = this.element;\r\n\t\t\t\tdelegateElement = this.widget();\r\n\t\t\t} else {\r\n\t\t\t\telement = delegateElement = $( element );\r\n\t\t\t\tthis.bindings = this.bindings.add( element );\r\n\t\t\t}\r\n\r\n\t\t\tobjects.each( handlers, function( event, handler ) {\r\n\t\t\t\tfunction handlerProxy() {\r\n\r\n\t\t\t\t\t// Allow widgets to customize the disabled handling\r\n\t\t\t\t\t// - disabled as an array instead of boolean\r\n\t\t\t\t\t// - disabled class as method for disabling individual parts\r\n\t\t\t\t\tif ( !suppressDisabledCheck &&\r\n\t\t\t\t\t\t\t( instance.options.disabled === true ||\r\n\t\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\r\n\t\t\t\t\t\t.apply( instance, arguments );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Copy the guid so direct unbinding works\r\n\t\t\t\tif ( typeof handler !== \"string\" ) {\r\n\t\t\t\t\thandlerProxy.guid = handler.guid =\r\n\t\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar match = event.match( /^([\\w:-]*)\\s*(.*)$/ );\r\n\t\t\t\tvar eventName = match[ 1 ] + instance.eventNamespace;\r\n\t\t\t\tvar selector = match[ 2 ];\r\n\r\n\t\t\t\tif ( selector ) {\r\n\t\t\t\t\tdelegateElement.on( eventName, selector, handlerProxy );\r\n\t\t\t\t} else {\r\n\t\t\t\t\telement.on( eventName, handlerProxy );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t_off: function( element, eventName ) {\r\n\t\t\teventName = ( eventName || \"\" ).split( \" \" ).join( this.eventNamespace + \" \" ) +\r\n\t\t\t\tthis.eventNamespace;\r\n\t\t\telement.off( eventName );\r\n\r\n\t\t\t// Clear the stack to avoid memory leaks (#10056)\r\n\t\t\tthis.bindings = $( this.bindings.not( element ).get() );\r\n\t\t\tthis.focusable = $( this.focusable.not( element ).get() );\r\n\t\t\tthis.hoverable = $( this.hoverable.not( element ).get() );\r\n\t\t},\r\n\r\n\t\t_trigger: function( type, event, data ) {\r\n\t\t\tvar prop, orig;\r\n\t\t\tvar callback = this.options[ type ];\r\n\r\n\t\t\tdata = data || {};\r\n\t\t\tevent = eventer.proxy( event );\r\n\t\t\tevent.type = ( type === this.widgetEventPrefix ?\r\n\t\t\t\ttype :\r\n\t\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\r\n\r\n\t\t\t// The original event may come from any element\r\n\t\t\t// so we need to reset the target on the new event\r\n\t\t\tevent.target = this.element[ 0 ];\r\n\r\n\t\t\t// Copy original event properties over to the new event\r\n\t\t\torig = event.originalEvent;\r\n\t\t\tif ( orig ) {\r\n\t\t\t\tfor ( prop in orig ) {\r\n\t\t\t\t\tif ( !( prop in event ) ) {\r\n\t\t\t\t\t\tevent[ prop ] = orig[ prop ];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.element.trigger( event, data );\r\n\t\t\treturn !( types.isFunction( callback ) &&\r\n\t\t\t\tcallback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||\r\n\t\t\t\tevent.isDefaultPrevented() );\r\n\t\t}\r\n\r\n\t});\r\n\r\n\treturn JqPlugin;\r\n});\ndefine( 'skylark-jqueryui-interact/Mouse',[\r\n\t\"skylark-utils-dom/browser\",\r\n\t\"skylark-utils-dom/datax\",\r\n\t\"skylark-utils-dom/query\",\r\n\t\"skylark-utils-dom/plugins\",\r\n\t\"./JqueryPlugin\",\r\n],function(browser, datax, $, plugins, JqPlugin) {\r\n\r\n\tvar mouseHandled = false;\r\n\t$( document ).on( \"mouseup\", function() {\r\n\t\tmouseHandled = false;\r\n\t} );\r\n\r\n\tvar MousePlugin = JqPlugin.inherit({\r\n\t\tklassName : \"MousePlugin\",\r\n\r\n\t\tpluginName : \"ui.mouse\",\r\n\r\n\t\toptions: {\r\n\t\t\tcancel: \"input, textarea, button, select, option\",\r\n\t\t\tdistance: 1,\r\n\t\t\tdelay: 0\r\n\t\t},\r\n\t\t_mouseInit: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.element\r\n\t\t\t\t.on( \"mousedown.\" + this.pluginName, function( event ) {\r\n\t\t\t\t\treturn that._mouseDown( event );\r\n\t\t\t\t} )\r\n\t\t\t\t.on( \"click.\" + this.pluginName, function( event ) {\r\n\t\t\t\t\tif ( true === datax.data( event.target, that.pluginName + \".preventClickEvent\" ) ) {\r\n\t\t\t\t\t\tdatax.removeData( event.target, that.pluginName + \".preventClickEvent\" );\r\n\t\t\t\t\t\tevent.stopImmediatePropagation();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\r\n\t\t\tthis.started = false;\r\n\t\t},\r\n\r\n\t\t// TODO: make sure destroying one instance of mouse doesn't mess with\r\n\t\t// other instances of mouse\r\n\t\t_mouseDestroy: function() {\r\n\t\t\tthis.element.off( \".\" + this.pluginName );\r\n\t\t\tif ( this._mouseMoveDelegate ) {\r\n\t\t\t\tthis.document\r\n\t\t\t\t\t.off( \"mousemove.\" + this.pluginName, this._mouseMoveDelegate )\r\n\t\t\t\t\t.off( \"mouseup.\" + this.pluginName, this._mouseUpDelegate );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_mouseDown: function( event ) {\r\n\r\n\t\t\t// don't let more than one widget handle mouseStart\r\n\t\t\tif ( mouseHandled ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis._mouseMoved = false;\r\n\r\n\t\t\t// We may have missed mouseup (out of window)\r\n\t\t\t( this._mouseStarted && this._mouseUp( event ) );\r\n\r\n\t\t\tthis._mouseDownEvent = event;\r\n\r\n\t\t\tvar that = this,\r\n\t\t\t\tbtnIsLeft = ( event.which === 1 ),\r\n\r\n\t\t\t\t// event.target.nodeName works around a bug in IE 8 with\r\n\t\t\t\t// disabled inputs (#7620)\r\n\t\t\t\telIsCancel = ( typeof this.options.cancel === \"string\" && event.target.nodeName ?\r\n\t\t\t\t\t$( event.target ).closest( this.options.cancel ).length : false );\r\n\t\t\tif ( !btnIsLeft || elIsCancel || !this._mouseCapture( event ) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tthis.mouseDelayMet = !this.options.delay;\r\n\t\t\tif ( !this.mouseDelayMet ) {\r\n\t\t\t\tthis._mouseDelayTimer = setTimeout( function() {\r\n\t\t\t\t\tthat.mouseDelayMet = true;\r\n\t\t\t\t}, this.options.delay );\r\n\t\t\t}\r\n\r\n\t\t\tif ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {\r\n\t\t\t\tthis._mouseStarted = ( this._mouseStart( event ) !== false );\r\n\t\t\t\tif ( !this._mouseStarted ) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Click event may never have fired (Gecko & Opera)\r\n\t\t\tif ( true === datax.data( event.target, this.pluginName + \".preventClickEvent\" ) ) {\r\n\t\t\t\tdatax.removeData( event.target, this.pluginName + \".preventClickEvent\" );\r\n\t\t\t}\r\n\r\n\t\t\t// These delegates are required to keep context\r\n\t\t\tthis._mouseMoveDelegate = function( event ) {\r\n\t\t\t\treturn that._mouseMove( event );\r\n\t\t\t};\r\n\t\t\tthis._mouseUpDelegate = function( event ) {\r\n\t\t\t\treturn that._mouseUp( event );\r\n\t\t\t};\r\n\r\n\t\t\tthis.document\r\n\t\t\t\t.on( \"mousemove.\" + this.pluginName, this._mouseMoveDelegate )\r\n\t\t\t\t.on( \"mouseup.\" + this.pluginName, this._mouseUpDelegate );\r\n\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tmouseHandled = true;\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t_mouseMove: function( event ) {\r\n\r\n\t\t\t// Only check for mouseups outside the document if you've moved inside the document\r\n\t\t\t// at least once. This prevents the firing of mouseup in the case of IE<9, which will\r\n\t\t\t// fire a mousemove event if content is placed under the cursor. See #7778\r\n\t\t\t// Support: IE <9\r\n\t\t\tif ( this._mouseMoved ) {\r\n\r\n\t\t\t\t// IE mouseup check - mouseup happened when mouse was out of window\r\n\t\t\t\tif ( browser.ie && ( !document.documentMode || document.documentMode < 9 ) &&\r\n\t\t\t\t\t\t!event.button ) {\r\n\t\t\t\t\treturn this._mouseUp( event );\r\n\r\n\t\t\t\t// Iframe mouseup check - mouseup occurred in another document\r\n\t\t\t\t} else if ( !event.which ) {\r\n\r\n\t\t\t\t\t// Support: Safari <=8 - 9\r\n\t\t\t\t\t// Safari sets which to 0 if you press any of the following keys\r\n\t\t\t\t\t// during a drag (#14461)\r\n\t\t\t\t\tif ( event.originalEvent.altKey || event.originalEvent.ctrlKey ||\r\n\t\t\t\t\t\t\tevent.originalEvent.metaKey || event.originalEvent.shiftKey ) {\r\n\t\t\t\t\t\tthis.ignoreMissingWhich = true;\r\n\t\t\t\t\t} else if ( !this.ignoreMissingWhich ) {\r\n\t\t\t\t\t\treturn this._mouseUp( event );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( event.which || event.button ) {\r\n\t\t\t\tthis._mouseMoved = true;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this._mouseStarted ) {\r\n\t\t\t\tthis._mouseDrag( event );\r\n\t\t\t\treturn event.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\tif ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {\r\n\t\t\t\tthis._mouseStarted =\r\n\t\t\t\t\t( this._mouseStart( this._mouseDownEvent, event ) !== false );\r\n\t\t\t\t( this._mouseStarted ? this._mouseDrag( event ) : this._mouseUp( event ) );\r\n\t\t\t}\r\n\r\n\t\t\treturn !this._mouseStarted;\r\n\t\t},\r\n\r\n\t\t_mouseUp: function( event ) {\r\n\t\t\tthis.document\r\n\t\t\t\t.off( \"mousemove.\" + this.pluginName, this._mouseMoveDelegate )\r\n\t\t\t\t.off( \"mouseup.\" + this.pluginName, this._mouseUpDelegate );\r\n\r\n\t\t\tif ( this._mouseStarted ) {\r\n\t\t\t\tthis._mouseStarted = false;\r\n\r\n\t\t\t\tif ( event.target === this._mouseDownEvent.target ) {\r\n\t\t\t\t\tdatax.data( event.target, this.pluginName + \".preventClickEvent\", true );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._mouseStop( event );\r\n\t\t\t}\r\n\r\n\t\t\tif ( this._mouseDelayTimer ) {\r\n\t\t\t\tclearTimeout( this._mouseDelayTimer );\r\n\t\t\t\tdelete this._mouseDelayTimer;\r\n\t\t\t}\r\n\r\n\t\t\tthis.ignoreMissingWhich = false;\r\n\t\t\tmouseHandled = false;\r\n\t\t\tevent.preventDefault();\r\n\t\t},\r\n\r\n\t\t_mouseDistanceMet: function( event ) {\r\n\t\t\treturn ( Math.max(\r\n\t\t\t\t\tMath.abs( this._mouseDownEvent.pageX - event.pageX ),\r\n\t\t\t\t\tMath.abs( this._mouseDownEvent.pageY - event.pageY )\r\n\t\t\t\t) >= this.options.distance\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t_mouseDelayMet: function( /* event */ ) {\r\n\t\t\treturn this.mouseDelayMet;\r\n\t\t},\r\n\r\n\t\t// These are placeholder methods, to be overriden by extending plugin\r\n\t\t_mouseStart: function( /* event */ ) {},\r\n\t\t_mouseDrag: function( /* event */ ) {},\r\n\t\t_mouseStop: function( /* event */ ) {},\r\n\t\t_mouseCapture: function( /* event */ ) { return true; }\r\n\t});\r\n\r\n\r\n\tplugins.register(MousePlugin);\r\n\r\n\treturn MousePlugin;\r\n});\r\n\ndefine('skylark-jqueryui-interact/patch',[\r\n], function() {\r\n\t// patch($.ui.plugin) is deprecated. .\r\n\treturn  {\r\n\t\tadd: function( module, option, set ) {\r\n\t\t\tvar i,\r\n\t\t\t\tproto = module.prototype;\r\n\t\t\tfor ( i in set ) {\r\n\t\t\t\tproto.patches[ i ] = proto.patches[ i ] || [];\r\n\t\t\t\tproto.patches[ i ].push( [ option, set[ i ] ] );\r\n\t\t\t}\r\n\t\t},\r\n\t\tcall: function( instance, name, args, allowDisconnected ) {\r\n\t\t\tvar i,\r\n\t\t\t\tset = instance.patches[ name ];\r\n\r\n\t\t\tif ( !set ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( !allowDisconnected && ( !instance.element[ 0 ].parentNode ||\r\n\t\t\t\t\tinstance.element[ 0 ].parentNode.nodeType === 11 ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor ( i = 0; i < set.length; i++ ) {\r\n\t\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\r\n\t\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n});\r\n\ndefine( 'skylark-jqueryui-interact/Draggable',[\r\n\t\"skylark-utils-dom/langx\",\r\n\t\"skylark-utils-dom/eventer\",\r\n\t\"skylark-utils-dom/noder\",\r\n\t\"skylark-utils-dom/query\",\r\n\t\"skylark-utils-dom/plugins\",\r\n\t\"./Mouse\",\r\n\t\"./patch\",\r\n\t\"./ddmanager\",\r\n],function(langx, eventer, noder, $, plugins, Mouse, patch, ddmanager) {\r\n\r\n\tvar Draggable = Mouse.inherit({\r\n\t\tklassName: \"Draggable\",\r\n\r\n\t\tpluginName : \"ui.draggable\",\r\n\r\n\t\twidgetEventPrefix: \"drag\",\r\n\t\toptions: {\r\n\t\t\taddClasses: true,\r\n\t\t\tappendTo: \"parent\",\r\n\t\t\taxis: false,\r\n\t\t\tconnectToSortable: false,\r\n\t\t\tcontainment: false,\r\n\t\t\tcursor: \"auto\",\r\n\t\t\tcursorAt: false,\r\n\t\t\tgrid: false,\r\n\t\t\thandle: false,\r\n\t\t\thelper: \"original\",\r\n\t\t\tiframeFix: false,\r\n\t\t\topacity: false,\r\n\t\t\trefreshPositions: false,\r\n\t\t\trevert: false,\r\n\t\t\trevertDuration: 500,\r\n\t\t\tscope: \"default\",\r\n\t\t\tscroll: true,\r\n\t\t\tscrollSensitivity: 20,\r\n\t\t\tscrollSpeed: 20,\r\n\t\t\tsnap: false,\r\n\t\t\tsnapMode: \"both\",\r\n\t\t\tsnapTolerance: 20,\r\n\t\t\tstack: false,\r\n\t\t\tzIndex: false,\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tdrag: null,\r\n\t\t\tstart: null,\r\n\t\t\tstop: null\r\n\t\t},\r\n\t\t_create: function() {\r\n\r\n\t\t\tif ( this.options.helper === \"original\" ) {\r\n\t\t\t\tthis._setPositionRelative();\r\n\t\t\t}\r\n\t\t\tif ( this.options.addClasses ) {\r\n\t\t\t\tthis._addClass( \"ui-draggable\" );\r\n\t\t\t}\r\n\t\t\tthis._setHandleClassName();\r\n\r\n\t\t\tthis._mouseInit();\r\n\t\t},\r\n\r\n\t\t_setOption: function( key, value ) {\r\n\t\t\tthis._super( key, value );\r\n\t\t\tif ( key === \"handle\" ) {\r\n\t\t\t\tthis._removeHandleClassName();\r\n\t\t\t\tthis._setHandleClassName();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\t\t\tif ( ( this.helper || this.element ).is( \".ui-draggable-dragging\" ) ) {\r\n\t\t\t\tthis.destroyOnClear = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._removeHandleClassName();\r\n\t\t\tthis._mouseDestroy();\r\n\t\t},\r\n\r\n\t\t_mouseCapture: function( event ) {\r\n\t\t\tvar o = this.options;\r\n\r\n\t\t\t// Among others, prevent a drag on a resizable-handle\r\n\t\t\tif ( this.helper || o.disabled ||\r\n\t\t\t\t\t$( event.target ).closest( \".ui-resizable-handle\" ).length > 0 ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t//Quit if we're not on a valid handle\r\n\t\t\tthis.handle = this._getHandle( event );\r\n\t\t\tif ( !this.handle ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthis._blurActiveElement( event );\r\n\r\n\t\t\tthis._blockFrames( o.iframeFix === true ? \"iframe\" : o.iframeFix );\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\t_blockFrames: function( selector ) {\r\n\t\t\tthis.iframeBlocks = this.document.find( selector ).map( function() {\r\n\t\t\t\tvar iframe = $( this );\r\n\r\n\t\t\t\treturn $( \"<div>\" )\r\n\t\t\t\t\t.css( \"position\", \"absolute\" )\r\n\t\t\t\t\t.appendTo( iframe.parent() )\r\n\t\t\t\t\t.outerWidth( iframe.outerWidth() )\r\n\t\t\t\t\t.outerHeight( iframe.outerHeight() )\r\n\t\t\t\t\t.offset( iframe.offset() )[ 0 ];\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t_unblockFrames: function() {\r\n\t\t\tif ( this.iframeBlocks ) {\r\n\t\t\t\tthis.iframeBlocks.remove();\r\n\t\t\t\tdelete this.iframeBlocks;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_blurActiveElement: function( event ) {\r\n\t\t\tvar activeElement = noder.active( this.document[ 0 ] ),\r\n\t\t\t\ttarget = $( event.target );\r\n\r\n\t\t\t// Don't blur if the event occurred on an element that is within\r\n\t\t\t// the currently focused element\r\n\t\t\t// See #10527, #12472\r\n\t\t\tif ( target.closest( activeElement ).length ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Blur any element that currently has focus, see #4261\r\n\t\t\tnoder.blur( activeElement );\r\n\t\t},\r\n\r\n\t\t_mouseStart: function( event ) {\r\n\r\n\t\t\tvar o = this.options;\r\n\r\n\t\t\t//Create and append the visible helper\r\n\t\t\tthis.helper = this._createHelper( event );\r\n\r\n\t\t\tthis._addClass( this.helper, \"ui-draggable-dragging\" );\r\n\r\n\t\t\t//Cache the helper size\r\n\t\t\tthis._cacheHelperProportions();\r\n\r\n\t\t\t//If ddmanager is used for droppables, set the global draggable\r\n\t\t\tif ( ddmanager ) {\r\n\t\t\t\tddmanager.current = this;\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * - Position generation -\r\n\t\t\t * This block generates everything position related - it's the core of draggables.\r\n\t\t\t */\r\n\r\n\t\t\t//Cache the margins of the original element\r\n\t\t\tthis._cacheMargins();\r\n\r\n\t\t\t//Store the helper's css position\r\n\t\t\tthis.cssPosition = this.helper.css( \"position\" );\r\n\t\t\tthis.scrollParent = this.helper.scrollParent( true );\r\n\t\t\tthis.offsetParent = this.helper.offsetParent();\r\n\t\t\tthis.hasFixedAncestor = this.helper.parents().filter( function() {\r\n\t\t\t\t\treturn $( this ).css( \"position\" ) === \"fixed\";\r\n\t\t\t\t} ).length > 0;\r\n\r\n\t\t\t//The element's absolute position on the page minus margins\r\n\t\t\tthis.positionAbs = this.element.offset();\r\n\t\t\tthis._refreshOffsets( event );\r\n\r\n\t\t\t//Generate the original position\r\n\t\t\tthis.originalPosition = this.position = this._generatePosition( event, false );\r\n\t\t\tthis.originalPageX = event.pageX;\r\n\t\t\tthis.originalPageY = event.pageY;\r\n\r\n\t\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\r\n\t\t\t( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );\r\n\r\n\t\t\t//Set a containment if given in the options\r\n\t\t\tthis._setContainment();\r\n\r\n\t\t\t//Trigger event + callbacks\r\n\t\t\tif ( this._trigger( \"start\", event ) === false ) {\r\n\t\t\t\tthis._clear();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t//Recache the helper size\r\n\t\t\tthis._cacheHelperProportions();\r\n\r\n\t\t\t//Prepare the droppable offsets\r\n\t\t\tif ( ddmanager && !o.dropBehaviour ) {\r\n\t\t\t\tddmanager.prepareOffsets( this, event );\r\n\t\t\t}\r\n\r\n\t\t\t// Execute the drag once - this causes the helper not to be visible before getting its\r\n\t\t\t// correct position\r\n\t\t\tthis._mouseDrag( event, true );\r\n\r\n\t\t\t// If the ddmanager is used for droppables, inform the manager that dragging has started\r\n\t\t\t// (see #5003)\r\n\t\t\tif ( ddmanager ) {\r\n\t\t\t\tddmanager.dragStart( this, event );\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t_refreshOffsets: function( event ) {\r\n\t\t\tthis.offset = {\r\n\t\t\t\ttop: this.positionAbs.top - this.margins.top,\r\n\t\t\t\tleft: this.positionAbs.left - this.margins.left,\r\n\t\t\t\tscroll: false,\r\n\t\t\t\tparent: this._getParentOffset(),\r\n\t\t\t\trelative: this._getRelativeOffset()\r\n\t\t\t};\r\n\r\n\t\t\tthis.offset.click = {\r\n\t\t\t\tleft: event.pageX - this.offset.left,\r\n\t\t\t\ttop: event.pageY - this.offset.top\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_mouseDrag: function( event, noPropagation ) {\r\n\r\n\t\t\t// reset any necessary cached properties (see #5009)\r\n\t\t\tif ( this.hasFixedAncestor ) {\r\n\t\t\t\tthis.offset.parent = this._getParentOffset();\r\n\t\t\t}\r\n\r\n\t\t\t//Compute the helpers position\r\n\t\t\tthis.position = this._generatePosition( event, true );\r\n\t\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\r\n\r\n\t\t\t//Call patches and callbacks and use the resulting position if something is returned\r\n\t\t\tif ( !noPropagation ) {\r\n\t\t\t\tvar ui = this._uiHash();\r\n\t\t\t\tif ( this._trigger( \"drag\", event, ui ) === false ) {\r\n\t\t\t\t\tthis._mouseUp( new eventer.create( \"mouseup\", event ) );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.position = ui.position;\r\n\t\t\t}\r\n\r\n\t\t\tthis.helper[ 0 ].style.left = this.position.left + \"px\";\r\n\t\t\tthis.helper[ 0 ].style.top = this.position.top + \"px\";\r\n\r\n\t\t\tif ( ddmanager ) {\r\n\t\t\t\tddmanager.drag( this, event );\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_mouseStop: function( event ) {\r\n\r\n\t\t\t//If we are using droppables, inform the manager about the drop\r\n\t\t\tvar that = this,\r\n\t\t\t\tdropped = false;\r\n\t\t\tif ( ddmanager && !this.options.dropBehaviour ) {\r\n\t\t\t\tdropped = ddmanager.drop( this, event );\r\n\t\t\t}\r\n\r\n\t\t\t//if a drop comes from outside (a sortable)\r\n\t\t\tif ( this.dropped ) {\r\n\t\t\t\tdropped = this.dropped;\r\n\t\t\t\tthis.dropped = false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( ( this.options.revert === \"invalid\" && !dropped ) ||\r\n\t\t\t\t\t( this.options.revert === \"valid\" && dropped ) ||\r\n\t\t\t\t\tthis.options.revert === true || ( langx.isFunction( this.options.revert ) &&\r\n\t\t\t\t\tthis.options.revert.call( this.element, dropped ) )\r\n\t\t\t) {\r\n\t\t\t\t$( this.helper ).animate(\r\n\t\t\t\t\tthis.originalPosition,\r\n\t\t\t\t\tparseInt( this.options.revertDuration, 10 ),\r\n\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\tif ( that._trigger( \"stop\", event ) !== false ) {\r\n\t\t\t\t\t\t\tthat._clear();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tif ( this._trigger( \"stop\", event ) !== false ) {\r\n\t\t\t\t\tthis._clear();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_mouseUp: function( event ) {\r\n\t\t\tthis._unblockFrames();\r\n\r\n\t\t\t// If the ddmanager is used for droppables, inform the manager that dragging has stopped\r\n\t\t\t// (see #5003)\r\n\t\t\tif ( ddmanager ) {\r\n\t\t\t\tddmanager.dragStop( this, event );\r\n\t\t\t}\r\n\r\n\t\t\t// Only need to focus if the event occurred on the draggable itself, see #10527\r\n\t\t\tif ( this.handleElement.is( event.target ) ) {\r\n\r\n\t\t\t\t// The interaction is over; whether or not the click resulted in a drag,\r\n\t\t\t\t// focus the element\r\n\t\t\t\tthis.element.trigger( \"focus\" );\r\n\t\t\t}\r\n\r\n\t\t\treturn this.overrided(event );\r\n\t\t},\r\n\r\n\t\tcancel: function() {\r\n\r\n\t\t\tif ( this.helper.is( \".ui-draggable-dragging\" ) ) {\r\n\t\t\t\tthis._mouseUp( eventer.create( \"mouseup\", { target: this.element[ 0 ] }));\r\n\t\t\t} else {\r\n\t\t\t\tthis._clear();\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\t_getHandle: function( event ) {\r\n\t\t\treturn this.options.handle ?\r\n\t\t\t\t!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :\r\n\t\t\t\ttrue;\r\n\t\t},\r\n\r\n\t\t_setHandleClassName: function() {\r\n\t\t\tthis.handleElement = this.options.handle ?\r\n\t\t\t\tthis.element.find( this.options.handle ) : this.element;\r\n\t\t\tthis._addClass( this.handleElement, \"ui-draggable-handle\" );\r\n\t\t},\r\n\r\n\t\t_removeHandleClassName: function() {\r\n\t\t\tthis._removeClass( this.handleElement, \"ui-draggable-handle\" );\r\n\t\t},\r\n\r\n\t\t_createHelper: function( event ) {\r\n\r\n\t\t\tvar o = this.options,\r\n\t\t\t\thelperIsFunction = langx.isFunction( o.helper ),\r\n\t\t\t\thelper = helperIsFunction ?\r\n\t\t\t\t\t$( o.helper.apply( this.element[ 0 ], [ event ] ) ) :\r\n\t\t\t\t\t( o.helper === \"clone\" ?\r\n\t\t\t\t\t\tthis.element.clone().removeAttr( \"id\" ) :\r\n\t\t\t\t\t\tthis.element );\r\n\r\n\t\t\tif ( !helper.parents( \"body\" ).length ) {\r\n\t\t\t\thelper.appendTo( ( o.appendTo === \"parent\" ?\r\n\t\t\t\t\tthis.element[ 0 ].parentNode :\r\n\t\t\t\t\to.appendTo ) );\r\n\t\t\t}\r\n\r\n\t\t\t// Http://bugs.jqueryui.com/ticket/9446\r\n\t\t\t// a helper function can return the original element\r\n\t\t\t// which wouldn't have been set to relative in _create\r\n\t\t\tif ( helperIsFunction && helper[ 0 ] === this.element[ 0 ] ) {\r\n\t\t\t\tthis._setPositionRelative();\r\n\t\t\t}\r\n\r\n\t\t\tif ( helper[ 0 ] !== this.element[ 0 ] &&\r\n\t\t\t\t\t!( /(fixed|absolute)/ ).test( helper.css( \"position\" ) ) ) {\r\n\t\t\t\thelper.css( \"position\", \"absolute\" );\r\n\t\t\t}\r\n\r\n\t\t\treturn helper;\r\n\r\n\t\t},\r\n\r\n\t\t_setPositionRelative: function() {\r\n\t\t\tif ( !( /^(?:r|a|f)/ ).test( this.element.css( \"position\" ) ) ) {\r\n\t\t\t\tthis.element[ 0 ].style.position = \"relative\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_adjustOffsetFromHelper: function( obj ) {\r\n\t\t\tif ( typeof obj === \"string\" ) {\r\n\t\t\t\tobj = obj.split( \" \" );\r\n\t\t\t}\r\n\t\t\tif ( langx.isArray( obj ) ) {\r\n\t\t\t\tobj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };\r\n\t\t\t}\r\n\t\t\tif ( \"left\" in obj ) {\r\n\t\t\t\tthis.offset.click.left = obj.left + this.margins.left;\r\n\t\t\t}\r\n\t\t\tif ( \"right\" in obj ) {\r\n\t\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\r\n\t\t\t}\r\n\t\t\tif ( \"top\" in obj ) {\r\n\t\t\t\tthis.offset.click.top = obj.top + this.margins.top;\r\n\t\t\t}\r\n\t\t\tif ( \"bottom\" in obj ) {\r\n\t\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_isRootNode: function( element ) {\r\n\t\t\treturn ( /(html|body)/i ).test( element.tagName ) || element === this.document[ 0 ];\r\n\t\t},\r\n\r\n\t\t_getParentOffset: function() {\r\n\r\n\t\t\t//Get the offsetParent and cache its position\r\n\t\t\tvar po = this.offsetParent.offset(),\r\n\t\t\t\tdocument = this.document[ 0 ];\r\n\r\n\t\t\t// This is a special case where we need to modify a offset calculated on start, since the\r\n\t\t\t// following happened:\r\n\t\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the\r\n\t\t\t// next positioned parent\r\n\t\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\r\n\t\t\t// the document, which means that the scroll is included in the initial calculation of the\r\n\t\t\t// offset of the parent, and never recalculated upon drag\r\n\t\t\tif ( this.cssPosition === \"absolute\" && this.scrollParent[ 0 ] !== document &&\r\n\t\t\t\t\tnoder.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {\r\n\t\t\t\tpo.left += this.scrollParent.scrollLeft();\r\n\t\t\t\tpo.top += this.scrollParent.scrollTop();\r\n\t\t\t}\r\n\r\n\t\t\tif ( this._isRootNode( this.offsetParent[ 0 ] ) ) {\r\n\t\t\t\tpo = { top: 0, left: 0 };\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: po.top + ( parseInt( this.offsetParent.css( \"borderTopWidth\" ), 10 ) || 0 ),\r\n\t\t\t\tleft: po.left + ( parseInt( this.offsetParent.css( \"borderLeftWidth\" ), 10 ) || 0 )\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_getRelativeOffset: function() {\r\n\t\t\tif ( this.cssPosition !== \"relative\" ) {\r\n\t\t\t\treturn { top: 0, left: 0 };\r\n\t\t\t}\r\n\r\n\t\t\tvar p = this.element.position(),\r\n\t\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: p.top - ( parseInt( this.helper.css( \"top\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollTop() : 0 ),\r\n\t\t\t\tleft: p.left - ( parseInt( this.helper.css( \"left\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollLeft() : 0 )\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_cacheMargins: function() {\r\n\t\t\tthis.margins = {\r\n\t\t\t\tleft: ( parseInt( this.element.css( \"marginLeft\" ), 10 ) || 0 ),\r\n\t\t\t\ttop: ( parseInt( this.element.css( \"marginTop\" ), 10 ) || 0 ),\r\n\t\t\t\tright: ( parseInt( this.element.css( \"marginRight\" ), 10 ) || 0 ),\r\n\t\t\t\tbottom: ( parseInt( this.element.css( \"marginBottom\" ), 10 ) || 0 )\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_cacheHelperProportions: function() {\r\n\t\t\tthis.helperProportions = {\r\n\t\t\t\twidth: this.helper.outerWidth(),\r\n\t\t\t\theight: this.helper.outerHeight()\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_setContainment: function() {\r\n\r\n\t\t\tvar isUserScrollable, c, ce,\r\n\t\t\t\to = this.options,\r\n\t\t\t\tdocument = this.document[ 0 ];\r\n\r\n\t\t\tthis.relativeContainer = null;\r\n\r\n\t\t\tif ( !o.containment ) {\r\n\t\t\t\tthis.containment = null;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( o.containment === \"window\" ) {\r\n\t\t\t\tthis.containment = [\r\n\t\t\t\t\t$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,\r\n\t\t\t\t\t$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,\r\n\t\t\t\t\t$( window ).scrollLeft() + $( window ).width() -\r\n\t\t\t\t\t\tthis.helperProportions.width - this.margins.left,\r\n\t\t\t\t\t$( window ).scrollTop() +\r\n\t\t\t\t\t\t( $( window ).height() || document.body.parentNode.scrollHeight ) -\r\n\t\t\t\t\t\tthis.helperProportions.height - this.margins.top\r\n\t\t\t\t];\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( o.containment === \"document\" ) {\r\n\t\t\t\tthis.containment = [\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t$( document ).width() - this.helperProportions.width - this.margins.left,\r\n\t\t\t\t\t( $( document ).height() || document.body.parentNode.scrollHeight ) -\r\n\t\t\t\t\t\tthis.helperProportions.height - this.margins.top\r\n\t\t\t\t];\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( o.containment.constructor === Array ) {\r\n\t\t\t\tthis.containment = o.containment;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( o.containment === \"parent\" ) {\r\n\t\t\t\to.containment = this.helper[ 0 ].parentNode;\r\n\t\t\t}\r\n\r\n\t\t\tc = $( o.containment );\r\n\t\t\tce = c[ 0 ];\r\n\r\n\t\t\tif ( !ce ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tisUserScrollable = /(scroll|auto)/.test( c.css( \"overflow\" ) );\r\n\r\n\t\t\tthis.containment = [\r\n\t\t\t\t( parseInt( c.css( \"borderLeftWidth\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t( parseInt( c.css( \"paddingLeft\" ), 10 ) || 0 ),\r\n\t\t\t\t( parseInt( c.css( \"borderTopWidth\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t( parseInt( c.css( \"paddingTop\" ), 10 ) || 0 ),\r\n\t\t\t\t( isUserScrollable ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -\r\n\t\t\t\t\t( parseInt( c.css( \"borderRightWidth\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t( parseInt( c.css( \"paddingRight\" ), 10 ) || 0 ) -\r\n\t\t\t\t\tthis.helperProportions.width -\r\n\t\t\t\t\tthis.margins.left -\r\n\t\t\t\t\tthis.margins.right,\r\n\t\t\t\t( isUserScrollable ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -\r\n\t\t\t\t\t( parseInt( c.css( \"borderBottomWidth\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t( parseInt( c.css( \"paddingBottom\" ), 10 ) || 0 ) -\r\n\t\t\t\t\tthis.helperProportions.height -\r\n\t\t\t\t\tthis.margins.top -\r\n\t\t\t\t\tthis.margins.bottom\r\n\t\t\t];\r\n\t\t\tthis.relativeContainer = c;\r\n\t\t},\r\n\r\n\t\t_convertPositionTo: function( d, pos ) {\r\n\r\n\t\t\tif ( !pos ) {\r\n\t\t\t\tpos = this.position;\r\n\t\t\t}\r\n\r\n\t\t\tvar mod = d === \"absolute\" ? 1 : -1,\r\n\t\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpos.top\t+\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.top * mod +\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.top * mod -\r\n\t\t\t\t\t( ( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.offset.scroll.top :\r\n\t\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) ) * mod )\r\n\t\t\t\t),\r\n\t\t\t\tleft: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpos.left +\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.left * mod +\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.left * mod\t-\r\n\t\t\t\t\t( ( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.offset.scroll.left :\r\n\t\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) ) * mod )\r\n\t\t\t\t)\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_generatePosition: function( event, constrainPosition ) {\r\n\r\n\t\t\tvar containment, co, top, left,\r\n\t\t\t\to = this.options,\r\n\t\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] ),\r\n\t\t\t\tpageX = event.pageX,\r\n\t\t\t\tpageY = event.pageY;\r\n\r\n\t\t\t// Cache the scroll\r\n\t\t\tif ( !scrollIsRootNode || !this.offset.scroll ) {\r\n\t\t\t\tthis.offset.scroll = {\r\n\t\t\t\t\ttop: this.scrollParent.scrollTop(),\r\n\t\t\t\t\tleft: this.scrollParent.scrollLeft()\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * - Position constraining -\r\n\t\t\t * Constrain the position to a mix of grid, containment.\r\n\t\t\t */\r\n\r\n\t\t\t// If we are not dragging yet, we won't check for options\r\n\t\t\tif ( constrainPosition ) {\r\n\t\t\t\tif ( this.containment ) {\r\n\t\t\t\t\tif ( this.relativeContainer ) {\r\n\t\t\t\t\t\tco = this.relativeContainer.offset();\r\n\t\t\t\t\t\tcontainment = [\r\n\t\t\t\t\t\t\tthis.containment[ 0 ] + co.left,\r\n\t\t\t\t\t\t\tthis.containment[ 1 ] + co.top,\r\n\t\t\t\t\t\t\tthis.containment[ 2 ] + co.left,\r\n\t\t\t\t\t\t\tthis.containment[ 3 ] + co.top\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontainment = this.containment;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( event.pageX - this.offset.click.left < containment[ 0 ] ) {\r\n\t\t\t\t\t\tpageX = containment[ 0 ] + this.offset.click.left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( event.pageY - this.offset.click.top < containment[ 1 ] ) {\r\n\t\t\t\t\t\tpageY = containment[ 1 ] + this.offset.click.top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( event.pageX - this.offset.click.left > containment[ 2 ] ) {\r\n\t\t\t\t\t\tpageX = containment[ 2 ] + this.offset.click.left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( event.pageY - this.offset.click.top > containment[ 3 ] ) {\r\n\t\t\t\t\t\tpageY = containment[ 3 ] + this.offset.click.top;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( o.grid ) {\r\n\r\n\t\t\t\t\t//Check for grid elements set to 0 to prevent divide by 0 error causing invalid\r\n\t\t\t\t\t// argument errors in IE (see ticket #6950)\r\n\t\t\t\t\ttop = o.grid[ 1 ] ? this.originalPageY + Math.round( ( pageY -\r\n\t\t\t\t\t\tthis.originalPageY ) / o.grid[ 1 ] ) * o.grid[ 1 ] : this.originalPageY;\r\n\t\t\t\t\tpageY = containment ? ( ( top - this.offset.click.top >= containment[ 1 ] ||\r\n\t\t\t\t\t\ttop - this.offset.click.top > containment[ 3 ] ) ?\r\n\t\t\t\t\t\t\ttop :\r\n\t\t\t\t\t\t\t( ( top - this.offset.click.top >= containment[ 1 ] ) ?\r\n\t\t\t\t\t\t\t\ttop - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) : top;\r\n\r\n\t\t\t\t\tleft = o.grid[ 0 ] ? this.originalPageX +\r\n\t\t\t\t\t\tMath.round( ( pageX - this.originalPageX ) / o.grid[ 0 ] ) * o.grid[ 0 ] :\r\n\t\t\t\t\t\tthis.originalPageX;\r\n\t\t\t\t\tpageX = containment ? ( ( left - this.offset.click.left >= containment[ 0 ] ||\r\n\t\t\t\t\t\tleft - this.offset.click.left > containment[ 2 ] ) ?\r\n\t\t\t\t\t\t\tleft :\r\n\t\t\t\t\t\t\t( ( left - this.offset.click.left >= containment[ 0 ] ) ?\r\n\t\t\t\t\t\t\t\tleft - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) : left;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( o.axis === \"y\" ) {\r\n\t\t\t\t\tpageX = this.originalPageX;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( o.axis === \"x\" ) {\r\n\t\t\t\t\tpageY = this.originalPageY;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpageY -\r\n\r\n\t\t\t\t\t// Click offset (relative to the element)\r\n\t\t\t\t\tthis.offset.click.top -\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.top -\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.top +\r\n\t\t\t\t\t( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.offset.scroll.top :\r\n\t\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) )\r\n\t\t\t\t),\r\n\t\t\t\tleft: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpageX -\r\n\r\n\t\t\t\t\t// Click offset (relative to the element)\r\n\t\t\t\t\tthis.offset.click.left -\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.left -\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.left +\r\n\t\t\t\t\t( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.offset.scroll.left :\r\n\t\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) )\r\n\t\t\t\t)\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_clear: function() {\r\n\t\t\tthis._removeClass( this.helper, \"ui-draggable-dragging\" );\r\n\t\t\tif ( this.helper[ 0 ] !== this.element[ 0 ] && !this.cancelHelperRemoval ) {\r\n\t\t\t\tthis.helper.remove();\r\n\t\t\t}\r\n\t\t\tthis.helper = null;\r\n\t\t\tthis.cancelHelperRemoval = false;\r\n\t\t\tif ( this.destroyOnClear ) {\r\n\t\t\t\tthis.destroy();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// From now on bulk stuff - mainly helpers\r\n\r\n\t\t_trigger: function( type, event, ui ) {\r\n\t\t\tui = ui || this._uiHash();\r\n\t\t\tpatch.call( this, type, [ event, ui, this ], true );\r\n\r\n\t\t\t// Absolute position and offset (see #6884 ) have to be recalculated after patches\r\n\t\t\tif ( /^(drag|start|stop)/.test( type ) ) {\r\n\t\t\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\r\n\t\t\t\tui.offset = this.positionAbs;\r\n\t\t\t}\r\n\t\t\treturn this.overrided( type, event, ui );\r\n\t\t},\r\n\r\n\t\tpatches: {},\r\n\r\n\t\t_uiHash: function() {\r\n\t\t\treturn {\r\n\t\t\t\thelper: this.helper,\r\n\t\t\t\tposition: this.position,\r\n\t\t\t\toriginalPosition: this.originalPosition,\r\n\t\t\t\toffset: this.positionAbs\r\n\t\t\t};\r\n\t\t}\r\n\r\n\r\n\r\n\t});\r\n\r\n\r\n\tplugins.register(Draggable,\"draggable\");\r\n\r\n\tpatch.add(Draggable, \"connectToSortable\", {\r\n\t\tstart: function( event, ui, draggable ) {\r\n\t\t\tvar uiSortable = langx.extend( {}, ui, {\r\n\t\t\t\titem: draggable.element\r\n\t\t\t} );\r\n\r\n\t\t\tdraggable.sortables = [];\r\n\t\t\t$( draggable.options.connectToSortable ).each( function() {\r\n\t\t\t\tvar sortable = $( this ).sortable( \"instance\" );\r\n\r\n\t\t\t\tif ( sortable && !sortable.options.disabled ) {\r\n\t\t\t\t\tdraggable.sortables.push( sortable );\r\n\r\n\t\t\t\t\t// RefreshPositions is called at drag start to refresh the containerCache\r\n\t\t\t\t\t// which is used in drag. This ensures it's initialized and synchronized\r\n\t\t\t\t\t// with any changes that might have happened on the page since initialization.\r\n\t\t\t\t\tsortable.refreshPositions();\r\n\t\t\t\t\tsortable._trigger( \"activate\", event, uiSortable );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\t\tstop: function( event, ui, draggable ) {\r\n\t\t\tvar uiSortable = langx.extend( {}, ui, {\r\n\t\t\t\titem: draggable.element\r\n\t\t\t} );\r\n\r\n\t\t\tdraggable.cancelHelperRemoval = false;\r\n\r\n\t\t\tlangx.each( draggable.sortables, function() {\r\n\t\t\t\tvar sortable = this;\r\n\r\n\t\t\t\tif ( sortable.isOver ) {\r\n\t\t\t\t\tsortable.isOver = 0;\r\n\r\n\t\t\t\t\t// Allow this sortable to handle removing the helper\r\n\t\t\t\t\tdraggable.cancelHelperRemoval = true;\r\n\t\t\t\t\tsortable.cancelHelperRemoval = false;\r\n\r\n\t\t\t\t\t// Use _storedCSS To restore properties in the sortable,\r\n\t\t\t\t\t// as this also handles revert (#9675) since the draggable\r\n\t\t\t\t\t// may have modified them in unexpected ways (#8809)\r\n\t\t\t\t\tsortable._storedCSS = {\r\n\t\t\t\t\t\tposition: sortable.placeholder.css( \"position\" ),\r\n\t\t\t\t\t\ttop: sortable.placeholder.css( \"top\" ),\r\n\t\t\t\t\t\tleft: sortable.placeholder.css( \"left\" )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tsortable._mouseStop( event );\r\n\r\n\t\t\t\t\t// Once drag has ended, the sortable should return to using\r\n\t\t\t\t\t// its original helper, not the shared helper from draggable\r\n\t\t\t\t\tsortable.options.helper = sortable.options._helper;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Prevent this Sortable from removing the helper.\r\n\t\t\t\t\t// However, don't set the draggable to remove the helper\r\n\t\t\t\t\t// either as another connected Sortable may yet handle the removal.\r\n\t\t\t\t\tsortable.cancelHelperRemoval = true;\r\n\r\n\t\t\t\t\tsortable._trigger( \"deactivate\", event, uiSortable );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\t\tdrag: function( event, ui, draggable ) {\r\n\t\t\tlangx.each( draggable.sortables, function() {\r\n\t\t\t\tvar innermostIntersecting = false,\r\n\t\t\t\t\tsortable = this;\r\n\r\n\t\t\t\t// Copy over variables that sortable's _intersectsWith uses\r\n\t\t\t\tsortable.positionAbs = draggable.positionAbs;\r\n\t\t\t\tsortable.helperProportions = draggable.helperProportions;\r\n\t\t\t\tsortable.offset.click = draggable.offset.click;\r\n\r\n\t\t\t\tif ( sortable._intersectsWith( sortable.containerCache ) ) {\r\n\t\t\t\t\tinnermostIntersecting = true;\r\n\r\n\t\t\t\t\tlangx.each( draggable.sortables, function() {\r\n\r\n\t\t\t\t\t\t// Copy over variables that sortable's _intersectsWith uses\r\n\t\t\t\t\t\tthis.positionAbs = draggable.positionAbs;\r\n\t\t\t\t\t\tthis.helperProportions = draggable.helperProportions;\r\n\t\t\t\t\t\tthis.offset.click = draggable.offset.click;\r\n\r\n\t\t\t\t\t\tif ( this !== sortable &&\r\n\t\t\t\t\t\t\t\tthis._intersectsWith( this.containerCache ) &&\r\n\t\t\t\t\t\t\t\tnoder.contains( sortable.element[ 0 ], this.element[ 0 ] ) ) {\r\n\t\t\t\t\t\t\tinnermostIntersecting = false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn innermostIntersecting;\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( innermostIntersecting ) {\r\n\r\n\t\t\t\t\t// If it intersects, we use a little isOver variable and set it once,\r\n\t\t\t\t\t// so that the move-in stuff gets fired only once.\r\n\t\t\t\t\tif ( !sortable.isOver ) {\r\n\t\t\t\t\t\tsortable.isOver = 1;\r\n\r\n\t\t\t\t\t\t// Store draggable's parent in case we need to reappend to it later.\r\n\t\t\t\t\t\tdraggable._parent = ui.helper.parent();\r\n\r\n\t\t\t\t\t\tsortable.currentItem = ui.helper\r\n\t\t\t\t\t\t\t.appendTo( sortable.element )\r\n\t\t\t\t\t\t\t.data( \"ui-sortable-item\", true );\r\n\r\n\t\t\t\t\t\t// Store helper option to later restore it\r\n\t\t\t\t\t\tsortable.options._helper = sortable.options.helper;\r\n\r\n\t\t\t\t\t\tsortable.options.helper = function() {\r\n\t\t\t\t\t\t\treturn ui.helper[ 0 ];\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// Fire the start events of the sortable with our passed browser event,\r\n\t\t\t\t\t\t// and our own helper (so it doesn't create a new one)\r\n\t\t\t\t\t\tevent.target = sortable.currentItem[ 0 ];\r\n\t\t\t\t\t\tsortable._mouseCapture( event, true );\r\n\t\t\t\t\t\tsortable._mouseStart( event, true, true );\r\n\r\n\t\t\t\t\t\t// Because the browser event is way off the new appended portlet,\r\n\t\t\t\t\t\t// modify necessary variables to reflect the changes\r\n\t\t\t\t\t\tsortable.offset.click.top = draggable.offset.click.top;\r\n\t\t\t\t\t\tsortable.offset.click.left = draggable.offset.click.left;\r\n\t\t\t\t\t\tsortable.offset.parent.left -= draggable.offset.parent.left -\r\n\t\t\t\t\t\t\tsortable.offset.parent.left;\r\n\t\t\t\t\t\tsortable.offset.parent.top -= draggable.offset.parent.top -\r\n\t\t\t\t\t\t\tsortable.offset.parent.top;\r\n\r\n\t\t\t\t\t\tdraggable._trigger( \"toSortable\", event );\r\n\r\n\t\t\t\t\t\t// Inform draggable that the helper is in a valid drop zone,\r\n\t\t\t\t\t\t// used solely in the revert option to handle \"valid/invalid\".\r\n\t\t\t\t\t\tdraggable.dropped = sortable.element;\r\n\r\n\t\t\t\t\t\t// Need to refreshPositions of all sortables in the case that\r\n\t\t\t\t\t\t// adding to one sortable changes the location of the other sortables (#9675)\r\n\t\t\t\t\t\tlangx.each( draggable.sortables, function() {\r\n\t\t\t\t\t\t\tthis.refreshPositions();\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\t// Hack so receive/update callbacks work (mostly)\r\n\t\t\t\t\t\tdraggable.currentItem = draggable.element;\r\n\t\t\t\t\t\tsortable.fromOutside = draggable;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( sortable.currentItem ) {\r\n\t\t\t\t\t\tsortable._mouseDrag( event );\r\n\r\n\t\t\t\t\t\t// Copy the sortable's position because the draggable's can potentially reflect\r\n\t\t\t\t\t\t// a relative position, while sortable is always absolute, which the dragged\r\n\t\t\t\t\t\t// element has now become. (#8809)\r\n\t\t\t\t\t\tui.position = sortable.position;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// If it doesn't intersect with the sortable, and it intersected before,\r\n\t\t\t\t\t// we fake the drag stop of the sortable, but make sure it doesn't remove\r\n\t\t\t\t\t// the helper by using cancelHelperRemoval.\r\n\t\t\t\t\tif ( sortable.isOver ) {\r\n\r\n\t\t\t\t\t\tsortable.isOver = 0;\r\n\t\t\t\t\t\tsortable.cancelHelperRemoval = true;\r\n\r\n\t\t\t\t\t\t// Calling sortable's mouseStop would trigger a revert,\r\n\t\t\t\t\t\t// so revert must be temporarily false until after mouseStop is called.\r\n\t\t\t\t\t\tsortable.options._revert = sortable.options.revert;\r\n\t\t\t\t\t\tsortable.options.revert = false;\r\n\r\n\t\t\t\t\t\tsortable._trigger( \"out\", event, sortable._uiHash( sortable ) );\r\n\t\t\t\t\t\tsortable._mouseStop( event, true );\r\n\r\n\t\t\t\t\t\t// Restore sortable behaviors that were modfied\r\n\t\t\t\t\t\t// when the draggable entered the sortable area (#9481)\r\n\t\t\t\t\t\tsortable.options.revert = sortable.options._revert;\r\n\t\t\t\t\t\tsortable.options.helper = sortable.options._helper;\r\n\r\n\t\t\t\t\t\tif ( sortable.placeholder ) {\r\n\t\t\t\t\t\t\tsortable.placeholder.remove();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Restore and recalculate the draggable's offset considering the sortable\r\n\t\t\t\t\t\t// may have modified them in unexpected ways. (#8809, #10669)\r\n\t\t\t\t\t\tui.helper.appendTo( draggable._parent );\r\n\t\t\t\t\t\tdraggable._refreshOffsets( event );\r\n\t\t\t\t\t\tui.position = draggable._generatePosition( event, true );\r\n\r\n\t\t\t\t\t\tdraggable._trigger( \"fromSortable\", event );\r\n\r\n\t\t\t\t\t\t// Inform draggable that the helper is no longer in a valid drop zone\r\n\t\t\t\t\t\tdraggable.dropped = false;\r\n\r\n\t\t\t\t\t\t// Need to refreshPositions of all sortables just in case removing\r\n\t\t\t\t\t\t// from one sortable changes the location of other sortables (#9675)\r\n\t\t\t\t\t\tlangx.each( draggable.sortables, function() {\r\n\t\t\t\t\t\t\tthis.refreshPositions();\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t});\r\n\r\n\tpatch.add( Draggable, \"cursor\", {\r\n\t\tstart: function( event, ui, instance ) {\r\n\t\t\tvar t = $( \"body\" ),\r\n\t\t\t\to = instance.options;\r\n\r\n\t\t\tif ( t.css( \"cursor\" ) ) {\r\n\t\t\t\to._cursor = t.css( \"cursor\" );\r\n\t\t\t}\r\n\t\t\tt.css( \"cursor\", o.cursor );\r\n\t\t},\r\n\t\tstop: function( event, ui, instance ) {\r\n\t\t\tvar o = instance.options;\r\n\t\t\tif ( o._cursor ) {\r\n\t\t\t\t$( \"body\" ).css( \"cursor\", o._cursor );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add( Draggable, \"opacity\", {\r\n\t\tstart: function( event, ui, instance ) {\r\n\t\t\tvar t = $( ui.helper ),\r\n\t\t\t\to = instance.options;\r\n\t\t\tif ( t.css( \"opacity\" ) ) {\r\n\t\t\t\to._opacity = t.css( \"opacity\" );\r\n\t\t\t}\r\n\t\t\tt.css( \"opacity\", o.opacity );\r\n\t\t},\r\n\t\tstop: function( event, ui, instance ) {\r\n\t\t\tvar o = instance.options;\r\n\t\t\tif ( o._opacity ) {\r\n\t\t\t\t$( ui.helper ).css( \"opacity\", o._opacity );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add( Draggable, \"scroll\", {\r\n\t\tstart: function( event, ui, i ) {\r\n\t\t\tif ( !i.scrollParentNotHidden ) {\r\n\t\t\t\ti.scrollParentNotHidden = i.helper.scrollParent( false );\r\n\t\t\t}\r\n\r\n\t\t\tif ( i.scrollParentNotHidden[ 0 ] !== i.document[ 0 ] &&\r\n\t\t\t\t\ti.scrollParentNotHidden[ 0 ].tagName !== \"HTML\" ) {\r\n\t\t\t\ti.overflowOffset = i.scrollParentNotHidden.offset();\r\n\t\t\t}\r\n\t\t},\r\n\t\tdrag: function( event, ui, i  ) {\r\n\r\n\t\t\tvar o = i.options,\r\n\t\t\t\tscrolled = false,\r\n\t\t\t\tscrollParent = i.scrollParentNotHidden[ 0 ],\r\n\t\t\t\tdocument = i.document[ 0 ];\r\n\r\n\t\t\tif ( scrollParent !== document && scrollParent.tagName !== \"HTML\" ) {\r\n\t\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\r\n\t\t\t\t\tif ( ( i.overflowOffset.top + scrollParent.offsetHeight ) - event.pageY <\r\n\t\t\t\t\t\t\to.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;\r\n\t\t\t\t\t} else if ( event.pageY - i.overflowOffset.top < o.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\r\n\t\t\t\t\tif ( ( i.overflowOffset.left + scrollParent.offsetWidth ) - event.pageX <\r\n\t\t\t\t\t\t\to.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;\r\n\t\t\t\t\t} else if ( event.pageX - i.overflowOffset.left < o.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\r\n\t\t\t\t\tif ( event.pageY - $( document ).scrollTop() < o.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() - o.scrollSpeed );\r\n\t\t\t\t\t} else if ( $( window ).height() - ( event.pageY - $( document ).scrollTop() ) <\r\n\t\t\t\t\t\t\to.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() + o.scrollSpeed );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\r\n\t\t\t\t\tif ( event.pageX - $( document ).scrollLeft() < o.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrolled = $( document ).scrollLeft(\r\n\t\t\t\t\t\t\t$( document ).scrollLeft() - o.scrollSpeed\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else if ( $( window ).width() - ( event.pageX - $( document ).scrollLeft() ) <\r\n\t\t\t\t\t\t\to.scrollSensitivity ) {\r\n\t\t\t\t\t\tscrolled = $( document ).scrollLeft(\r\n\t\t\t\t\t\t\t$( document ).scrollLeft() + o.scrollSpeed\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scrolled !== false && ddmanager && !o.dropBehaviour ) {\r\n\t\t\t\tddmanager.prepareOffsets( i, event );\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add( Draggable, \"snap\", {\r\n\t\tstart: function( event, ui, i ) {\r\n\r\n\t\t\tvar o = i.options;\r\n\r\n\t\t\ti.snapElements = [];\r\n\r\n\t\t\t$( o.snap.constructor !== String ? ( o.snap.items || \":data(ui-draggable)\" ) : o.snap )\r\n\t\t\t\t.each( function() {\r\n\t\t\t\t\tvar $t = $( this ),\r\n\t\t\t\t\t\t$o = $t.offset();\r\n\t\t\t\t\tif ( this !== i.element[ 0 ] ) {\r\n\t\t\t\t\t\ti.snapElements.push( {\r\n\t\t\t\t\t\t\titem: this,\r\n\t\t\t\t\t\t\twidth: $t.outerWidth(), height: $t.outerHeight(),\r\n\t\t\t\t\t\t\ttop: $o.top, left: $o.left\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\r\n\t\t},\r\n\t\tdrag: function( event, ui, inst ) {\r\n\r\n\t\t\tvar ts, bs, ls, rs, l, r, t, b, i, first,\r\n\t\t\t\to = inst.options,\r\n\t\t\t\td = o.snapTolerance,\r\n\t\t\t\tx1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,\r\n\t\t\t\ty1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;\r\n\r\n\t\t\tfor ( i = inst.snapElements.length - 1; i >= 0; i-- ) {\r\n\r\n\t\t\t\tl = inst.snapElements[ i ].left - inst.margins.left;\r\n\t\t\t\tr = l + inst.snapElements[ i ].width;\r\n\t\t\t\tt = inst.snapElements[ i ].top - inst.margins.top;\r\n\t\t\t\tb = t + inst.snapElements[ i ].height;\r\n\r\n\t\t\t\tif ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d ||\r\n\t\t\t\t\t\t!noder.contains( inst.snapElements[ i ].item.ownerDocument,\r\n\t\t\t\t\t\tinst.snapElements[ i ].item ) ) {\r\n\t\t\t\t\tif ( inst.snapElements[ i ].snapping ) {\r\n\t\t\t\t\t\t( inst.options.snap.release &&\r\n\t\t\t\t\t\t\tinst.options.snap.release.call(\r\n\t\t\t\t\t\t\t\tinst.element,\r\n\t\t\t\t\t\t\t\tevent,\r\n\t\t\t\t\t\t\t\tlangx.extend( inst._uiHash(), { snapItem: inst.snapElements[ i ].item } )\r\n\t\t\t\t\t\t\t) );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinst.snapElements[ i ].snapping = false;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( o.snapMode !== \"inner\" ) {\r\n\t\t\t\t\tts = Math.abs( t - y2 ) <= d;\r\n\t\t\t\t\tbs = Math.abs( b - y1 ) <= d;\r\n\t\t\t\t\tls = Math.abs( l - x2 ) <= d;\r\n\t\t\t\t\trs = Math.abs( r - x1 ) <= d;\r\n\t\t\t\t\tif ( ts ) {\r\n\t\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: t - inst.helperProportions.height,\r\n\t\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t\t} ).top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( bs ) {\r\n\t\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: b,\r\n\t\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t\t} ).top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( ls ) {\r\n\t\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tleft: l - inst.helperProportions.width\r\n\t\t\t\t\t\t} ).left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( rs ) {\r\n\t\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tleft: r\r\n\t\t\t\t\t\t} ).left;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfirst = ( ts || bs || ls || rs );\r\n\r\n\t\t\t\tif ( o.snapMode !== \"outer\" ) {\r\n\t\t\t\t\tts = Math.abs( t - y1 ) <= d;\r\n\t\t\t\t\tbs = Math.abs( b - y2 ) <= d;\r\n\t\t\t\t\tls = Math.abs( l - x1 ) <= d;\r\n\t\t\t\t\trs = Math.abs( r - x2 ) <= d;\r\n\t\t\t\t\tif ( ts ) {\r\n\t\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: t,\r\n\t\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t\t} ).top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( bs ) {\r\n\t\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: b - inst.helperProportions.height,\r\n\t\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t\t} ).top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( ls ) {\r\n\t\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tleft: l\r\n\t\t\t\t\t\t} ).left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( rs ) {\r\n\t\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tleft: r - inst.helperProportions.width\r\n\t\t\t\t\t\t} ).left;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !inst.snapElements[ i ].snapping && ( ts || bs || ls || rs || first ) ) {\r\n\t\t\t\t\t( inst.options.snap.snap &&\r\n\t\t\t\t\t\tinst.options.snap.snap.call(\r\n\t\t\t\t\t\t\tinst.element,\r\n\t\t\t\t\t\t\tevent,\r\n\t\t\t\t\t\t\tlangx.extend( inst._uiHash(), {\r\n\t\t\t\t\t\t\t\tsnapItem: inst.snapElements[ i ].item\r\n\t\t\t\t\t\t\t} ) ) );\r\n\t\t\t\t}\r\n\t\t\t\tinst.snapElements[ i ].snapping = ( ts || bs || ls || rs || first );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add( Draggable, \"stack\", {\r\n\t\tstart: function( event, ui, instance ) {\r\n\t\t\tvar min,\r\n\t\t\t\to = instance.options,\r\n\t\t\t\tgroup = langx.makeArray( $( o.stack ) ).sort( function( a, b ) {\r\n\t\t\t\t\treturn ( parseInt( $( a ).css( \"zIndex\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t\t( parseInt( $( b ).css( \"zIndex\" ), 10 ) || 0 );\r\n\t\t\t\t} );\r\n\r\n\t\t\tif ( !group.length ) { return; }\r\n\r\n\t\t\tmin = parseInt( $( group[ 0 ] ).css( \"zIndex\" ), 10 ) || 0;\r\n\t\t\t$( group ).each( function( i ) {\r\n\t\t\t\t$( this ).css( \"zIndex\", min + i );\r\n\t\t\t} );\r\n\t\t\tthis.css( \"zIndex\", ( min + group.length ) );\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add( Draggable, \"zIndex\", {\r\n\t\tstart: function( event, ui, instance ) {\r\n\t\t\tvar t = $( ui.helper ),\r\n\t\t\t\to = instance.options;\r\n\r\n\t\t\tif ( t.css( \"zIndex\" ) ) {\r\n\t\t\t\to._zIndex = t.css( \"zIndex\" );\r\n\t\t\t}\r\n\t\t\tt.css( \"zIndex\", o.zIndex );\r\n\t\t},\r\n\t\tstop: function( event, ui, instance ) {\r\n\t\t\tvar o = instance.options;\r\n\r\n\t\t\tif ( o._zIndex ) {\r\n\t\t\t\t$( ui.helper ).css( \"zIndex\", o._zIndex );\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn Draggable;\r\n});\r\n\ndefine( 'skylark-jqueryui-interact/Droppable',[\r\n\t\"skylark-utils-dom/langx\",\r\n\t\"skylark-utils-dom/eventer\",\r\n\t\"skylark-utils-dom/noder\",\r\n\t\"skylark-utils-dom/query\",\r\n\t\"skylark-utils-dom/plugins\",\r\n\t\"./JqueryPlugin\",\r\n\t\"./patch\",\r\n\t\"./ddmanager\",\r\n],function(langx, eventer, noder, $, plugins, JqPlugin, patch, ddmanager) {\r\n\r\n\tvar Droppable = JqPlugin.inherit({\r\n\t\tklassName: \"Droppable\",\r\n\r\n\t\tpluginName : \"ui.Droppable\",\r\n\r\n\t\twidgetEventPrefix: \"drop\",\r\n\t\t\r\n\t\toptions: {\r\n\t\t\taccept: \"*\",\r\n\t\t\taddClasses: true,\r\n\t\t\tgreedy: false,\r\n\t\t\tscope: \"default\",\r\n\t\t\ttolerance: \"intersect\",\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tactivate: null,\r\n\t\t\tdeactivate: null,\r\n\t\t\tdrop: null,\r\n\t\t\tout: null,\r\n\t\t\tover: null\r\n\t\t},\r\n\t\t_create: function() {\r\n\r\n\t\t\tvar proportions,\r\n\t\t\t\to = this.options,\r\n\t\t\t\taccept = o.accept;\r\n\r\n\t\t\tthis.isover = false;\r\n\t\t\tthis.isout = true;\r\n\r\n\t\t\tthis.accept = langx.isFunction( accept ) ? accept : function( d ) {\r\n\t\t\t\treturn d.is( accept );\r\n\t\t\t};\r\n\r\n\t\t\tthis.proportions = function( /* valueToWrite */ ) {\r\n\t\t\t\tif ( arguments.length ) {\r\n\r\n\t\t\t\t\t// Store the droppable's proportions\r\n\t\t\t\t\tproportions = arguments[ 0 ];\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Retrieve or derive the droppable's proportions\r\n\t\t\t\t\treturn proportions ?\r\n\t\t\t\t\t\tproportions :\r\n\t\t\t\t\t\tproportions = {\r\n\t\t\t\t\t\t\twidth: this.element[ 0 ].offsetWidth,\r\n\t\t\t\t\t\t\theight: this.element[ 0 ].offsetHeight\r\n\t\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tthis._addToManager( o.scope );\r\n\r\n\t\t\to.addClasses && this._addClass( \"ui-droppable\" );\r\n\r\n\t\t},\r\n\r\n\t\t_addToManager: function( scope ) {\r\n\r\n\t\t\t// Add the reference and positions to the manager\r\n\t\t\tddmanager.droppables[ scope ] = ddmanager.droppables[ scope ] || [];\r\n\t\t\tddmanager.droppables[ scope ].push( this );\r\n\t\t},\r\n\r\n\t\t_splice: function( drop ) {\r\n\t\t\tvar i = 0;\r\n\t\t\tfor ( ; i < drop.length; i++ ) {\r\n\t\t\t\tif ( drop[ i ] === this ) {\r\n\t\t\t\t\tdrop.splice( i, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\t\t\tvar drop = ddmanager.droppables[ this.options.scope ];\r\n\r\n\t\t\tthis._splice( drop );\r\n\t\t},\r\n\r\n\t\t_setOption: function( key, value ) {\r\n\r\n\t\t\tif ( key === \"accept\" ) {\r\n\t\t\t\tthis.accept = langx.isFunction( value ) ? value : function( d ) {\r\n\t\t\t\t\treturn d.is( value );\r\n\t\t\t\t};\r\n\t\t\t} else if ( key === \"scope\" ) {\r\n\t\t\t\tvar drop = ddmanager.droppables[ this.options.scope ];\r\n\r\n\t\t\t\tthis._splice( drop );\r\n\t\t\t\tthis._addToManager( value );\r\n\t\t\t}\r\n\r\n\t\t\tthis._super( key, value );\r\n\t\t},\r\n\r\n\t\t_activate: function( event ) {\r\n\t\t\tvar draggable = ddmanager.current;\r\n\r\n\t\t\tthis._addActiveClass();\r\n\t\t\tif ( draggable ) {\r\n\t\t\t\tthis._trigger( \"activate\", event, this.ui( draggable ) );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_deactivate: function( event ) {\r\n\t\t\tvar draggable = ddmanager.current;\r\n\r\n\t\t\tthis._removeActiveClass();\r\n\t\t\tif ( draggable ) {\r\n\t\t\t\tthis._trigger( \"deactivate\", event, this.ui( draggable ) );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_over: function( event ) {\r\n\r\n\t\t\tvar draggable = ddmanager.current;\r\n\r\n\t\t\t// Bail if draggable and droppable are same element\r\n\t\t\tif ( !draggable || ( draggable.currentItem ||\r\n\t\t\t\t\tdraggable.element )[ 0 ] === this.element[ 0 ] ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.accept.call( this.element[ 0 ], ( draggable.currentItem ||\r\n\t\t\t\t\tdraggable.element ) ) ) {\r\n\t\t\t\tthis._addHoverClass();\r\n\t\t\t\tthis._trigger( \"over\", event, this.ui( draggable ) );\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_out: function( event ) {\r\n\r\n\t\t\tvar draggable = ddmanager.current;\r\n\r\n\t\t\t// Bail if draggable and droppable are same element\r\n\t\t\tif ( !draggable || ( draggable.currentItem ||\r\n\t\t\t\t\tdraggable.element )[ 0 ] === this.element[ 0 ] ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.accept.call( this.element[ 0 ], ( draggable.currentItem ||\r\n\t\t\t\t\tdraggable.element ) ) ) {\r\n\t\t\t\tthis._removeHoverClass();\r\n\t\t\t\tthis._trigger( \"out\", event, this.ui( draggable ) );\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_drop: function( event, custom ) {\r\n\r\n\t\t\tvar draggable = custom || ddmanager.current,\r\n\t\t\t\tchildrenIntersection = false;\r\n\r\n\t\t\t// Bail if draggable and droppable are same element\r\n\t\t\tif ( !draggable || ( draggable.currentItem ||\r\n\t\t\t\t\tdraggable.element )[ 0 ] === this.element[ 0 ] ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthis.element\r\n\t\t\t\t.find( \":data(ui-droppable)\" )\r\n\t\t\t\t.not( \".ui-draggable-dragging\" )\r\n\t\t\t\t.each( function() {\r\n\t\t\t\t\tvar inst = $( this ).droppable( \"instance\" );\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tinst.options.greedy &&\r\n\t\t\t\t\t\t!inst.options.disabled &&\r\n\t\t\t\t\t\tinst.options.scope === draggable.options.scope &&\r\n\t\t\t\t\t\tinst.accept.call(\r\n\t\t\t\t\t\t\tinst.element[ 0 ], ( draggable.currentItem || draggable.element )\r\n\t\t\t\t\t\t) &&\r\n\t\t\t\t\t\tddmanager.intersect(\r\n\t\t\t\t\t\t\tdraggable,\r\n\t\t\t\t\t\t\tlangx.extend( inst, { offset: inst.element.offset() } ),\r\n\t\t\t\t\t\t\tinst.options.tolerance, event\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tchildrenIntersection = true;\r\n\t\t\t\t\t\treturn false; }\r\n\t\t\t\t} );\r\n\t\t\tif ( childrenIntersection ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.accept.call( this.element[ 0 ],\r\n\t\t\t\t\t( draggable.currentItem || draggable.element ) ) ) {\r\n\t\t\t\tthis._removeActiveClass();\r\n\t\t\t\tthis._removeHoverClass();\r\n\r\n\t\t\t\tthis._trigger( \"drop\", event, this.ui( draggable ) );\r\n\t\t\t\treturn this.element;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\r\n\t\tui: function( c ) {\r\n\t\t\treturn {\r\n\t\t\t\tdraggable: ( c.currentItem || c.element ),\r\n\t\t\t\thelper: c.helper,\r\n\t\t\t\tposition: c.position,\r\n\t\t\t\toffset: c.positionAbs\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// Extension points just to make backcompat sane and avoid duplicating logic\r\n\t\t// TODO: Remove in 1.13 along with call to it below\r\n\t\t_addHoverClass: function() {\r\n\t\t\tthis._addClass( \"ui-droppable-hover\" );\r\n\t\t},\r\n\r\n\t\t_removeHoverClass: function() {\r\n\t\t\tthis._removeClass( \"ui-droppable-hover\" );\r\n\t\t},\r\n\r\n\t\t_addActiveClass: function() {\r\n\t\t\tthis._addClass( \"ui-droppable-active\" );\r\n\t\t},\r\n\r\n\t\t_removeActiveClass: function() {\r\n\t\t\tthis._removeClass( \"ui-droppable-active\" );\r\n\t\t}\r\n\t} );\r\n\r\n\tplugins.register(Droppable,\"droppable\");\r\n\r\n\treturn Droppable;\r\n\r\n});\r\n\ndefine( 'skylark-jqueryui-interact/Resizable',[\r\n\t\"skylark-utils-dom/langx\",\r\n\t\"skylark-utils-dom/datax\",\r\n\t\"skylark-utils-dom/eventer\",\r\n\t\"skylark-utils-dom/noder\",\r\n\t\"skylark-utils-dom/query\",\r\n\t\"skylark-utils-dom/plugins\",\r\n\t\"./Mouse\",\r\n\t\"./patch\",\r\n\t\"./ddmanager\",\r\n],function(langx, datax, eventer, noder, $, plugins, Mouse, patch, ddmanager) {\r\n\r\n\tvar Resizable = Mouse.inherit({\r\n\t\tklassName: \"Resizable\",\r\n\r\n\t\tpluginName : \"ui.resizable\",\r\n\t\r\n\t\twidgetEventPrefix: \"resize\",\r\n\r\n\t\toptions: {\r\n\t\t\talsoResize: false,\r\n\t\t\tanimate: false,\r\n\t\t\tanimateDuration: \"slow\",\r\n\t\t\tanimateEasing: \"swing\",\r\n\t\t\taspectRatio: false,\r\n\t\t\tautoHide: false,\r\n\t\t\tclasses: {\r\n\t\t\t\t\"ui-resizable-se\": \"ui-icon ui-icon-gripsmall-diagonal-se\"\r\n\t\t\t},\r\n\t\t\tcontainment: false,\r\n\t\t\tghost: false,\r\n\t\t\tgrid: false,\r\n\t\t\thandles: \"e,s,se\",\r\n\t\t\thelper: false,\r\n\t\t\tmaxHeight: null,\r\n\t\t\tmaxWidth: null,\r\n\t\t\tminHeight: 10,\r\n\t\t\tminWidth: 10,\r\n\r\n\t\t\t// See #7960\r\n\t\t\tzIndex: 90,\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tresize: null,\r\n\t\t\tstart: null,\r\n\t\t\tstop: null\r\n\t\t},\r\n\r\n\t\t_num: function( value ) {\r\n\t\t\treturn parseFloat( value ) || 0;\r\n\t\t},\r\n\r\n\t\t_isNumber: function( value ) {\r\n\t\t\treturn !isNaN( parseFloat( value ) );\r\n\t\t},\r\n\r\n\t\t_hasScroll: function( el, a ) {\r\n\r\n\t\t\tif ( $( el ).css( \"overflow\" ) === \"hidden\" ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tvar scroll = ( a && a === \"left\" ) ? \"scrollLeft\" : \"scrollTop\",\r\n\t\t\t\thas = false;\r\n\r\n\t\t\tif ( el[ scroll ] > 0 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t// TODO: determine which cases actually cause this to happen\r\n\t\t\t// if the element doesn't have the scroll set, see if it's possible to\r\n\t\t\t// set the scroll\r\n\t\t\tel[ scroll ] = 1;\r\n\t\t\thas = ( el[ scroll ] > 0 );\r\n\t\t\tel[ scroll ] = 0;\r\n\t\t\treturn has;\r\n\t\t},\r\n\r\n\t\t_create: function() {\r\n\r\n\t\t\tvar margins,\r\n\t\t\t\to = this.options,\r\n\t\t\t\tthat = this;\r\n\t\t\tthis._addClass( \"ui-resizable\" );\r\n\r\n\t\t\tlangx.extend( this, {\r\n\t\t\t\t_aspectRatio: !!( o.aspectRatio ),\r\n\t\t\t\taspectRatio: o.aspectRatio,\r\n\t\t\t\toriginalElement: this.element,\r\n\t\t\t\t_proportionallyResizeElements: [],\r\n\t\t\t\t_helper: o.helper || o.ghost || o.animate ? o.helper || \"ui-resizable-helper\" : null\r\n\t\t\t} );\r\n\r\n\t\t\t// Wrap the element if it cannot hold child nodes\r\n\t\t\tif ( this.element[ 0 ].nodeName.match( /^(canvas|textarea|input|select|button|img)$/i ) ) {\r\n\r\n\t\t\t\tthis.element.wrap(\r\n\t\t\t\t\t$( \"<div class='ui-wrapper' style='overflow: hidden;'></div>\" ).css( {\r\n\t\t\t\t\t\tposition: this.element.css( \"position\" ),\r\n\t\t\t\t\t\twidth: this.element.outerWidth(),\r\n\t\t\t\t\t\theight: this.element.outerHeight(),\r\n\t\t\t\t\t\ttop: this.element.css( \"top\" ),\r\n\t\t\t\t\t\tleft: this.element.css( \"left\" )\r\n\t\t\t\t\t} )\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.element = this.element.parent().data(\r\n\t\t\t\t\t\"ui-resizable\", this.element.resizable( \"instance\" )\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.elementIsWrapper = true;\r\n\r\n\t\t\t\tmargins = {\r\n\t\t\t\t\tmarginTop: this.originalElement.css( \"marginTop\" ),\r\n\t\t\t\t\tmarginRight: this.originalElement.css( \"marginRight\" ),\r\n\t\t\t\t\tmarginBottom: this.originalElement.css( \"marginBottom\" ),\r\n\t\t\t\t\tmarginLeft: this.originalElement.css( \"marginLeft\" )\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.element.css( margins );\r\n\t\t\t\tthis.originalElement.css( \"margin\", 0 );\r\n\r\n\t\t\t\t// support: Safari\r\n\t\t\t\t// Prevent Safari textarea resize\r\n\t\t\t\tthis.originalResizeStyle = this.originalElement.css( \"resize\" );\r\n\t\t\t\tthis.originalElement.css( \"resize\", \"none\" );\r\n\r\n\t\t\t\tthis._proportionallyResizeElements.push( this.originalElement.css( {\r\n\t\t\t\t\tposition: \"static\",\r\n\t\t\t\t\tzoom: 1,\r\n\t\t\t\t\tdisplay: \"block\"\r\n\t\t\t\t}));\r\n\r\n\t\t\t\t// Support: IE9\r\n\t\t\t\t// avoid IE jump (hard set the margin)\r\n\t\t\t\tthis.originalElement.css( margins );\r\n\r\n\t\t\t\tthis._proportionallyResize();\r\n\t\t\t}\r\n\r\n\t\t\tthis._setupHandles();\r\n\r\n\t\t\tif ( o.autoHide ) {\r\n\t\t\t\t$( this.element )\r\n\t\t\t\t\t.on( \"mouseenter\", function() {\r\n\t\t\t\t\t\tif ( o.disabled ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat._removeClass( \"ui-resizable-autohide\" );\r\n\t\t\t\t\t\tthat._handles.show();\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.on( \"mouseleave\", function() {\r\n\t\t\t\t\t\tif ( o.disabled ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( !that.resizing ) {\r\n\t\t\t\t\t\t\tthat._addClass( \"ui-resizable-autohide\" );\r\n\t\t\t\t\t\t\tthat._handles.hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tthis._mouseInit();\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\r\n\t\t\tthis._mouseDestroy();\r\n\t\t\tthis._addedHandles.remove();\r\n\r\n\t\t\tvar wrapper,\r\n\t\t\t\t_destroy = function( exp ) {\r\n\t\t\t\t\t$( exp )\r\n\t\t\t\t\t\t.removeData( \"resizable\" )\r\n\t\t\t\t\t\t.removeData( \"ui-resizable\" )\r\n\t\t\t\t\t\t.off( \".resizable\" );\r\n\t\t\t\t};\r\n\r\n\t\t\t// TODO: Unwrap at same DOM position\r\n\t\t\tif ( this.elementIsWrapper ) {\r\n\t\t\t\t_destroy( this.element );\r\n\t\t\t\twrapper = this.element;\r\n\t\t\t\tthis.originalElement.css( {\r\n\t\t\t\t\tposition: wrapper.css( \"position\" ),\r\n\t\t\t\t\twidth: wrapper.outerWidth(),\r\n\t\t\t\t\theight: wrapper.outerHeight(),\r\n\t\t\t\t\ttop: wrapper.css( \"top\" ),\r\n\t\t\t\t\tleft: wrapper.css( \"left\" )\r\n\t\t\t\t} ).insertAfter( wrapper );\r\n\t\t\t\twrapper.remove();\r\n\t\t\t}\r\n\r\n\t\t\tthis.originalElement.css( \"resize\", this.originalResizeStyle );\r\n\t\t\t_destroy( this.originalElement );\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t_setOption: function( key, value ) {\r\n\t\t\tthis._super( key, value );\r\n\r\n\t\t\tswitch ( key ) {\r\n\t\t\tcase \"handles\":\r\n\t\t\t\tthis._removeHandles();\r\n\t\t\t\tthis._setupHandles();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"aspectRatio\":\r\n\t\t\t\tthis._aspectRatio = !!value;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setupHandles: function() {\r\n\t\t\tvar o = this.options, handle, i, n, hname, axis, that = this;\r\n\t\t\tthis.handles = o.handles ||\r\n\t\t\t\t( !$( \".ui-resizable-handle\", this.element ).length ?\r\n\t\t\t\t\t\"e,s,se\" : {\r\n\t\t\t\t\t\tn: \".ui-resizable-n\",\r\n\t\t\t\t\t\te: \".ui-resizable-e\",\r\n\t\t\t\t\t\ts: \".ui-resizable-s\",\r\n\t\t\t\t\t\tw: \".ui-resizable-w\",\r\n\t\t\t\t\t\tse: \".ui-resizable-se\",\r\n\t\t\t\t\t\tsw: \".ui-resizable-sw\",\r\n\t\t\t\t\t\tne: \".ui-resizable-ne\",\r\n\t\t\t\t\t\tnw: \".ui-resizable-nw\"\r\n\t\t\t\t\t} );\r\n\r\n\t\t\tthis._handles = $();\r\n\t\t\tthis._addedHandles = $();\r\n\t\t\tif ( this.handles.constructor === String ) {\r\n\r\n\t\t\t\tif ( this.handles === \"all\" ) {\r\n\t\t\t\t\tthis.handles = \"n,e,s,w,se,sw,ne,nw\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tn = this.handles.split( \",\" );\r\n\t\t\t\tthis.handles = {};\r\n\r\n\t\t\t\tfor ( i = 0; i < n.length; i++ ) {\r\n\r\n\t\t\t\t\thandle = langx.trim( n[ i ] );\r\n\t\t\t\t\thname = \"ui-resizable-\" + handle;\r\n\t\t\t\t\taxis = $( \"<div>\" );\r\n\t\t\t\t\tthis._addClass( axis, \"ui-resizable-handle \" + hname );\r\n\r\n\t\t\t\t\taxis.css( { zIndex: o.zIndex } );\r\n\r\n\t\t\t\t\tthis.handles[ handle ] = \".ui-resizable-\" + handle;\r\n\t\t\t\t\tif ( !this.element.children( this.handles[ handle ] ).length ) {\r\n\t\t\t\t\t\tthis.element.append( axis );\r\n\t\t\t\t\t\tthis._addedHandles = this._addedHandles.add( axis );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._renderAxis = function( target ) {\r\n\r\n\t\t\t\tvar i, axis, padPos, padWrapper;\r\n\r\n\t\t\t\ttarget = target || this.element;\r\n\r\n\t\t\t\tfor ( i in this.handles ) {\r\n\r\n\t\t\t\t\tif ( this.handles[ i ].constructor === String ) {\r\n\t\t\t\t\t\tthis.handles[ i ] = this.element.children( this.handles[ i ] ).first().show();\r\n\t\t\t\t\t} else if ( this.handles[ i ].jquery || this.handles[ i ].nodeType ) {\r\n\t\t\t\t\t\tthis.handles[ i ] = $( this.handles[ i ] );\r\n\t\t\t\t\t\tthis._on( this.handles[ i ], { \"mousedown\": that._mouseDown } );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.elementIsWrapper &&\r\n\t\t\t\t\t\t\tthis.originalElement[ 0 ]\r\n\t\t\t\t\t\t\t\t.nodeName\r\n\t\t\t\t\t\t\t\t.match( /^(textarea|input|select|button)$/i ) ) {\r\n\t\t\t\t\t\taxis = $( this.handles[ i ], this.element );\r\n\r\n\t\t\t\t\t\tpadWrapper = /sw|ne|nw|se|n|s/.test( i ) ?\r\n\t\t\t\t\t\t\taxis.outerHeight() :\r\n\t\t\t\t\t\t\taxis.outerWidth();\r\n\r\n\t\t\t\t\t\tpadPos = [ \"padding\",\r\n\t\t\t\t\t\t\t/ne|nw|n/.test( i ) ? \"Top\" :\r\n\t\t\t\t\t\t\t/se|sw|s/.test( i ) ? \"Bottom\" :\r\n\t\t\t\t\t\t\t/^e$/.test( i ) ? \"Right\" : \"Left\" ].join( \"\" );\r\n\r\n\t\t\t\t\t\ttarget.css( padPos, padWrapper );\r\n\r\n\t\t\t\t\t\tthis._proportionallyResize();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._handles = this._handles.add( this.handles[ i ] );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// TODO: make renderAxis a prototype function\r\n\t\t\tthis._renderAxis( this.element );\r\n\r\n\t\t\tthis._handles = this._handles.add( this.element.find( \".ui-resizable-handle\" ) );\r\n\t\t\tthis._handles.disableSelection();\r\n\r\n\t\t\tthis._handles.on( \"mouseover\", function() {\r\n\t\t\t\tif ( !that.resizing ) {\r\n\t\t\t\t\tif ( this.className ) {\r\n\t\t\t\t\t\taxis = this.className.match( /ui-resizable-(se|sw|ne|nw|n|e|s|w)/i );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.axis = axis && axis[ 1 ] ? axis[ 1 ] : \"se\";\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tif ( o.autoHide ) {\r\n\t\t\t\tthis._handles.hide();\r\n\t\t\t\tthis._addClass( \"ui-resizable-autohide\" );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_removeHandles: function() {\r\n\t\t\tthis._addedHandles.remove();\r\n\t\t},\r\n\r\n\t\t_mouseCapture: function( event ) {\r\n\t\t\tvar i, handle,\r\n\t\t\t\tcapture = false;\r\n\r\n\t\t\tfor ( i in this.handles ) {\r\n\t\t\t\thandle = $( this.handles[ i ] )[ 0 ];\r\n\t\t\t\tif ( handle === event.target || noder.contains( handle, event.target ) ) {\r\n\t\t\t\t\tcapture = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn !this.options.disabled && capture;\r\n\t\t},\r\n\r\n\t\t_mouseStart: function( event ) {\r\n\r\n\t\t\tvar curleft, curtop, cursor,\r\n\t\t\t\to = this.options,\r\n\t\t\t\tel = this.element;\r\n\r\n\t\t\tthis.resizing = true;\r\n\r\n\t\t\tthis._renderProxy();\r\n\r\n\t\t\tcurleft = this._num( this.helper.css( \"left\" ) );\r\n\t\t\tcurtop = this._num( this.helper.css( \"top\" ) );\r\n\r\n\t\t\tif ( o.containment ) {\r\n\t\t\t\tcurleft += $( o.containment ).scrollLeft() || 0;\r\n\t\t\t\tcurtop += $( o.containment ).scrollTop() || 0;\r\n\t\t\t}\r\n\r\n\t\t\tthis.offset = this.helper.offset();\r\n\t\t\tthis.position = { left: curleft, top: curtop };\r\n\r\n\t\t\tthis.size = this._helper ? {\r\n\t\t\t\t\twidth: this.helper.width(),\r\n\t\t\t\t\theight: this.helper.height()\r\n\t\t\t\t} : {\r\n\t\t\t\t\twidth: el.width(),\r\n\t\t\t\t\theight: el.height()\r\n\t\t\t\t};\r\n\r\n\t\t\tthis.originalSize = this._helper ? {\r\n\t\t\t\t\twidth: el.outerWidth(),\r\n\t\t\t\t\theight: el.outerHeight()\r\n\t\t\t\t} : {\r\n\t\t\t\t\twidth: el.width(),\r\n\t\t\t\t\theight: el.height()\r\n\t\t\t\t};\r\n\r\n\t\t\tthis.sizeDiff = {\r\n\t\t\t\twidth: el.outerWidth() - el.width(),\r\n\t\t\t\theight: el.outerHeight() - el.height()\r\n\t\t\t};\r\n\r\n\t\t\tthis.originalPosition = { left: curleft, top: curtop };\r\n\t\t\tthis.originalMousePosition = { left: event.pageX, top: event.pageY };\r\n\r\n\t\t\tthis.aspectRatio = ( typeof o.aspectRatio === \"number\" ) ?\r\n\t\t\t\to.aspectRatio :\r\n\t\t\t\t( ( this.originalSize.width / this.originalSize.height ) || 1 );\r\n\r\n\t\t\tcursor = $( \".ui-resizable-\" + this.axis ).css( \"cursor\" );\r\n\t\t\t$( \"body\" ).css( \"cursor\", cursor === \"auto\" ? this.axis + \"-resize\" : cursor );\r\n\r\n\t\t\tthis._addClass( \"ui-resizable-resizing\" );\r\n\t\t\tthis._propagate( \"start\", event );\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t_mouseDrag: function( event ) {\r\n\r\n\t\t\tvar data, props,\r\n\t\t\t\tsmp = this.originalMousePosition,\r\n\t\t\t\ta = this.axis,\r\n\t\t\t\tdx = ( event.pageX - smp.left ) || 0,\r\n\t\t\t\tdy = ( event.pageY - smp.top ) || 0,\r\n\t\t\t\ttrigger = this._change[ a ];\r\n\r\n\t\t\tthis._updatePrevProperties();\r\n\r\n\t\t\tif ( !trigger ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tdata = trigger.apply( this, [ event, dx, dy ] );\r\n\r\n\t\t\tthis._updateVirtualBoundaries( event.shiftKey );\r\n\t\t\tif ( this._aspectRatio || event.shiftKey ) {\r\n\t\t\t\tdata = this._updateRatio( data, event );\r\n\t\t\t}\r\n\r\n\t\t\tdata = this._respectSize( data, event );\r\n\r\n\t\t\tthis._updateCache( data );\r\n\r\n\t\t\tthis._propagate( \"resize\", event );\r\n\r\n\t\t\tprops = this._applyChanges();\r\n\r\n\t\t\tif ( !this._helper && this._proportionallyResizeElements.length ) {\r\n\t\t\t\tthis._proportionallyResize();\r\n\t\t\t}\r\n\r\n\t\t\tif ( !langx.isEmptyObject( props ) ) {\r\n\t\t\t\tthis._updatePrevProperties();\r\n\t\t\t\tthis._trigger( \"resize\", event, this.ui() );\r\n\t\t\t\tthis._applyChanges();\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_mouseStop: function( event ) {\r\n\r\n\t\t\tthis.resizing = false;\r\n\t\t\tvar pr, ista, soffseth, soffsetw, s, left, top,\r\n\t\t\t\to = this.options, that = this;\r\n\r\n\t\t\tif ( this._helper ) {\r\n\r\n\t\t\t\tpr = this._proportionallyResizeElements;\r\n\t\t\t\tista = pr.length && ( /textarea/i ).test( pr[ 0 ].nodeName );\r\n\t\t\t\tsoffseth = ista && this._hasScroll( pr[ 0 ], \"left\" ) ? 0 : that.sizeDiff.height;\r\n\t\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width;\r\n\r\n\t\t\t\ts = {\r\n\t\t\t\t\twidth: ( that.helper.width()  - soffsetw ),\r\n\t\t\t\t\theight: ( that.helper.height() - soffseth )\r\n\t\t\t\t};\r\n\t\t\t\tleft = ( parseFloat( that.element.css( \"left\" ) ) +\r\n\t\t\t\t\t( that.position.left - that.originalPosition.left ) ) || null;\r\n\t\t\t\ttop = ( parseFloat( that.element.css( \"top\" ) ) +\r\n\t\t\t\t\t( that.position.top - that.originalPosition.top ) ) || null;\r\n\r\n\t\t\t\tif ( !o.animate ) {\r\n\t\t\t\t\tthis.element.css( langx.extend( s, { top: top, left: left }));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.helper.height( that.size.height );\r\n\t\t\t\tthat.helper.width( that.size.width );\r\n\r\n\t\t\t\tif ( this._helper && !o.animate ) {\r\n\t\t\t\t\tthis._proportionallyResize();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t$( \"body\" ).css( \"cursor\", \"auto\" );\r\n\r\n\t\t\tthis._removeClass( \"ui-resizable-resizing\" );\r\n\r\n\t\t\tthis._propagate( \"stop\", event );\r\n\r\n\t\t\tif ( this._helper ) {\r\n\t\t\t\tthis.helper.remove();\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\r\n\t\t_updatePrevProperties: function() {\r\n\t\t\tthis.prevPosition = {\r\n\t\t\t\ttop: this.position.top,\r\n\t\t\t\tleft: this.position.left\r\n\t\t\t};\r\n\t\t\tthis.prevSize = {\r\n\t\t\t\twidth: this.size.width,\r\n\t\t\t\theight: this.size.height\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_applyChanges: function() {\r\n\t\t\tvar props = {};\r\n\r\n\t\t\tif ( this.position.top !== this.prevPosition.top ) {\r\n\t\t\t\tprops.top = this.position.top + \"px\";\r\n\t\t\t}\r\n\t\t\tif ( this.position.left !== this.prevPosition.left ) {\r\n\t\t\t\tprops.left = this.position.left + \"px\";\r\n\t\t\t}\r\n\t\t\tif ( this.size.width !== this.prevSize.width ) {\r\n\t\t\t\tprops.width = this.size.width + \"px\";\r\n\t\t\t}\r\n\t\t\tif ( this.size.height !== this.prevSize.height ) {\r\n\t\t\t\tprops.height = this.size.height + \"px\";\r\n\t\t\t}\r\n\r\n\t\t\tthis.helper.css( props );\r\n\r\n\t\t\treturn props;\r\n\t\t},\r\n\r\n\t\t_updateVirtualBoundaries: function( forceAspectRatio ) {\r\n\t\t\tvar pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b,\r\n\t\t\t\to = this.options;\r\n\r\n\t\t\tb = {\r\n\t\t\t\tminWidth: this._isNumber( o.minWidth ) ? o.minWidth : 0,\r\n\t\t\t\tmaxWidth: this._isNumber( o.maxWidth ) ? o.maxWidth : Infinity,\r\n\t\t\t\tminHeight: this._isNumber( o.minHeight ) ? o.minHeight : 0,\r\n\t\t\t\tmaxHeight: this._isNumber( o.maxHeight ) ? o.maxHeight : Infinity\r\n\t\t\t};\r\n\r\n\t\t\tif ( this._aspectRatio || forceAspectRatio ) {\r\n\t\t\t\tpMinWidth = b.minHeight * this.aspectRatio;\r\n\t\t\t\tpMinHeight = b.minWidth / this.aspectRatio;\r\n\t\t\t\tpMaxWidth = b.maxHeight * this.aspectRatio;\r\n\t\t\t\tpMaxHeight = b.maxWidth / this.aspectRatio;\r\n\r\n\t\t\t\tif ( pMinWidth > b.minWidth ) {\r\n\t\t\t\t\tb.minWidth = pMinWidth;\r\n\t\t\t\t}\r\n\t\t\t\tif ( pMinHeight > b.minHeight ) {\r\n\t\t\t\t\tb.minHeight = pMinHeight;\r\n\t\t\t\t}\r\n\t\t\t\tif ( pMaxWidth < b.maxWidth ) {\r\n\t\t\t\t\tb.maxWidth = pMaxWidth;\r\n\t\t\t\t}\r\n\t\t\t\tif ( pMaxHeight < b.maxHeight ) {\r\n\t\t\t\t\tb.maxHeight = pMaxHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._vBoundaries = b;\r\n\t\t},\r\n\r\n\t\t_updateCache: function( data ) {\r\n\t\t\tthis.offset = this.helper.offset();\r\n\t\t\tif ( this._isNumber( data.left ) ) {\r\n\t\t\t\tthis.position.left = data.left;\r\n\t\t\t}\r\n\t\t\tif ( this._isNumber( data.top ) ) {\r\n\t\t\t\tthis.position.top = data.top;\r\n\t\t\t}\r\n\t\t\tif ( this._isNumber( data.height ) ) {\r\n\t\t\t\tthis.size.height = data.height;\r\n\t\t\t}\r\n\t\t\tif ( this._isNumber( data.width ) ) {\r\n\t\t\t\tthis.size.width = data.width;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_updateRatio: function( data ) {\r\n\r\n\t\t\tvar cpos = this.position,\r\n\t\t\t\tcsize = this.size,\r\n\t\t\t\ta = this.axis;\r\n\r\n\t\t\tif ( this._isNumber( data.height ) ) {\r\n\t\t\t\tdata.width = ( data.height * this.aspectRatio );\r\n\t\t\t} else if ( this._isNumber( data.width ) ) {\r\n\t\t\t\tdata.height = ( data.width / this.aspectRatio );\r\n\t\t\t}\r\n\r\n\t\t\tif ( a === \"sw\" ) {\r\n\t\t\t\tdata.left = cpos.left + ( csize.width - data.width );\r\n\t\t\t\tdata.top = null;\r\n\t\t\t}\r\n\t\t\tif ( a === \"nw\" ) {\r\n\t\t\t\tdata.top = cpos.top + ( csize.height - data.height );\r\n\t\t\t\tdata.left = cpos.left + ( csize.width - data.width );\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\t_respectSize: function( data ) {\r\n\r\n\t\t\tvar o = this._vBoundaries,\r\n\t\t\t\ta = this.axis,\r\n\t\t\t\tismaxw = this._isNumber( data.width ) && o.maxWidth && ( o.maxWidth < data.width ),\r\n\t\t\t\tismaxh = this._isNumber( data.height ) && o.maxHeight && ( o.maxHeight < data.height ),\r\n\t\t\t\tisminw = this._isNumber( data.width ) && o.minWidth && ( o.minWidth > data.width ),\r\n\t\t\t\tisminh = this._isNumber( data.height ) && o.minHeight && ( o.minHeight > data.height ),\r\n\t\t\t\tdw = this.originalPosition.left + this.originalSize.width,\r\n\t\t\t\tdh = this.originalPosition.top + this.originalSize.height,\r\n\t\t\t\tcw = /sw|nw|w/.test( a ), ch = /nw|ne|n/.test( a );\r\n\t\t\tif ( isminw ) {\r\n\t\t\t\tdata.width = o.minWidth;\r\n\t\t\t}\r\n\t\t\tif ( isminh ) {\r\n\t\t\t\tdata.height = o.minHeight;\r\n\t\t\t}\r\n\t\t\tif ( ismaxw ) {\r\n\t\t\t\tdata.width = o.maxWidth;\r\n\t\t\t}\r\n\t\t\tif ( ismaxh ) {\r\n\t\t\t\tdata.height = o.maxHeight;\r\n\t\t\t}\r\n\r\n\t\t\tif ( isminw && cw ) {\r\n\t\t\t\tdata.left = dw - o.minWidth;\r\n\t\t\t}\r\n\t\t\tif ( ismaxw && cw ) {\r\n\t\t\t\tdata.left = dw - o.maxWidth;\r\n\t\t\t}\r\n\t\t\tif ( isminh && ch ) {\r\n\t\t\t\tdata.top = dh - o.minHeight;\r\n\t\t\t}\r\n\t\t\tif ( ismaxh && ch ) {\r\n\t\t\t\tdata.top = dh - o.maxHeight;\r\n\t\t\t}\r\n\r\n\t\t\t// Fixing jump error on top/left - bug #2330\r\n\t\t\tif ( !data.width && !data.height && !data.left && data.top ) {\r\n\t\t\t\tdata.top = null;\r\n\t\t\t} else if ( !data.width && !data.height && !data.top && data.left ) {\r\n\t\t\t\tdata.left = null;\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\t_getPaddingPlusBorderDimensions: function( element ) {\r\n\t\t\tvar i = 0,\r\n\t\t\t\twidths = [],\r\n\t\t\t\tborders = [\r\n\t\t\t\t\telement.css( \"borderTopWidth\" ),\r\n\t\t\t\t\telement.css( \"borderRightWidth\" ),\r\n\t\t\t\t\telement.css( \"borderBottomWidth\" ),\r\n\t\t\t\t\telement.css( \"borderLeftWidth\" )\r\n\t\t\t\t],\r\n\t\t\t\tpaddings = [\r\n\t\t\t\t\telement.css( \"paddingTop\" ),\r\n\t\t\t\t\telement.css( \"paddingRight\" ),\r\n\t\t\t\t\telement.css( \"paddingBottom\" ),\r\n\t\t\t\t\telement.css( \"paddingLeft\" )\r\n\t\t\t\t];\r\n\r\n\t\t\tfor ( ; i < 4; i++ ) {\r\n\t\t\t\twidths[ i ] = ( parseFloat( borders[ i ] ) || 0 );\r\n\t\t\t\twidths[ i ] += ( parseFloat( paddings[ i ] ) || 0 );\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\theight: widths[ 0 ] + widths[ 2 ],\r\n\t\t\t\twidth: widths[ 1 ] + widths[ 3 ]\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_proportionallyResize: function() {\r\n\r\n\t\t\tif ( !this._proportionallyResizeElements.length ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar prel,\r\n\t\t\t\ti = 0,\r\n\t\t\t\telement = this.helper || this.element;\r\n\r\n\t\t\tfor ( ; i < this._proportionallyResizeElements.length; i++ ) {\r\n\r\n\t\t\t\tprel = this._proportionallyResizeElements[ i ];\r\n\r\n\t\t\t\t// TODO: Seems like a bug to cache this.outerDimensions\r\n\t\t\t\t// considering that we are in a loop.\r\n\t\t\t\tif ( !this.outerDimensions ) {\r\n\t\t\t\t\tthis.outerDimensions = this._getPaddingPlusBorderDimensions( prel );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tprel.css( {\r\n\t\t\t\t\theight: ( element.height() - this.outerDimensions.height ) || 0,\r\n\t\t\t\t\twidth: ( element.width() - this.outerDimensions.width ) || 0\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_renderProxy: function() {\r\n\r\n\t\t\tvar el = this.element, o = this.options;\r\n\t\t\tthis.elementOffset = el.offset();\r\n\r\n\t\t\tif ( this._helper ) {\r\n\r\n\t\t\t\tthis.helper = this.helper || $( \"<div style='overflow:hidden;'></div>\" );\r\n\r\n\t\t\t\tthis._addClass( this.helper, this._helper );\r\n\t\t\t\tthis.helper.css( {\r\n\t\t\t\t\twidth: this.element.outerWidth(),\r\n\t\t\t\t\theight: this.element.outerHeight(),\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tleft: this.elementOffset.left + \"px\",\r\n\t\t\t\t\ttop: this.elementOffset.top + \"px\",\r\n\t\t\t\t\tzIndex: ++o.zIndex //TODO: Don't modify option\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tthis.helper\r\n\t\t\t\t\t.appendTo( \"body\" )\r\n\t\t\t\t\t.disableSelection();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthis.helper = this.element;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_change: {\r\n\t\t\te: function( event, dx ) {\r\n\t\t\t\treturn { width: this.originalSize.width + dx };\r\n\t\t\t},\r\n\t\t\tw: function( event, dx ) {\r\n\t\t\t\tvar cs = this.originalSize, sp = this.originalPosition;\r\n\t\t\t\treturn { left: sp.left + dx, width: cs.width - dx };\r\n\t\t\t},\r\n\t\t\tn: function( event, dx, dy ) {\r\n\t\t\t\tvar cs = this.originalSize, sp = this.originalPosition;\r\n\t\t\t\treturn { top: sp.top + dy, height: cs.height - dy };\r\n\t\t\t},\r\n\t\t\ts: function( event, dx, dy ) {\r\n\t\t\t\treturn { height: this.originalSize.height + dy };\r\n\t\t\t},\r\n\t\t\tse: function( event, dx, dy ) {\r\n\t\t\t\treturn langx.extend( this._change.s.apply( this, arguments ),\r\n\t\t\t\t\tthis._change.e.apply( this, [ event, dx, dy ] ) );\r\n\t\t\t},\r\n\t\t\tsw: function( event, dx, dy ) {\r\n\t\t\t\treturn langx.extend( this._change.s.apply( this, arguments ),\r\n\t\t\t\t\tthis._change.w.apply( this, [ event, dx, dy ] ) );\r\n\t\t\t},\r\n\t\t\tne: function( event, dx, dy ) {\r\n\t\t\t\treturn langx.extend( this._change.n.apply( this, arguments ),\r\n\t\t\t\t\tthis._change.e.apply( this, [ event, dx, dy ] ) );\r\n\t\t\t},\r\n\t\t\tnw: function( event, dx, dy ) {\r\n\t\t\t\treturn langx.extend( this._change.n.apply( this, arguments ),\r\n\t\t\t\t\tthis._change.w.apply( this, [ event, dx, dy ] ) );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_propagate: function( n, event ) {\r\n\t\t\tpatch.call( this, n, [ event, this.ui(), this ], true );\r\n\t\t\t//$.ui.plugin.call( this, n, [ event, this.ui() ] );\r\n\t\t\t( n !== \"resize\" && this._trigger( n, event, this.ui() ) );\r\n\t\t},\r\n\r\n\t\tpatches: {},\r\n\r\n\t\tui: function() {\r\n\t\t\treturn {\r\n\t\t\t\toriginalElement: this.originalElement,\r\n\t\t\t\telement: this.element,\r\n\t\t\t\thelper: this.helper,\r\n\t\t\t\tposition: this.position,\r\n\t\t\t\tsize: this.size,\r\n\t\t\t\toriginalSize: this.originalSize,\r\n\t\t\t\toriginalPosition: this.originalPosition\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\t/*\r\n\t * Resizable Extensions\r\n\t */\r\n\r\n\tpatch.add(Resizable, \"animate\", {\r\n\r\n\t\tstop: function( event ) {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tpr = that._proportionallyResizeElements,\r\n\t\t\t\tista = pr.length && ( /textarea/i ).test( pr[ 0 ].nodeName ),\r\n\t\t\t\tsoffseth = ista && that._hasScroll( pr[ 0 ], \"left\" ) ? 0 : that.sizeDiff.height,\r\n\t\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width,\r\n\t\t\t\tstyle = {\r\n\t\t\t\t\twidth: ( that.size.width - soffsetw ),\r\n\t\t\t\t\theight: ( that.size.height - soffseth )\r\n\t\t\t\t},\r\n\t\t\t\tleft = ( parseFloat( that.element.css( \"left\" ) ) +\r\n\t\t\t\t\t( that.position.left - that.originalPosition.left ) ) || null,\r\n\t\t\t\ttop = ( parseFloat( that.element.css( \"top\" ) ) +\r\n\t\t\t\t\t( that.position.top - that.originalPosition.top ) ) || null;\r\n\r\n\t\t\tthat.element.animate(\r\n\t\t\t\tlangx.extend( style, top && left ? { top: top, left: left } : {} ), {\r\n\t\t\t\t\tduration: o.animateDuration,\r\n\t\t\t\t\teasing: o.animateEasing,\r\n\t\t\t\t\tstep: function() {\r\n\r\n\t\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\t\twidth: parseFloat( that.element.css( \"width\" ) ),\r\n\t\t\t\t\t\t\theight: parseFloat( that.element.css( \"height\" ) ),\r\n\t\t\t\t\t\t\ttop: parseFloat( that.element.css( \"top\" ) ),\r\n\t\t\t\t\t\t\tleft: parseFloat( that.element.css( \"left\" ) )\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tif ( pr && pr.length ) {\r\n\t\t\t\t\t\t\t$( pr[ 0 ] ).css( { width: data.width, height: data.height } );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Propagating resize, and updating values for each animation step\r\n\t\t\t\t\t\tthat._updateCache( data );\r\n\t\t\t\t\t\tthat._propagate( \"resize\", event );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tpatch.add(Resizable, \"containment\", {\r\n\r\n\t\tstart: function() {\r\n\t\t\tvar element, p, co, ch, cw, width, height,\r\n\t\t\t\tthat = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tel = that.element,\r\n\t\t\t\toc = o.containment,\r\n\t\t\t\tce = ( oc instanceof $ ) ?\r\n\t\t\t\t\toc.get( 0 ) :\r\n\t\t\t\t\t( /parent/.test( oc ) ) ? el.parent().get( 0 ) : oc;\r\n\r\n\t\t\tif ( !ce ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthat.containerElement = $( ce );\r\n\r\n\t\t\tif ( /document/.test( oc ) || oc === document ) {\r\n\t\t\t\tthat.containerOffset = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0\r\n\t\t\t\t};\r\n\t\t\t\tthat.containerPosition = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthat.parentData = {\r\n\t\t\t\t\telement: $( document ),\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: $( document ).width(),\r\n\t\t\t\t\theight: $( document ).height() || document.body.parentNode.scrollHeight\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\telement = $( ce );\r\n\t\t\t\tp = [];\r\n\t\t\t\t$( [ \"Top\", \"Right\", \"Left\", \"Bottom\" ] ).each( function( i, name ) {\r\n\t\t\t\t\tp[ i ] = that._num( element.css( \"padding\" + name ) );\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tthat.containerOffset = element.offset();\r\n\t\t\t\tthat.containerPosition = element.position();\r\n\t\t\t\tthat.containerSize = {\r\n\t\t\t\t\theight: ( element.innerHeight() - p[ 3 ] ),\r\n\t\t\t\t\twidth: ( element.innerWidth() - p[ 1 ] )\r\n\t\t\t\t};\r\n\r\n\t\t\t\tco = that.containerOffset;\r\n\t\t\t\tch = that.containerSize.height;\r\n\t\t\t\tcw = that.containerSize.width;\r\n\t\t\t\twidth = ( that._hasScroll ( ce, \"left\" ) ? ce.scrollWidth : cw );\r\n\t\t\t\theight = ( that._hasScroll ( ce ) ? ce.scrollHeight : ch ) ;\r\n\r\n\t\t\t\tthat.parentData = {\r\n\t\t\t\t\telement: ce,\r\n\t\t\t\t\tleft: co.left,\r\n\t\t\t\t\ttop: co.top,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tresize: function( event ) {\r\n\t\t\tvar woset, hoset, isParent, isOffsetRelative,\r\n\t\t\t\tthat = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tco = that.containerOffset,\r\n\t\t\t\tcp = that.position,\r\n\t\t\t\tpRatio = that._aspectRatio || event.shiftKey,\r\n\t\t\t\tcop = {\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0\r\n\t\t\t\t},\r\n\t\t\t\tce = that.containerElement,\r\n\t\t\t\tcontinueResize = true;\r\n\r\n\t\t\tif ( ce[ 0 ] !== document && ( /static/ ).test( ce.css( \"position\" ) ) ) {\r\n\t\t\t\tcop = co;\r\n\t\t\t}\r\n\r\n\t\t\tif ( cp.left < ( that._helper ? co.left : 0 ) ) {\r\n\t\t\t\tthat.size.width = that.size.width +\r\n\t\t\t\t\t( that._helper ?\r\n\t\t\t\t\t\t( that.position.left - co.left ) :\r\n\t\t\t\t\t\t( that.position.left - cop.left ) );\r\n\r\n\t\t\t\tif ( pRatio ) {\r\n\t\t\t\t\tthat.size.height = that.size.width / that.aspectRatio;\r\n\t\t\t\t\tcontinueResize = false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.position.left = o.helper ? co.left : 0;\r\n\t\t\t}\r\n\r\n\t\t\tif ( cp.top < ( that._helper ? co.top : 0 ) ) {\r\n\t\t\t\tthat.size.height = that.size.height +\r\n\t\t\t\t\t( that._helper ?\r\n\t\t\t\t\t\t( that.position.top - co.top ) :\r\n\t\t\t\t\t\tthat.position.top );\r\n\r\n\t\t\t\tif ( pRatio ) {\r\n\t\t\t\t\tthat.size.width = that.size.height * that.aspectRatio;\r\n\t\t\t\t\tcontinueResize = false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.position.top = that._helper ? co.top : 0;\r\n\t\t\t}\r\n\r\n\t\t\tisParent = that.containerElement.get( 0 ) === that.element.parent().get( 0 );\r\n\t\t\tisOffsetRelative = /relative|absolute/.test( that.containerElement.css( \"position\" ) );\r\n\r\n\t\t\tif ( isParent && isOffsetRelative ) {\r\n\t\t\t\tthat.offset.left = that.parentData.left + that.position.left;\r\n\t\t\t\tthat.offset.top = that.parentData.top + that.position.top;\r\n\t\t\t} else {\r\n\t\t\t\tthat.offset.left = that.element.offset().left;\r\n\t\t\t\tthat.offset.top = that.element.offset().top;\r\n\t\t\t}\r\n\r\n\t\t\twoset = Math.abs( that.sizeDiff.width +\r\n\t\t\t\t( that._helper ?\r\n\t\t\t\t\tthat.offset.left - cop.left :\r\n\t\t\t\t\t( that.offset.left - co.left ) ) );\r\n\r\n\t\t\thoset = Math.abs( that.sizeDiff.height +\r\n\t\t\t\t( that._helper ?\r\n\t\t\t\t\tthat.offset.top - cop.top :\r\n\t\t\t\t\t( that.offset.top - co.top ) ) );\r\n\r\n\t\t\tif ( woset + that.size.width >= that.parentData.width ) {\r\n\t\t\t\tthat.size.width = that.parentData.width - woset;\r\n\t\t\t\tif ( pRatio ) {\r\n\t\t\t\t\tthat.size.height = that.size.width / that.aspectRatio;\r\n\t\t\t\t\tcontinueResize = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( hoset + that.size.height >= that.parentData.height ) {\r\n\t\t\t\tthat.size.height = that.parentData.height - hoset;\r\n\t\t\t\tif ( pRatio ) {\r\n\t\t\t\t\tthat.size.width = that.size.height * that.aspectRatio;\r\n\t\t\t\t\tcontinueResize = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( !continueResize ) {\r\n\t\t\t\tthat.position.left = that.prevPosition.left;\r\n\t\t\t\tthat.position.top = that.prevPosition.top;\r\n\t\t\t\tthat.size.width = that.prevSize.width;\r\n\t\t\t\tthat.size.height = that.prevSize.height;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstop: function() {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tco = that.containerOffset,\r\n\t\t\t\tcop = that.containerPosition,\r\n\t\t\t\tce = that.containerElement,\r\n\t\t\t\thelper = $( that.helper ),\r\n\t\t\t\tho = helper.offset(),\r\n\t\t\t\tw = helper.outerWidth() - that.sizeDiff.width,\r\n\t\t\t\th = helper.outerHeight() - that.sizeDiff.height;\r\n\r\n\t\t\tif ( that._helper && !o.animate && ( /relative/ ).test( ce.css( \"position\" ) ) ) {\r\n\t\t\t\t$( this ).css( {\r\n\t\t\t\t\tleft: ho.left - cop.left - co.left,\r\n\t\t\t\t\twidth: w,\r\n\t\t\t\t\theight: h\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tif ( that._helper && !o.animate && ( /static/ ).test( ce.css( \"position\" ) ) ) {\r\n\t\t\t\t$( this ).css( {\r\n\t\t\t\t\tleft: ho.left - cop.left - co.left,\r\n\t\t\t\t\twidth: w,\r\n\t\t\t\t\theight: h\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add(Resizable, \"alsoResize\", {\r\n\r\n\t\tstart: function() {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options;\r\n\r\n\t\t\t$( o.alsoResize ).each( function() {\r\n\t\t\t\tvar el = $( this );\r\n\t\t\t\tel.data( \"ui-resizable-alsoresize\", {\r\n\t\t\t\t\twidth: parseFloat( el.width() ), height: parseFloat( el.height() ),\r\n\t\t\t\t\tleft: parseFloat( el.css( \"left\" ) ), top: parseFloat( el.css( \"top\" ) )\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\tresize: function( event, ui ) {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tos = that.originalSize,\r\n\t\t\t\top = that.originalPosition,\r\n\t\t\t\tdelta = {\r\n\t\t\t\t\theight: ( that.size.height - os.height ) || 0,\r\n\t\t\t\t\twidth: ( that.size.width - os.width ) || 0,\r\n\t\t\t\t\ttop: ( that.position.top - op.top ) || 0,\r\n\t\t\t\t\tleft: ( that.position.left - op.left ) || 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$( o.alsoResize ).each( function() {\r\n\t\t\t\t\tvar el = $( this ), start = $( this ).data( \"ui-resizable-alsoresize\" ), style = {},\r\n\t\t\t\t\t\tcss = el.parents( ui.originalElement[ 0 ] ).length ?\r\n\t\t\t\t\t\t\t\t[ \"width\", \"height\" ] :\r\n\t\t\t\t\t\t\t\t[ \"width\", \"height\", \"top\", \"left\" ];\r\n\r\n\t\t\t\t\tlangx.each( css, function( i, prop ) {\r\n\t\t\t\t\t\tvar sum = ( start[ prop ] || 0 ) + ( delta[ prop ] || 0 );\r\n\t\t\t\t\t\tif ( sum && sum >= 0 ) {\r\n\t\t\t\t\t\t\tstyle[ prop ] = sum || null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\tel.css( style );\r\n\t\t\t\t} );\r\n\t\t},\r\n\r\n\t\tstop: function() {\r\n\t\t\t$( this ).removeData( \"ui-resizable-alsoresize\" );\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add(Resizable, \"ghost\", {\r\n\r\n\t\tstart: function() {\r\n\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ), cs = that.size;\r\n\r\n\t\t\tthat.ghost = that.originalElement.clone();\r\n\t\t\tthat.ghost.css( {\r\n\t\t\t\topacity: 0.25,\r\n\t\t\t\tdisplay: \"block\",\r\n\t\t\t\tposition: \"relative\",\r\n\t\t\t\theight: cs.height,\r\n\t\t\t\twidth: cs.width,\r\n\t\t\t\tmargin: 0,\r\n\t\t\t\tleft: 0,\r\n\t\t\t\ttop: 0\r\n\t\t\t} );\r\n\r\n\t\t\tthat._addClass( that.ghost, \"ui-resizable-ghost\" );\r\n\r\n\t\t\t// DEPRECATED\r\n\t\t\t// TODO: remove after 1.12\r\n\t\t\t/*\r\n\t\t\tif ( $.uiBackCompat !== false && typeof that.options.ghost === \"string\" ) {\r\n\r\n\t\t\t\t// Ghost option\r\n\t\t\t\tthat.ghost.addClass( this.options.ghost );\r\n\t\t\t}\r\n\t\t\t*/\r\n\r\n\t\t\tthat.ghost.appendTo( that.helper );\r\n\r\n\t\t},\r\n\r\n\t\tresize: function() {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" );\r\n\t\t\tif ( that.ghost ) {\r\n\t\t\t\tthat.ghost.css( {\r\n\t\t\t\t\tposition: \"relative\",\r\n\t\t\t\t\theight: that.size.height,\r\n\t\t\t\t\twidth: that.size.width\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstop: function() {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" );\r\n\t\t\tif ( that.ghost && that.helper ) {\r\n\t\t\t\tthat.helper.get( 0 ).removeChild( that.ghost.get( 0 ) );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tpatch.add(Resizable, \"grid\", {\r\n\r\n\t\tresize: function() {\r\n\t\t\tvar outerDimensions,\r\n\t\t\t\tthat = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tcs = that.size,\r\n\t\t\t\tos = that.originalSize,\r\n\t\t\t\top = that.originalPosition,\r\n\t\t\t\ta = that.axis,\r\n\t\t\t\tgrid = typeof o.grid === \"number\" ? [ o.grid, o.grid ] : o.grid,\r\n\t\t\t\tgridX = ( grid[ 0 ] || 1 ),\r\n\t\t\t\tgridY = ( grid[ 1 ] || 1 ),\r\n\t\t\t\tox = Math.round( ( cs.width - os.width ) / gridX ) * gridX,\r\n\t\t\t\toy = Math.round( ( cs.height - os.height ) / gridY ) * gridY,\r\n\t\t\t\tnewWidth = os.width + ox,\r\n\t\t\t\tnewHeight = os.height + oy,\r\n\t\t\t\tisMaxWidth = o.maxWidth && ( o.maxWidth < newWidth ),\r\n\t\t\t\tisMaxHeight = o.maxHeight && ( o.maxHeight < newHeight ),\r\n\t\t\t\tisMinWidth = o.minWidth && ( o.minWidth > newWidth ),\r\n\t\t\t\tisMinHeight = o.minHeight && ( o.minHeight > newHeight );\r\n\r\n\t\t\to.grid = grid;\r\n\r\n\t\t\tif ( isMinWidth ) {\r\n\t\t\t\tnewWidth += gridX;\r\n\t\t\t}\r\n\t\t\tif ( isMinHeight ) {\r\n\t\t\t\tnewHeight += gridY;\r\n\t\t\t}\r\n\t\t\tif ( isMaxWidth ) {\r\n\t\t\t\tnewWidth -= gridX;\r\n\t\t\t}\r\n\t\t\tif ( isMaxHeight ) {\r\n\t\t\t\tnewHeight -= gridY;\r\n\t\t\t}\r\n\r\n\t\t\tif ( /^(se|s|e)$/.test( a ) ) {\r\n\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t} else if ( /^(ne)$/.test( a ) ) {\r\n\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t\tthat.position.top = op.top - oy;\r\n\t\t\t} else if ( /^(sw)$/.test( a ) ) {\r\n\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t\tthat.position.left = op.left - ox;\r\n\t\t\t} else {\r\n\t\t\t\tif ( newHeight - gridY <= 0 || newWidth - gridX <= 0 ) {\r\n\t\t\t\t\touterDimensions = that._getPaddingPlusBorderDimensions( this );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( newHeight - gridY > 0 ) {\r\n\t\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t\t\tthat.position.top = op.top - oy;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewHeight = gridY - outerDimensions.height;\r\n\t\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t\t\tthat.position.top = op.top + os.height - newHeight;\r\n\t\t\t\t}\r\n\t\t\t\tif ( newWidth - gridX > 0 ) {\r\n\t\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\t\tthat.position.left = op.left - ox;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewWidth = gridX - outerDimensions.width;\r\n\t\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\t\tthat.position.left = op.left + os.width - newWidth;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tplugins.register(Resizable,\"resizable\");\r\n\r\n\treturn Resizable;\r\n\r\n});\r\n\ndefine( 'skylark-jqueryui-interact/Selectable',[\r\n\t\"skylark-utils-dom/langx\",\r\n\t\"skylark-utils-dom/datax\",\r\n\t\"skylark-utils-dom/eventer\",\r\n\t\"skylark-utils-dom/noder\",\r\n\t\"skylark-utils-dom/query\",\r\n\t\"skylark-utils-dom/plugins\",\r\n\t\"./Mouse\"\r\n],function(langx, datax, eventer, noder, $, plugins, Mouse) {\r\n\r\n\tvar Selectable = Mouse.inherit({\r\n\t\tklassName: \"Selectable\",\r\n\r\n\t\tpluginName : \"ui.selectable\",\r\n\r\n\t\toptions: {\r\n\t\t\tappendTo: \"body\",\r\n\t\t\tautoRefresh: true,\r\n\t\t\tdistance: 0,\r\n\t\t\tfilter: \"*\",\r\n\t\t\ttolerance: \"touch\",\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tselected: null,\r\n\t\t\tselecting: null,\r\n\t\t\tstart: null,\r\n\t\t\tstop: null,\r\n\t\t\tunselected: null,\r\n\t\t\tunselecting: null\r\n\t\t},\r\n\t\t_create: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis._addClass( \"ui-selectable\" );\r\n\r\n\t\t\tthis.dragged = false;\r\n\r\n\t\t\t// Cache selectee children based on filter\r\n\t\t\tthis.refresh = function() {\r\n\t\t\t\tthat.elementPos = $( that.element[ 0 ] ).offset();\r\n\t\t\t\tthat.selectees = $( that.options.filter, that.element[ 0 ] );\r\n\t\t\t\tthat._addClass( that.selectees, \"ui-selectee\" );\r\n\t\t\t\tthat.selectees.each( function() {\r\n\t\t\t\t\tvar $this = $( this ),\r\n\t\t\t\t\t\tselecteeOffset = $this.offset(),\r\n\t\t\t\t\t\tpos = {\r\n\t\t\t\t\t\t\tleft: selecteeOffset.left - that.elementPos.left,\r\n\t\t\t\t\t\t\ttop: selecteeOffset.top - that.elementPos.top\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\tdatax.data( this, \"selectable-item\", {\r\n\t\t\t\t\t\telement: this,\r\n\t\t\t\t\t\t$element: $this,\r\n\t\t\t\t\t\tleft: pos.left,\r\n\t\t\t\t\t\ttop: pos.top,\r\n\t\t\t\t\t\tright: pos.left + $this.outerWidth(),\r\n\t\t\t\t\t\tbottom: pos.top + $this.outerHeight(),\r\n\t\t\t\t\t\tstartselected: false,\r\n\t\t\t\t\t\tselected: $this.hasClass( \"ui-selected\" ),\r\n\t\t\t\t\t\tselecting: $this.hasClass( \"ui-selecting\" ),\r\n\t\t\t\t\t\tunselecting: $this.hasClass( \"ui-unselecting\" )\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t\t};\r\n\t\t\tthis.refresh();\r\n\r\n\t\t\tthis._mouseInit();\r\n\r\n\t\t\tthis.helper = $( \"<div>\" );\r\n\t\t\tthis._addClass( this.helper, \"ui-selectable-helper\" );\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\t\t\tthis.selectees.removeData( \"selectable-item\" );\r\n\t\t\tthis._mouseDestroy();\r\n\t\t},\r\n\r\n\t\t_mouseStart: function( event ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\toptions = this.options;\r\n\r\n\t\t\tthis.opos = [ event.pageX, event.pageY ];\r\n\t\t\tthis.elementPos = $( this.element[ 0 ] ).offset();\r\n\r\n\t\t\tif ( this.options.disabled ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.selectees = $( options.filter, this.element[ 0 ] );\r\n\r\n\t\t\tthis._trigger( \"start\", event );\r\n\r\n\t\t\t$( options.appendTo ).append( this.helper );\r\n\r\n\t\t\t// position helper (lasso)\r\n\t\t\tthis.helper.css( {\r\n\t\t\t\t\"left\": event.pageX,\r\n\t\t\t\t\"top\": event.pageY,\r\n\t\t\t\t\"width\": 0,\r\n\t\t\t\t\"height\": 0\r\n\t\t\t} );\r\n\r\n\t\t\tif ( options.autoRefresh ) {\r\n\t\t\t\tthis.refresh();\r\n\t\t\t}\r\n\r\n\t\t\tthis.selectees.filter( \".ui-selected\" ).each( function() {\r\n\t\t\t\tvar selectee = datax.data( this, \"selectable-item\" );\r\n\t\t\t\tselectee.startselected = true;\r\n\t\t\t\tif ( !event.metaKey && !event.ctrlKey ) {\r\n\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\t\tselectee.selected = false;\r\n\t\t\t\t\tthat._addClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\t\tselectee.unselecting = true;\r\n\r\n\t\t\t\t\t// selectable UNSELECTING callback\r\n\t\t\t\t\tthat._trigger( \"unselecting\", event, {\r\n\t\t\t\t\t\tunselecting: selectee.element\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\t$( event.target ).parents().addBack().each( function() {\r\n\t\t\t\tvar doSelect,\r\n\t\t\t\t\tselectee = datax.data( this, \"selectable-item\" );\r\n\t\t\t\tif ( selectee ) {\r\n\t\t\t\t\tdoSelect = ( !event.metaKey && !event.ctrlKey ) ||\r\n\t\t\t\t\t\t!selectee.$element.hasClass( \"ui-selected\" );\r\n\t\t\t\t\tthat._removeClass( selectee.$element, doSelect ? \"ui-unselecting\" : \"ui-selected\" )\r\n\t\t\t\t\t\t._addClass( selectee.$element, doSelect ? \"ui-selecting\" : \"ui-unselecting\" );\r\n\t\t\t\t\tselectee.unselecting = !doSelect;\r\n\t\t\t\t\tselectee.selecting = doSelect;\r\n\t\t\t\t\tselectee.selected = doSelect;\r\n\r\n\t\t\t\t\t// selectable (UN)SELECTING callback\r\n\t\t\t\t\tif ( doSelect ) {\r\n\t\t\t\t\t\tthat._trigger( \"selecting\", event, {\r\n\t\t\t\t\t\t\tselecting: selectee.element\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat._trigger( \"unselecting\", event, {\r\n\t\t\t\t\t\t\tunselecting: selectee.element\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\r\n\t\t_mouseDrag: function( event ) {\r\n\r\n\t\t\tthis.dragged = true;\r\n\r\n\t\t\tif ( this.options.disabled ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar tmp,\r\n\t\t\t\tthat = this,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\tx1 = this.opos[ 0 ],\r\n\t\t\t\ty1 = this.opos[ 1 ],\r\n\t\t\t\tx2 = event.pageX,\r\n\t\t\t\ty2 = event.pageY;\r\n\r\n\t\t\tif ( x1 > x2 ) { tmp = x2; x2 = x1; x1 = tmp; }\r\n\t\t\tif ( y1 > y2 ) { tmp = y2; y2 = y1; y1 = tmp; }\r\n\t\t\tthis.helper.css( { left: x1, top: y1, width: x2 - x1, height: y2 - y1 } );\r\n\r\n\t\t\tthis.selectees.each( function() {\r\n\t\t\t\tvar selectee = datax.data( this, \"selectable-item\" ),\r\n\t\t\t\t\thit = false,\r\n\t\t\t\t\toffset = {};\r\n\r\n\t\t\t\t//prevent helper from being selected if appendTo: selectable\r\n\t\t\t\tif ( !selectee || selectee.element === that.element[ 0 ] ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toffset.left   = selectee.left   + that.elementPos.left;\r\n\t\t\t\toffset.right  = selectee.right  + that.elementPos.left;\r\n\t\t\t\toffset.top    = selectee.top    + that.elementPos.top;\r\n\t\t\t\toffset.bottom = selectee.bottom + that.elementPos.top;\r\n\r\n\t\t\t\tif ( options.tolerance === \"touch\" ) {\r\n\t\t\t\t\thit = ( !( offset.left > x2 || offset.right < x1 || offset.top > y2 ||\r\n\t                    offset.bottom < y1 ) );\r\n\t\t\t\t} else if ( options.tolerance === \"fit\" ) {\r\n\t\t\t\t\thit = ( offset.left > x1 && offset.right < x2 && offset.top > y1 &&\r\n\t                    offset.bottom < y2 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( hit ) {\r\n\r\n\t\t\t\t\t// SELECT\r\n\t\t\t\t\tif ( selectee.selected ) {\r\n\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\t\t\tselectee.selected = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( selectee.unselecting ) {\r\n\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\t\t\tselectee.unselecting = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( !selectee.selecting ) {\r\n\t\t\t\t\t\tthat._addClass( selectee.$element, \"ui-selecting\" );\r\n\t\t\t\t\t\tselectee.selecting = true;\r\n\r\n\t\t\t\t\t\t// selectable SELECTING callback\r\n\t\t\t\t\t\tthat._trigger( \"selecting\", event, {\r\n\t\t\t\t\t\t\tselecting: selectee.element\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// UNSELECT\r\n\t\t\t\t\tif ( selectee.selecting ) {\r\n\t\t\t\t\t\tif ( ( event.metaKey || event.ctrlKey ) && selectee.startselected ) {\r\n\t\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selecting\" );\r\n\t\t\t\t\t\t\tselectee.selecting = false;\r\n\t\t\t\t\t\t\tthat._addClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\t\t\t\tselectee.selected = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selecting\" );\r\n\t\t\t\t\t\t\tselectee.selecting = false;\r\n\t\t\t\t\t\t\tif ( selectee.startselected ) {\r\n\t\t\t\t\t\t\t\tthat._addClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\t\t\t\t\tselectee.unselecting = true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// selectable UNSELECTING callback\r\n\t\t\t\t\t\t\tthat._trigger( \"unselecting\", event, {\r\n\t\t\t\t\t\t\t\tunselecting: selectee.element\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( selectee.selected ) {\r\n\t\t\t\t\t\tif ( !event.metaKey && !event.ctrlKey && !selectee.startselected ) {\r\n\t\t\t\t\t\t\tthat._removeClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\t\t\t\tselectee.selected = false;\r\n\r\n\t\t\t\t\t\t\tthat._addClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\t\t\t\tselectee.unselecting = true;\r\n\r\n\t\t\t\t\t\t\t// selectable UNSELECTING callback\r\n\t\t\t\t\t\t\tthat._trigger( \"unselecting\", event, {\r\n\t\t\t\t\t\t\t\tunselecting: selectee.element\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_mouseStop: function( event ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.dragged = false;\r\n\r\n\t\t\t$( \".ui-unselecting\", this.element[ 0 ] ).each( function() {\r\n\t\t\t\tvar selectee = datax.data( this, \"selectable-item\" );\r\n\t\t\t\tthat._removeClass( selectee.$element, \"ui-unselecting\" );\r\n\t\t\t\tselectee.unselecting = false;\r\n\t\t\t\tselectee.startselected = false;\r\n\t\t\t\tthat._trigger( \"unselected\", event, {\r\n\t\t\t\t\tunselected: selectee.element\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t\t$( \".ui-selecting\", this.element[ 0 ] ).each( function() {\r\n\t\t\t\tvar selectee = datax.data( this, \"selectable-item\" );\r\n\t\t\t\tthat._removeClass( selectee.$element, \"ui-selecting\" )\r\n\t\t\t\t\t._addClass( selectee.$element, \"ui-selected\" );\r\n\t\t\t\tselectee.selecting = false;\r\n\t\t\t\tselectee.selected = true;\r\n\t\t\t\tselectee.startselected = true;\r\n\t\t\t\tthat._trigger( \"selected\", event, {\r\n\t\t\t\t\tselected: selectee.element\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t\tthis._trigger( \"stop\", event );\r\n\r\n\t\t\tthis.helper.remove();\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\r\n\tplugins.register(Selectable,\"selectable\");\r\n\r\n\treturn Selectable;\r\n\r\n});\r\n\ndefine( 'skylark-jqueryui-interact/Sortable',[\r\n\t\"skylark-utils-dom/langx\",\r\n\t\"skylark-utils-dom/datax\",\r\n\t\"skylark-utils-dom/eventer\",\r\n\t\"skylark-utils-dom/noder\",\r\n\t\"skylark-utils-dom/query\",\r\n\t\"skylark-utils-dom/plugins\",\r\n\t\"./Mouse\",\r\n\t\"./ddmanager\",\r\n],function(langx, datax, eventer, noder, $, plugins, Mouse, ddmanager) {\r\n\r\n\tvar Sortable = Mouse.inherit({\r\n\t\tklassName: \"Sortable\",\r\n\r\n\t\tpluginName : \"ui.sortable\",\r\n\r\n\t\twidgetEventPrefix: \"sort\",\r\n\t\tready: false,\r\n\t\toptions: {\r\n\t\t\tappendTo: \"parent\",\r\n\t\t\taxis: false,\r\n\t\t\tconnectWith: false,\r\n\t\t\tcontainment: false,\r\n\t\t\tcursor: \"auto\",\r\n\t\t\tcursorAt: false,\r\n\t\t\tdropOnEmpty: true,\r\n\t\t\tforcePlaceholderSize: false,\r\n\t\t\tforceHelperSize: false,\r\n\t\t\tgrid: false,\r\n\t\t\thandle: false,\r\n\t\t\thelper: \"original\",\r\n\t\t\titems: \"> *\",\r\n\t\t\topacity: false,\r\n\t\t\tplaceholder: false,\r\n\t\t\trevert: false,\r\n\t\t\tscroll: true,\r\n\t\t\tscrollSensitivity: 20,\r\n\t\t\tscrollSpeed: 20,\r\n\t\t\tscope: \"default\",\r\n\t\t\ttolerance: \"intersect\",\r\n\t\t\tzIndex: 1000,\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tactivate: null,\r\n\t\t\tbeforeStop: null,\r\n\t\t\tchange: null,\r\n\t\t\tdeactivate: null,\r\n\t\t\tout: null,\r\n\t\t\tover: null,\r\n\t\t\treceive: null,\r\n\t\t\tremove: null,\r\n\t\t\tsort: null,\r\n\t\t\tstart: null,\r\n\t\t\tstop: null,\r\n\t\t\tupdate: null\r\n\t\t},\r\n\r\n\t\t_isOverAxis: function( x, reference, size ) {\r\n\t\t\treturn ( x >= reference ) && ( x < ( reference + size ) );\r\n\t\t},\r\n\r\n\t\t_isFloating: function( item ) {\r\n\t\t\treturn ( /left|right/ ).test( item.css( \"float\" ) ) ||\r\n\t\t\t\t( /inline|table-cell/ ).test( item.css( \"display\" ) );\r\n\t\t},\r\n\r\n\t\t_create: function() {\r\n\t\t\tthis.containerCache = {};\r\n\t\t\tthis._addClass( \"ui-sortable\" );\r\n\r\n\t\t\t//Get the items\r\n\t\t\tthis.refresh();\r\n\r\n\t\t\t//Let's determine the parent's offset\r\n\t\t\tthis.offset = this.element.offset();\r\n\r\n\t\t\t//Initialize mouse events for interaction\r\n\t\t\tthis._mouseInit();\r\n\r\n\t\t\tthis._setHandleClassName();\r\n\r\n\t\t\t//We're ready to go\r\n\t\t\tthis.ready = true;\r\n\r\n\t\t},\r\n\r\n\t\t_setOption: function( key, value ) {\r\n\t\t\tthis._super( key, value );\r\n\r\n\t\t\tif ( key === \"handle\" ) {\r\n\t\t\t\tthis._setHandleClassName();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setHandleClassName: function() {\r\n\t\t\tvar that = this;\r\n\t\t\tthis._removeClass( this.element.find( \".ui-sortable-handle\" ), \"ui-sortable-handle\" );\r\n\t\t\tlangx.each( this.items, function() {\r\n\t\t\t\tthat._addClass(\r\n\t\t\t\t\tthis.instance.options.handle ?\r\n\t\t\t\t\t\tthis.item.find( this.instance.options.handle ) :\r\n\t\t\t\t\t\tthis.item,\r\n\t\t\t\t\t\"ui-sortable-handle\"\r\n\t\t\t\t);\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\t\t\tthis._mouseDestroy();\r\n\r\n\t\t\tfor ( var i = this.items.length - 1; i >= 0; i-- ) {\r\n\t\t\t\tthis.items[ i ].item.removeData( this.pluginName + \"-item\" );\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t_mouseCapture: function( event, overrideHandle ) {\r\n\t\t\tvar currentItem = null,\r\n\t\t\t\tvalidHandle = false,\r\n\t\t\t\tthat = this;\r\n\r\n\t\t\tif ( this.reverting ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.options.disabled || this.options.type === \"static\" ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t//We have to refresh the items data once first\r\n\t\t\tthis._refreshItems( event );\r\n\r\n\t\t\t//Find out if the clicked node (or one of its parents) is a actual item in this.items\r\n\t\t\t$( event.target ).parents().each( function() {\r\n\t\t\t\tif ( datax.data( this, that.pluginName + \"-item\" ) === that ) {\r\n\t\t\t\t\tcurrentItem = $( this );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\tif ( datax.data( event.target, that.pluginName + \"-item\" ) === that ) {\r\n\t\t\t\tcurrentItem = $( event.target );\r\n\t\t\t}\r\n\r\n\t\t\tif ( !currentItem ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif ( this.options.handle && !overrideHandle ) {\r\n\t\t\t\t$( this.options.handle, currentItem ).find( \"*\" ).addBack().each( function() {\r\n\t\t\t\t\tif ( this === event.target ) {\r\n\t\t\t\t\t\tvalidHandle = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t\tif ( !validHandle ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.currentItem = currentItem;\r\n\t\t\tthis._removeCurrentsFromItems();\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\t_mouseStart: function( event, overrideHandle, noActivation ) {\r\n\r\n\t\t\tvar i, body,\r\n\t\t\t\to = this.options;\r\n\r\n\t\t\tthis.currentContainer = this;\r\n\r\n\t\t\t//We only need to call refreshPositions, because the refreshItems call has been moved to\r\n\t\t\t// mouseCapture\r\n\t\t\tthis.refreshPositions();\r\n\r\n\t\t\t//Prepare the dragged items parent\r\n\t\t\tthis.appendTo = $( o.appendTo !== \"parent\" ?\r\n\t\t\t\t\to.appendTo :\r\n\t\t\t\t\tthis.currentItem.parent() );\r\n\r\n\t\t\t//Create and append the visible helper\r\n\t\t\tthis.helper = this._createHelper( event );\r\n\r\n\t\t\t//Cache the helper size\r\n\t\t\tthis._cacheHelperProportions();\r\n\r\n\t\t\t/*\r\n\t\t\t * - Position generation -\r\n\t\t\t * This block generates everything position related - it's the core of draggables.\r\n\t\t\t */\r\n\r\n\t\t\t//Cache the margins of the original element\r\n\t\t\tthis._cacheMargins();\r\n\r\n\t\t\t//The element's absolute position on the page minus margins\r\n\t\t\tthis.offset = this.currentItem.offset();\r\n\t\t\tthis.offset = {\r\n\t\t\t\ttop: this.offset.top - this.margins.top,\r\n\t\t\t\tleft: this.offset.left - this.margins.left\r\n\t\t\t};\r\n\r\n\t\t\tlangx.extend( this.offset, {\r\n\t\t\t\tclick: { //Where the click happened, relative to the element\r\n\t\t\t\t\tleft: event.pageX - this.offset.left,\r\n\t\t\t\t\ttop: event.pageY - this.offset.top\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// This is a relative to absolute position minus the actual position calculation -\r\n\t\t\t\t// only used for relative positioned helper\r\n\t\t\t\trelative: this._getRelativeOffset()\r\n\t\t\t} );\r\n\r\n\t\t\t// After we get the helper offset, but before we get the parent offset we can\r\n\t\t\t// change the helper's position to absolute\r\n\t\t\t// TODO: Still need to figure out a way to make relative sorting possible\r\n\t\t\tthis.helper.css( \"position\", \"absolute\" );\r\n\t\t\tthis.cssPosition = this.helper.css( \"position\" );\r\n\r\n\t\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\r\n\t\t\t( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );\r\n\r\n\t\t\t//Cache the former DOM position\r\n\t\t\tthis.domPosition = {\r\n\t\t\t\tprev: this.currentItem.prev()[ 0 ],\r\n\t\t\t\tparent: this.currentItem.parent()[ 0 ]\r\n\t\t\t};\r\n\r\n\t\t\t// If the helper is not the original, hide the original so it's not playing any role during\r\n\t\t\t// the drag, won't cause anything bad this way\r\n\t\t\tif ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {\r\n\t\t\t\tthis.currentItem.hide();\r\n\t\t\t}\r\n\r\n\t\t\t//Create the placeholder\r\n\t\t\tthis._createPlaceholder();\r\n\r\n\t\t\t//Get the next scrolling parent\r\n\t\t\tthis.scrollParent = this.placeholder.scrollParent();\r\n\r\n\t\t\tlangx.extend( this.offset, {\r\n\t\t\t\tparent: this._getParentOffset()\r\n\t\t\t} );\r\n\r\n\t\t\t//Set a containment if given in the options\r\n\t\t\tif ( o.containment ) {\r\n\t\t\t\tthis._setContainment();\r\n\t\t\t}\r\n\r\n\t\t\tif ( o.cursor && o.cursor !== \"auto\" ) { // cursor option\r\n\t\t\t\tbody = this.document.find( \"body\" );\r\n\r\n\t\t\t\t// Support: IE\r\n\t\t\t\tthis.storedCursor = body.css( \"cursor\" );\r\n\t\t\t\tbody.css( \"cursor\", o.cursor );\r\n\r\n\t\t\t\tthis.storedStylesheet =\r\n\t\t\t\t\t$( \"<style>*{ cursor: \" + o.cursor + \" !important; }</style>\" ).appendTo( body );\r\n\t\t\t}\r\n\r\n\t\t\t// We need to make sure to grab the zIndex before setting the\r\n\t\t\t// opacity, because setting the opacity to anything lower than 1\r\n\t\t\t// causes the zIndex to change from \"auto\" to 0.\r\n\t\t\tif ( o.zIndex ) { // zIndex option\r\n\t\t\t\tif ( this.helper.css( \"zIndex\" ) ) {\r\n\t\t\t\t\tthis._storedZIndex = this.helper.css( \"zIndex\" );\r\n\t\t\t\t}\r\n\t\t\t\tthis.helper.css( \"zIndex\", o.zIndex );\r\n\t\t\t}\r\n\r\n\t\t\tif ( o.opacity ) { // opacity option\r\n\t\t\t\tif ( this.helper.css( \"opacity\" ) ) {\r\n\t\t\t\t\tthis._storedOpacity = this.helper.css( \"opacity\" );\r\n\t\t\t\t}\r\n\t\t\t\tthis.helper.css( \"opacity\", o.opacity );\r\n\t\t\t}\r\n\r\n\t\t\t//Prepare scrolling\r\n\t\t\tif ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\tthis.scrollParent[ 0 ].tagName !== \"HTML\" ) {\r\n\t\t\t\tthis.overflowOffset = this.scrollParent.offset();\r\n\t\t\t}\r\n\r\n\t\t\t//Call callbacks\r\n\t\t\tthis._trigger( \"start\", event, this._uiHash() );\r\n\r\n\t\t\t//Recache the helper size\r\n\t\t\tif ( !this._preserveHelperProportions ) {\r\n\t\t\t\tthis._cacheHelperProportions();\r\n\t\t\t}\r\n\r\n\t\t\t//Post \"activate\" events to possible containers\r\n\t\t\tif ( !noActivation ) {\r\n\t\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tthis.containers[ i ]._trigger( \"activate\", event, this._uiHash( this ) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Prepare possible droppables\r\n\t\t\tif ( ddmanager ) {\r\n\t\t\t\tddmanager.current = this;\r\n\t\t\t}\r\n\r\n\t\t\tif ( ddmanager && !o.dropBehaviour ) {\r\n\t\t\t\tddmanager.prepareOffsets( this, event );\r\n\t\t\t}\r\n\r\n\t\t\tthis.dragging = true;\r\n\r\n\t\t\tthis._addClass( this.helper, \"ui-sortable-helper\" );\r\n\r\n\t\t\t//Move the helper, if needed\r\n\t\t\tif ( !this.helper.parent().is( this.appendTo ) ) {\r\n\t\t\t\tthis.helper.detach().appendTo( this.appendTo );\r\n\r\n\t\t\t\t//Update position\r\n\t\t\t\tthis.offset.parent = this._getParentOffset();\r\n\t\t\t}\r\n\r\n\t\t\t//Generate the original position\r\n\t\t\tthis.position = this.originalPosition = this._generatePosition( event );\r\n\t\t\tthis.originalPageX = event.pageX;\r\n\t\t\tthis.originalPageY = event.pageY;\r\n\t\t\tthis.lastPositionAbs = this.positionAbs = this._convertPositionTo( \"absolute\" );\r\n\r\n\t\t\tthis._mouseDrag( event );\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\t_scroll: function( event ) {\r\n\t\t\tvar o = this.options,\r\n\t\t\t\tscrolled = false;\r\n\r\n\t\t\tif ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\tthis.scrollParent[ 0 ].tagName !== \"HTML\" ) {\r\n\r\n\t\t\t\tif ( ( this.overflowOffset.top + this.scrollParent[ 0 ].offsetHeight ) -\r\n\t\t\t\t\t\tevent.pageY < o.scrollSensitivity ) {\r\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollTop =\r\n\t\t\t\t\t\tscrolled = this.scrollParent[ 0 ].scrollTop + o.scrollSpeed;\r\n\t\t\t\t} else if ( event.pageY - this.overflowOffset.top < o.scrollSensitivity ) {\r\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollTop =\r\n\t\t\t\t\t\tscrolled = this.scrollParent[ 0 ].scrollTop - o.scrollSpeed;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ( this.overflowOffset.left + this.scrollParent[ 0 ].offsetWidth ) -\r\n\t\t\t\t\t\tevent.pageX < o.scrollSensitivity ) {\r\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft = scrolled =\r\n\t\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft + o.scrollSpeed;\r\n\t\t\t\t} else if ( event.pageX - this.overflowOffset.left < o.scrollSensitivity ) {\r\n\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft = scrolled =\r\n\t\t\t\t\t\tthis.scrollParent[ 0 ].scrollLeft - o.scrollSpeed;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( event.pageY - this.document.scrollTop() < o.scrollSensitivity ) {\r\n\t\t\t\t\tscrolled = this.document.scrollTop( this.document.scrollTop() - o.scrollSpeed );\r\n\t\t\t\t} else if ( this.window.height() - ( event.pageY - this.document.scrollTop() ) <\r\n\t\t\t\t\t\to.scrollSensitivity ) {\r\n\t\t\t\t\tscrolled = this.document.scrollTop( this.document.scrollTop() + o.scrollSpeed );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( event.pageX - this.document.scrollLeft() < o.scrollSensitivity ) {\r\n\t\t\t\t\tscrolled = this.document.scrollLeft(\r\n\t\t\t\t\t\tthis.document.scrollLeft() - o.scrollSpeed\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if ( this.window.width() - ( event.pageX - this.document.scrollLeft() ) <\r\n\t\t\t\t\t\to.scrollSensitivity ) {\r\n\t\t\t\t\tscrolled = this.document.scrollLeft(\r\n\t\t\t\t\t\tthis.document.scrollLeft() + o.scrollSpeed\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn scrolled;\r\n\t\t},\r\n\r\n\t\t_mouseDrag: function( event ) {\r\n\t\t\tvar i, item, itemElement, intersection,\r\n\t\t\t\to = this.options;\r\n\r\n\t\t\t//Compute the helpers position\r\n\t\t\tthis.position = this._generatePosition( event );\r\n\t\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\r\n\r\n\t\t\t//Set the helper position\r\n\t\t\tif ( !this.options.axis || this.options.axis !== \"y\" ) {\r\n\t\t\t\tthis.helper[ 0 ].style.left = this.position.left + \"px\";\r\n\t\t\t}\r\n\t\t\tif ( !this.options.axis || this.options.axis !== \"x\" ) {\r\n\t\t\t\tthis.helper[ 0 ].style.top = this.position.top + \"px\";\r\n\t\t\t}\r\n\r\n\t\t\t//Post events to containers\r\n\t\t\tthis._contactContainers( event );\r\n\r\n\t\t\tif ( this.innermostContainer !== null ) {\r\n\r\n\t\t\t\t//Do scrolling\r\n\t\t\t\tif ( o.scroll ) {\r\n\t\t\t\t\tif ( this._scroll( event ) !== false ) {\r\n\r\n\t\t\t\t\t\t//Update item positions used in position checks\r\n\t\t\t\t\t\tthis._refreshItemPositions( true );\r\n\r\n\t\t\t\t\t\tif ( ddmanager && !o.dropBehaviour ) {\r\n\t\t\t\t\t\t\tddmanager.prepareOffsets( this, event );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.dragDirection = {\r\n\t\t\t\t\tvertical: this._getDragVerticalDirection(),\r\n\t\t\t\t\thorizontal: this._getDragHorizontalDirection()\r\n\t\t\t\t};\r\n\r\n\t\t\t\t//Rearrange\r\n\t\t\t\tfor ( i = this.items.length - 1; i >= 0; i-- ) {\r\n\r\n\t\t\t\t\t//Cache variables and intersection, continue if no intersection\r\n\t\t\t\t\titem = this.items[ i ];\r\n\t\t\t\t\titemElement = item.item[ 0 ];\r\n\t\t\t\t\tintersection = this._intersectsWithPointer( item );\r\n\t\t\t\t\tif ( !intersection ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Only put the placeholder inside the current Container, skip all\r\n\t\t\t\t\t// items from other containers. This works because when moving\r\n\t\t\t\t\t// an item from one container to another the\r\n\t\t\t\t\t// currentContainer is switched before the placeholder is moved.\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// Without this, moving items in \"sub-sortables\" can cause\r\n\t\t\t\t\t// the placeholder to jitter between the outer and inner container.\r\n\t\t\t\t\tif ( item.instance !== this.currentContainer ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Cannot intersect with itself\r\n\t\t\t\t\t// no useless actions that have been done before\r\n\t\t\t\t\t// no action if the item moved is the parent of the item checked\r\n\t\t\t\t\tif ( itemElement !== this.currentItem[ 0 ] &&\r\n\t\t\t\t\t\tthis.placeholder[ intersection === 1 ?\r\n\t\t\t\t\t\t\"next\" : \"prev\" ]()[ 0 ] !== itemElement &&\r\n\t\t\t\t\t\t!noder.contains( this.placeholder[ 0 ], itemElement ) &&\r\n\t\t\t\t\t\t( this.options.type === \"semi-dynamic\" ?\r\n\t\t\t\t\t\t\t!noder.contains( this.element[ 0 ], itemElement ) :\r\n\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) {\r\n\r\n\t\t\t\t\t\tthis.direction = intersection === 1 ? \"down\" : \"up\";\r\n\r\n\t\t\t\t\t\tif ( this.options.tolerance === \"pointer\" ||\r\n\t\t\t\t\t\t\t\tthis._intersectsWithSides( item ) ) {\r\n\t\t\t\t\t\t\tthis._rearrange( event, item );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis._trigger( \"change\", event, this._uiHash() );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Interconnect with droppables\r\n\t\t\tif ( ddmanager ) {\r\n\t\t\t\tddmanager.drag( this, event );\r\n\t\t\t}\r\n\r\n\t\t\t//Call callbacks\r\n\t\t\tthis._trigger( \"sort\", event, this._uiHash() );\r\n\r\n\t\t\tthis.lastPositionAbs = this.positionAbs;\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\r\n\t\t_mouseStop: function( event, noPropagation ) {\r\n\r\n\t\t\tif ( !event ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//If we are using droppables, inform the manager about the drop\r\n\t\t\tif ( ddmanager && !this.options.dropBehaviour ) {\r\n\t\t\t\tddmanager.drop( this, event );\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.options.revert ) {\r\n\t\t\t\tvar that = this,\r\n\t\t\t\t\tcur = this.placeholder.offset(),\r\n\t\t\t\t\taxis = this.options.axis,\r\n\t\t\t\t\tanimation = {};\r\n\r\n\t\t\t\tif ( !axis || axis === \"x\" ) {\r\n\t\t\t\t\tanimation.left = cur.left - this.offset.parent.left - this.margins.left +\r\n\t\t\t\t\t\t( this.offsetParent[ 0 ] === this.document[ 0 ].body ?\r\n\t\t\t\t\t\t\t0 :\r\n\t\t\t\t\t\t\tthis.offsetParent[ 0 ].scrollLeft\r\n\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tif ( !axis || axis === \"y\" ) {\r\n\t\t\t\t\tanimation.top = cur.top - this.offset.parent.top - this.margins.top +\r\n\t\t\t\t\t\t( this.offsetParent[ 0 ] === this.document[ 0 ].body ?\r\n\t\t\t\t\t\t\t0 :\r\n\t\t\t\t\t\t\tthis.offsetParent[ 0 ].scrollTop\r\n\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tthis.reverting = true;\r\n\t\t\t\t$( this.helper ).animate(\r\n\t\t\t\t\tanimation,\r\n\t\t\t\t\tparseInt( this.options.revert, 10 ) || 500,\r\n\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\tthat._clear( event );\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis._clear( event, noPropagation );\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\r\n\t\tcancel: function() {\r\n\r\n\t\t\tif ( this.dragging ) {\r\n\r\n\t\t\t\tthis._mouseUp( new eventer.create( \"mouseup\", { target: null }));\r\n\r\n\t\t\t\tif ( this.options.helper === \"original\" ) {\r\n\t\t\t\t\tthis.currentItem.css( this._storedCSS );\r\n\t\t\t\t\tthis._removeClass( this.currentItem, \"ui-sortable-helper\" );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.currentItem.show();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Post deactivating events to containers\r\n\t\t\t\tfor ( var i = this.containers.length - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tthis.containers[ i ]._trigger( \"deactivate\", null, this._uiHash( this ) );\r\n\t\t\t\t\tif ( this.containers[ i ].containerCache.over ) {\r\n\t\t\t\t\t\tthis.containers[ i ]._trigger( \"out\", null, this._uiHash( this ) );\r\n\t\t\t\t\t\tthis.containers[ i ].containerCache.over = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.placeholder ) {\r\n\r\n\t\t\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,\r\n\t\t\t\t// it unbinds ALL events from the original node!\r\n\t\t\t\tif ( this.placeholder[ 0 ].parentNode ) {\r\n\t\t\t\t\tthis.placeholder[ 0 ].parentNode.removeChild( this.placeholder[ 0 ] );\r\n\t\t\t\t}\r\n\t\t\t\tif ( this.options.helper !== \"original\" && this.helper &&\r\n\t\t\t\t\t\tthis.helper[ 0 ].parentNode ) {\r\n\t\t\t\t\tthis.helper.remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlangx.extend( this, {\r\n\t\t\t\t\thelper: null,\r\n\t\t\t\t\tdragging: false,\r\n\t\t\t\t\treverting: false,\r\n\t\t\t\t\t_noFinalSort: null\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tif ( this.domPosition.prev ) {\r\n\t\t\t\t\t$( this.domPosition.prev ).after( this.currentItem );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$( this.domPosition.parent ).prepend( this.currentItem );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tserialize: function( o ) {\r\n\r\n\t\t\tvar items = this._getItemsAsjQuery( o && o.connected ),\r\n\t\t\t\tstr = [];\r\n\t\t\to = o || {};\r\n\r\n\t\t\t$( items ).each( function() {\r\n\t\t\t\tvar res = ( $( o.item || this ).attr( o.attribute || \"id\" ) || \"\" )\r\n\t\t\t\t\t.match( o.expression || ( /(.+)[\\-=_](.+)/ ) );\r\n\t\t\t\tif ( res ) {\r\n\t\t\t\t\tstr.push(\r\n\t\t\t\t\t\t( o.key || res[ 1 ] + \"[]\" ) +\r\n\t\t\t\t\t\t\"=\" + ( o.key && o.expression ? res[ 1 ] : res[ 2 ] ) );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tif ( !str.length && o.key ) {\r\n\t\t\t\tstr.push( o.key + \"=\" );\r\n\t\t\t}\r\n\r\n\t\t\treturn str.join( \"&\" );\r\n\r\n\t\t},\r\n\r\n\t\ttoArray: function( o ) {\r\n\r\n\t\t\tvar items = this._getItemsAsjQuery( o && o.connected ),\r\n\t\t\t\tret = [];\r\n\r\n\t\t\to = o || {};\r\n\r\n\t\t\titems.each( function() {\r\n\t\t\t\tret.push( $( o.item || this ).attr( o.attribute || \"id\" ) || \"\" );\r\n\t\t\t} );\r\n\t\t\treturn ret;\r\n\r\n\t\t},\r\n\r\n\t\t/* Be careful with the following core functions */\r\n\t\t_intersectsWith: function( item ) {\r\n\r\n\t\t\tvar x1 = this.positionAbs.left,\r\n\t\t\t\tx2 = x1 + this.helperProportions.width,\r\n\t\t\t\ty1 = this.positionAbs.top,\r\n\t\t\t\ty2 = y1 + this.helperProportions.height,\r\n\t\t\t\tl = item.left,\r\n\t\t\t\tr = l + item.width,\r\n\t\t\t\tt = item.top,\r\n\t\t\t\tb = t + item.height,\r\n\t\t\t\tdyClick = this.offset.click.top,\r\n\t\t\t\tdxClick = this.offset.click.left,\r\n\t\t\t\tisOverElementHeight = ( this.options.axis === \"x\" ) || ( ( y1 + dyClick ) > t &&\r\n\t\t\t\t\t( y1 + dyClick ) < b ),\r\n\t\t\t\tisOverElementWidth = ( this.options.axis === \"y\" ) || ( ( x1 + dxClick ) > l &&\r\n\t\t\t\t\t( x1 + dxClick ) < r ),\r\n\t\t\t\tisOverElement = isOverElementHeight && isOverElementWidth;\r\n\r\n\t\t\tif ( this.options.tolerance === \"pointer\" ||\r\n\t\t\t\tthis.options.forcePointerForContainers ||\r\n\t\t\t\t( this.options.tolerance !== \"pointer\" &&\r\n\t\t\t\t\tthis.helperProportions[ this.floating ? \"width\" : \"height\" ] >\r\n\t\t\t\t\titem[ this.floating ? \"width\" : \"height\" ] )\r\n\t\t\t) {\r\n\t\t\t\treturn isOverElement;\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn ( l < x1 + ( this.helperProportions.width / 2 ) && // Right Half\r\n\t\t\t\t\tx2 - ( this.helperProportions.width / 2 ) < r && // Left Half\r\n\t\t\t\t\tt < y1 + ( this.helperProportions.height / 2 ) && // Bottom Half\r\n\t\t\t\t\ty2 - ( this.helperProportions.height / 2 ) < b ); // Top Half\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_intersectsWithPointer: function( item ) {\r\n\t\t\tvar verticalDirection, horizontalDirection,\r\n\t\t\t\tisOverElementHeight = ( this.options.axis === \"x\" ) ||\r\n\t\t\t\t\tthis._isOverAxis(\r\n\t\t\t\t\t\tthis.positionAbs.top + this.offset.click.top, item.top, item.height ),\r\n\t\t\t\tisOverElementWidth = ( this.options.axis === \"y\" ) ||\r\n\t\t\t\t\tthis._isOverAxis(\r\n\t\t\t\t\t\tthis.positionAbs.left + this.offset.click.left, item.left, item.width ),\r\n\t\t\t\tisOverElement = isOverElementHeight && isOverElementWidth;\r\n\r\n\t\t\tif ( !isOverElement ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tverticalDirection = this.dragDirection.vertical;\r\n\t\t\thorizontalDirection = this.dragDirection.horizontal;\r\n\r\n\t\t\treturn this.floating ?\r\n\t\t\t\t( ( horizontalDirection === \"right\" || verticalDirection === \"down\" ) ? 2 : 1 )\r\n\t\t\t\t: ( verticalDirection && ( verticalDirection === \"down\" ? 2 : 1 ) );\r\n\r\n\t\t},\r\n\r\n\t\t_intersectsWithSides: function( item ) {\r\n\r\n\t\t\tvar isOverBottomHalf = this._isOverAxis( this.positionAbs.top +\r\n\t\t\t\t\tthis.offset.click.top, item.top + ( item.height / 2 ), item.height ),\r\n\t\t\t\tisOverRightHalf = this._isOverAxis( this.positionAbs.left +\r\n\t\t\t\t\tthis.offset.click.left, item.left + ( item.width / 2 ), item.width ),\r\n\t\t\t\tverticalDirection = this.dragDirection.vertical,\r\n\t\t\t\thorizontalDirection = this.dragDirection.horizontal;\r\n\r\n\t\t\tif ( this.floating && horizontalDirection ) {\r\n\t\t\t\treturn ( ( horizontalDirection === \"right\" && isOverRightHalf ) ||\r\n\t\t\t\t\t( horizontalDirection === \"left\" && !isOverRightHalf ) );\r\n\t\t\t} else {\r\n\t\t\t\treturn verticalDirection && ( ( verticalDirection === \"down\" && isOverBottomHalf ) ||\r\n\t\t\t\t\t( verticalDirection === \"up\" && !isOverBottomHalf ) );\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_getDragVerticalDirection: function() {\r\n\t\t\tvar delta = this.positionAbs.top - this.lastPositionAbs.top;\r\n\t\t\treturn delta !== 0 && ( delta > 0 ? \"down\" : \"up\" );\r\n\t\t},\r\n\r\n\t\t_getDragHorizontalDirection: function() {\r\n\t\t\tvar delta = this.positionAbs.left - this.lastPositionAbs.left;\r\n\t\t\treturn delta !== 0 && ( delta > 0 ? \"right\" : \"left\" );\r\n\t\t},\r\n\r\n\t\trefresh: function( event ) {\r\n\t\t\tthis._refreshItems( event );\r\n\t\t\tthis._setHandleClassName();\r\n\t\t\tthis.refreshPositions();\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t_connectWith: function() {\r\n\t\t\tvar options = this.options;\r\n\t\t\treturn options.connectWith.constructor === String ?\r\n\t\t\t\t[ options.connectWith ] :\r\n\t\t\t\toptions.connectWith;\r\n\t\t},\r\n\r\n\t\t_getItemsAsjQuery: function( connected ) {\r\n\r\n\t\t\tvar i, j, cur, inst,\r\n\t\t\t\titems = [],\r\n\t\t\t\tqueries = [],\r\n\t\t\t\tconnectWith = this._connectWith();\r\n\r\n\t\t\tif ( connectWith && connected ) {\r\n\t\t\t\tfor ( i = connectWith.length - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tcur = $( connectWith[ i ], this.document[ 0 ] );\r\n\t\t\t\t\tfor ( j = cur.length - 1; j >= 0; j-- ) {\r\n\t\t\t\t\t\tinst = datax.data( cur[ j ], this.pluginName );\r\n\t\t\t\t\t\tif ( inst && inst !== this && !inst.options.disabled ) {\r\n\t\t\t\t\t\t\tqueries.push( [ langx.isFunction( inst.options.items ) ?\r\n\t\t\t\t\t\t\t\tinst.options.items.call( inst.element ) :\r\n\t\t\t\t\t\t\t\t$( inst.options.items, inst.element )\r\n\t\t\t\t\t\t\t\t\t.not( \".ui-sortable-helper\" )\r\n\t\t\t\t\t\t\t\t\t.not( \".ui-sortable-placeholder\" ), inst ] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tqueries.push( [ langx.isFunction( this.options.items ) ?\r\n\t\t\t\tthis.options.items\r\n\t\t\t\t\t.call( this.element, null, { options: this.options, item: this.currentItem } ) :\r\n\t\t\t\t$( this.options.items, this.element )\r\n\t\t\t\t\t.not( \".ui-sortable-helper\" )\r\n\t\t\t\t\t.not( \".ui-sortable-placeholder\" ), this ] );\r\n\r\n\t\t\tfunction addItems() {\r\n\t\t\t\titems.push( this );\r\n\t\t\t}\r\n\t\t\tfor ( i = queries.length - 1; i >= 0; i-- ) {\r\n\t\t\t\tqueries[ i ][ 0 ].each( addItems );\r\n\t\t\t}\r\n\r\n\t\t\treturn $( items );\r\n\r\n\t\t},\r\n\r\n\t\t_removeCurrentsFromItems: function() {\r\n\r\n\t\t\tvar list = this.currentItem.find( \":data(\" + this.pluginName + \"-item)\" );\r\n\r\n\t\t\tthis.items = this.items.filter(function( item ) {\r\n\t\t\t\tfor ( var j = 0; j < list.length; j++ ) {\r\n\t\t\t\t\tif ( list[ j ] === item.item[ 0 ] ) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\r\n\t\t_refreshItems: function( event ) {\r\n\r\n\t\t\tthis.items = [];\r\n\t\t\tthis.containers = [ this ];\r\n\r\n\t\t\tvar i, j, cur, inst, targetData, _queries, item, queriesLength,\r\n\t\t\t\titems = this.items,\r\n\t\t\t\tqueries = [ [ langx.isFunction( this.options.items ) ?\r\n\t\t\t\t\tthis.options.items.call( this.element[ 0 ], event, { item: this.currentItem } ) :\r\n\t\t\t\t\t$( this.options.items, this.element ), this ] ],\r\n\t\t\t\tconnectWith = this._connectWith();\r\n\r\n\t\t\t//Shouldn't be run the first time through due to massive slow-down\r\n\t\t\tif ( connectWith && this.ready ) {\r\n\t\t\t\tfor ( i = connectWith.length - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tcur = $( connectWith[ i ], this.document[ 0 ] );\r\n\t\t\t\t\tfor ( j = cur.length - 1; j >= 0; j-- ) {\r\n\t\t\t\t\t\tinst = datax.data( cur[ j ], this.pluginName );\r\n\t\t\t\t\t\tif ( inst && inst !== this && !inst.options.disabled ) {\r\n\t\t\t\t\t\t\tqueries.push( [ langx.isFunction( inst.options.items ) ?\r\n\t\t\t\t\t\t\t\tinst.options.items\r\n\t\t\t\t\t\t\t\t\t.call( inst.element[ 0 ], event, { item: this.currentItem } ) :\r\n\t\t\t\t\t\t\t\t$( inst.options.items, inst.element ), inst ] );\r\n\t\t\t\t\t\t\tthis.containers.push( inst );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor ( i = queries.length - 1; i >= 0; i-- ) {\r\n\t\t\t\ttargetData = queries[ i ][ 1 ];\r\n\t\t\t\t_queries = queries[ i ][ 0 ];\r\n\r\n\t\t\t\tfor ( j = 0, queriesLength = _queries.length; j < queriesLength; j++ ) {\r\n\t\t\t\t\titem = $( _queries[ j ] );\r\n\r\n\t\t\t\t\t// Data for target checking (mouse manager)\r\n\t\t\t\t\titem.data( this.pluginName + \"-item\", targetData );\r\n\r\n\t\t\t\t\titems.push( {\r\n\t\t\t\t\t\titem: item,\r\n\t\t\t\t\t\tinstance: targetData,\r\n\t\t\t\t\t\twidth: 0, height: 0,\r\n\t\t\t\t\t\tleft: 0, top: 0\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_refreshItemPositions: function( fast ) {\r\n\t\t\tvar i, item, t, p;\r\n\r\n\t\t\tfor ( i = this.items.length - 1; i >= 0; i-- ) {\r\n\t\t\t\titem = this.items[ i ];\r\n\r\n\t\t\t\t//We ignore calculating positions of all connected containers when we're not over them\r\n\t\t\t\tif ( this.currentContainer && item.instance !== this.currentContainer &&\r\n\t\t\t\t\t\titem.item[ 0 ] !== this.currentItem[ 0 ] ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tt = this.options.toleranceElement ?\r\n\t\t\t\t\t$( this.options.toleranceElement, item.item ) :\r\n\t\t\t\t\titem.item;\r\n\r\n\t\t\t\tif ( !fast ) {\r\n\t\t\t\t\titem.width = t.outerWidth();\r\n\t\t\t\t\titem.height = t.outerHeight();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tp = t.offset();\r\n\t\t\t\titem.left = p.left;\r\n\t\t\t\titem.top = p.top;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\trefreshPositions: function( fast ) {\r\n\r\n\t\t\t// Determine whether items are being displayed horizontally\r\n\t\t\tthis.floating = this.items.length ?\r\n\t\t\t\tthis.options.axis === \"x\" || this._isFloating( this.items[ 0 ].item ) :\r\n\t\t\t\tfalse;\r\n\r\n\t\t\tif ( this.innermostContainer !== null ) {\r\n\t\t\t\tthis._refreshItemPositions( fast );\r\n\t\t\t}\r\n\r\n\t\t\tvar i, p;\r\n\r\n\t\t\tif ( this.options.custom && this.options.custom.refreshContainers ) {\r\n\t\t\t\tthis.options.custom.refreshContainers.call( this );\r\n\t\t\t} else {\r\n\t\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tp = this.containers[ i ].element.offset();\r\n\t\t\t\t\tthis.containers[ i ].containerCache.left = p.left;\r\n\t\t\t\t\tthis.containers[ i ].containerCache.top = p.top;\r\n\t\t\t\t\tthis.containers[ i ].containerCache.width =\r\n\t\t\t\t\t\tthis.containers[ i ].element.outerWidth();\r\n\t\t\t\t\tthis.containers[ i ].containerCache.height =\r\n\t\t\t\t\t\tthis.containers[ i ].element.outerHeight();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t_createPlaceholder: function( that ) {\r\n\t\t\tthat = that || this;\r\n\t\t\tvar className, nodeName,\r\n\t\t\t\to = that.options;\r\n\r\n\t\t\tif ( !o.placeholder || o.placeholder.constructor === String ) {\r\n\t\t\t\tclassName = o.placeholder;\r\n\t\t\t\tnodeName = that.currentItem[ 0 ].nodeName.toLowerCase();\r\n\t\t\t\to.placeholder = {\r\n\t\t\t\t\telement: function() {\r\n\r\n\t\t\t\t\t\tvar element = $( \"<\" + nodeName + \">\", that.document[ 0 ] );\r\n\r\n\t\t\t\t\t\tthat._addClass( element, \"ui-sortable-placeholder\",\r\n\t\t\t\t\t\t\t\tclassName || that.currentItem[ 0 ].className )\r\n\t\t\t\t\t\t\t._removeClass( element, \"ui-sortable-helper\" );\r\n\r\n\t\t\t\t\t\tif ( nodeName === \"tbody\" ) {\r\n\t\t\t\t\t\t\tthat._createTrPlaceholder(\r\n\t\t\t\t\t\t\t\tthat.currentItem.find( \"tr\" ).eq( 0 ),\r\n\t\t\t\t\t\t\t\t$( \"<tr>\", that.document[ 0 ] ).appendTo( element )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else if ( nodeName === \"tr\" ) {\r\n\t\t\t\t\t\t\tthat._createTrPlaceholder( that.currentItem, element );\r\n\t\t\t\t\t\t} else if ( nodeName === \"img\" ) {\r\n\t\t\t\t\t\t\telement.attr( \"src\", that.currentItem.attr( \"src\" ) );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( !className ) {\r\n\t\t\t\t\t\t\telement.css( \"visibility\", \"hidden\" );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn element;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tupdate: function( container, p ) {\r\n\r\n\t\t\t\t\t\t// 1. If a className is set as 'placeholder option, we don't force sizes -\r\n\t\t\t\t\t\t// the class is responsible for that\r\n\t\t\t\t\t\t// 2. The option 'forcePlaceholderSize can be enabled to force it even if a\r\n\t\t\t\t\t\t// class name is specified\r\n\t\t\t\t\t\tif ( className && !o.forcePlaceholderSize ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// If the element doesn't have a actual height or width by itself (without\r\n\t\t\t\t\t\t// styles coming from a stylesheet), it receives the inline height and width\r\n\t\t\t\t\t\t// from the dragged item. Or, if it's a tbody or tr, it's going to have a height\r\n\t\t\t\t\t\t// anyway since we're populating them with <td>s above, but they're unlikely to\r\n\t\t\t\t\t\t// be the correct height on their own if the row heights are dynamic, so we'll\r\n\t\t\t\t\t\t// always assign the height of the dragged item given forcePlaceholderSize\r\n\t\t\t\t\t\t// is true.\r\n\t\t\t\t\t\tif ( !p.height() || ( o.forcePlaceholderSize &&\r\n\t\t\t\t\t\t\t\t( nodeName === \"tbody\" || nodeName === \"tr\" ) ) ) {\r\n\t\t\t\t\t\t\tp.height(\r\n\t\t\t\t\t\t\t\tthat.currentItem.innerHeight() -\r\n\t\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingTop\" ) || 0, 10 ) -\r\n\t\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingBottom\" ) || 0, 10 ) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( !p.width() ) {\r\n\t\t\t\t\t\t\tp.width(\r\n\t\t\t\t\t\t\t\tthat.currentItem.innerWidth() -\r\n\t\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingLeft\" ) || 0, 10 ) -\r\n\t\t\t\t\t\t\t\tparseInt( that.currentItem.css( \"paddingRight\" ) || 0, 10 ) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t//Create the placeholder\r\n\t\t\tthat.placeholder = $( o.placeholder.element.call( that.element, that.currentItem ) );\r\n\r\n\t\t\t//Append it after the actual current item\r\n\t\t\tthat.currentItem.after( that.placeholder );\r\n\r\n\t\t\t//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)\r\n\t\t\to.placeholder.update( that, that.placeholder );\r\n\r\n\t\t},\r\n\r\n\t\t_createTrPlaceholder: function( sourceTr, targetTr ) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tsourceTr.children().each( function() {\r\n\t\t\t\t$( \"<td>&#160;</td>\", that.document[ 0 ] )\r\n\t\t\t\t\t.attr( \"colspan\", $( this ).attr( \"colspan\" ) || 1 )\r\n\t\t\t\t\t.appendTo( targetTr );\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t_contactContainers: function( event ) {\r\n\t\t\tvar i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, cur, nearBottom,\r\n\t\t\t\tfloating, axis,\r\n\t\t\t\tinnermostContainer = null,\r\n\t\t\t\tinnermostIndex = null;\r\n\r\n\t\t\t// Get innermost container that intersects with item\r\n\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\r\n\r\n\t\t\t\t// Never consider a container that's located within the item itself\r\n\t\t\t\tif ( noder.contains( this.currentItem[ 0 ], this.containers[ i ].element[ 0 ] ) ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( this._intersectsWith( this.containers[ i ].containerCache ) ) {\r\n\r\n\t\t\t\t\t// If we've already found a container and it's more \"inner\" than this, then continue\r\n\t\t\t\t\tif ( innermostContainer &&\r\n\t\t\t\t\t\t\tnoder.contains(\r\n\t\t\t\t\t\t\t\tthis.containers[ i ].element[ 0 ],\r\n\t\t\t\t\t\t\t\tinnermostContainer.element[ 0 ] ) ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tinnermostContainer = this.containers[ i ];\r\n\t\t\t\t\tinnermostIndex = i;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// container doesn't intersect. trigger \"out\" event if necessary\r\n\t\t\t\t\tif ( this.containers[ i ].containerCache.over ) {\r\n\t\t\t\t\t\tthis.containers[ i ]._trigger( \"out\", event, this._uiHash( this ) );\r\n\t\t\t\t\t\tthis.containers[ i ].containerCache.over = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.innermostContainer = innermostContainer;\r\n\r\n\t\t\t// If no intersecting containers found, return\r\n\t\t\tif ( !innermostContainer ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Move the item into the container if it's not there already\r\n\t\t\tif ( this.containers.length === 1 ) {\r\n\t\t\t\tif ( !this.containers[ innermostIndex ].containerCache.over ) {\r\n\t\t\t\t\tthis.containers[ innermostIndex ]._trigger( \"over\", event, this._uiHash( this ) );\r\n\t\t\t\t\tthis.containers[ innermostIndex ].containerCache.over = 1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// When entering a new container, we will find the item with the least distance and\r\n\t\t\t\t// append our item near it\r\n\t\t\t\tdist = 10000;\r\n\t\t\t\titemWithLeastDistance = null;\r\n\t\t\t\tfloating = innermostContainer.floating || this._isFloating( this.currentItem );\r\n\t\t\t\tposProperty = floating ? \"left\" : \"top\";\r\n\t\t\t\tsizeProperty = floating ? \"width\" : \"height\";\r\n\t\t\t\taxis = floating ? \"pageX\" : \"pageY\";\r\n\r\n\t\t\t\tfor ( j = this.items.length - 1; j >= 0; j-- ) {\r\n\t\t\t\t\tif ( !noder.contains(\r\n\t\t\t\t\t\t\tthis.containers[ innermostIndex ].element[ 0 ], this.items[ j ].item[ 0 ] )\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( this.items[ j ].item[ 0 ] === this.currentItem[ 0 ] ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcur = this.items[ j ].item.offset()[ posProperty ];\r\n\t\t\t\t\tnearBottom = false;\r\n\t\t\t\t\tif ( event[ axis ] - cur > this.items[ j ][ sizeProperty ] / 2 ) {\r\n\t\t\t\t\t\tnearBottom = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( Math.abs( event[ axis ] - cur ) < dist ) {\r\n\t\t\t\t\t\tdist = Math.abs( event[ axis ] - cur );\r\n\t\t\t\t\t\titemWithLeastDistance = this.items[ j ];\r\n\t\t\t\t\t\tthis.direction = nearBottom ? \"up\" : \"down\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Check if dropOnEmpty is enabled\r\n\t\t\t\tif ( !itemWithLeastDistance && !this.options.dropOnEmpty ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( this.currentContainer === this.containers[ innermostIndex ] ) {\r\n\t\t\t\t\tif ( !this.currentContainer.containerCache.over ) {\r\n\t\t\t\t\t\tthis.containers[ innermostIndex ]._trigger( \"over\", event, this._uiHash() );\r\n\t\t\t\t\t\tthis.currentContainer.containerCache.over = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\titemWithLeastDistance ?\r\n\t\t\t\t\tthis._rearrange( event, itemWithLeastDistance, null, true ) :\r\n\t\t\t\t\tthis._rearrange( event, null, this.containers[ innermostIndex ].element, true );\r\n\t\t\t\tthis._trigger( \"change\", event, this._uiHash() );\r\n\t\t\t\tthis.containers[ innermostIndex ]._trigger( \"change\", event, this._uiHash( this ) );\r\n\t\t\t\tthis.currentContainer = this.containers[ innermostIndex ];\r\n\r\n\t\t\t\t//Update the placeholder\r\n\t\t\t\tthis.options.placeholder.update( this.currentContainer, this.placeholder );\r\n\r\n\t\t\t\t//Update scrollParent\r\n\t\t\t\tthis.scrollParent = this.placeholder.scrollParent();\r\n\r\n\t\t\t\t//Update overflowOffset\r\n\t\t\t\tif ( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\t\tthis.scrollParent[ 0 ].tagName !== \"HTML\" ) {\r\n\t\t\t\t\tthis.overflowOffset = this.scrollParent.offset();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.containers[ innermostIndex ]._trigger( \"over\", event, this._uiHash( this ) );\r\n\t\t\t\tthis.containers[ innermostIndex ].containerCache.over = 1;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_createHelper: function( event ) {\r\n\r\n\t\t\tvar o = this.options,\r\n\t\t\t\thelper = langx.isFunction( o.helper ) ?\r\n\t\t\t\t\t$( o.helper.apply( this.element[ 0 ], [ event, this.currentItem ] ) ) :\r\n\t\t\t\t\t( o.helper === \"clone\" ? this.currentItem.clone() : this.currentItem );\r\n\r\n\t\t\t//Add the helper to the DOM if that didn't happen already\r\n\t\t\tif ( !helper.parents( \"body\" ).length ) {\r\n\t\t\t\tthis.appendTo[ 0 ].appendChild( helper[ 0 ] );\r\n\t\t\t}\r\n\r\n\t\t\tif ( helper[ 0 ] === this.currentItem[ 0 ] ) {\r\n\t\t\t\tthis._storedCSS = {\r\n\t\t\t\t\twidth: this.currentItem[ 0 ].style.width,\r\n\t\t\t\t\theight: this.currentItem[ 0 ].style.height,\r\n\t\t\t\t\tposition: this.currentItem.css( \"position\" ),\r\n\t\t\t\t\ttop: this.currentItem.css( \"top\" ),\r\n\t\t\t\t\tleft: this.currentItem.css( \"left\" )\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif ( !helper[ 0 ].style.width || o.forceHelperSize ) {\r\n\t\t\t\thelper.width( this.currentItem.width() );\r\n\t\t\t}\r\n\t\t\tif ( !helper[ 0 ].style.height || o.forceHelperSize ) {\r\n\t\t\t\thelper.height( this.currentItem.height() );\r\n\t\t\t}\r\n\r\n\t\t\treturn helper;\r\n\r\n\t\t},\r\n\r\n\t\t_adjustOffsetFromHelper: function( obj ) {\r\n\t\t\tif ( typeof obj === \"string\" ) {\r\n\t\t\t\tobj = obj.split( \" \" );\r\n\t\t\t}\r\n\t\t\tif ( langx.isArray( obj ) ) {\r\n\t\t\t\tobj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };\r\n\t\t\t}\r\n\t\t\tif ( \"left\" in obj ) {\r\n\t\t\t\tthis.offset.click.left = obj.left + this.margins.left;\r\n\t\t\t}\r\n\t\t\tif ( \"right\" in obj ) {\r\n\t\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\r\n\t\t\t}\r\n\t\t\tif ( \"top\" in obj ) {\r\n\t\t\t\tthis.offset.click.top = obj.top + this.margins.top;\r\n\t\t\t}\r\n\t\t\tif ( \"bottom\" in obj ) {\r\n\t\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getParentOffset: function() {\r\n\r\n\t\t\t//Get the offsetParent and cache its position\r\n\t\t\tthis.offsetParent = this.helper.offsetParent();\r\n\t\t\tvar po = this.offsetParent.offset();\r\n\r\n\t\t\t// This is a special case where we need to modify a offset calculated on start, since the\r\n\t\t\t// following happened:\r\n\t\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the\r\n\t\t\t// next positioned parent\r\n\t\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\r\n\t\t\t// the document, which means that the scroll is included in the initial calculation of the\r\n\t\t\t// offset of the parent, and never recalculated upon drag\r\n\t\t\tif ( this.cssPosition === \"absolute\" && this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\tnoder.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {\r\n\t\t\t\tpo.left += this.scrollParent.scrollLeft();\r\n\t\t\t\tpo.top += this.scrollParent.scrollTop();\r\n\t\t\t}\r\n\r\n\t\t\t// This needs to be actually done for all browsers, since pageX/pageY includes this\r\n\t\t\t// information with an ugly IE fix\r\n\t\t\tif ( this.offsetParent[ 0 ] === this.document[ 0 ].body ||\r\n\t\t\t\t\t( this.offsetParent[ 0 ].tagName &&\r\n\t\t\t\t\tthis.offsetParent[ 0 ].tagName.toLowerCase() === \"html\" && langx.ui.ie ) ) {\r\n\t\t\t\tpo = { top: 0, left: 0 };\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: po.top + ( parseInt( this.offsetParent.css( \"borderTopWidth\" ), 10 ) || 0 ),\r\n\t\t\t\tleft: po.left + ( parseInt( this.offsetParent.css( \"borderLeftWidth\" ), 10 ) || 0 )\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_getRelativeOffset: function() {\r\n\r\n\t\t\tif ( this.cssPosition === \"relative\" ) {\r\n\t\t\t\tvar p = this.currentItem.position();\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttop: p.top - ( parseInt( this.helper.css( \"top\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t\tthis.scrollParent.scrollTop(),\r\n\t\t\t\t\tleft: p.left - ( parseInt( this.helper.css( \"left\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t\tthis.scrollParent.scrollLeft()\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn { top: 0, left: 0 };\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_cacheMargins: function() {\r\n\t\t\tthis.margins = {\r\n\t\t\t\tleft: ( parseInt( this.currentItem.css( \"marginLeft\" ), 10 ) || 0 ),\r\n\t\t\t\ttop: ( parseInt( this.currentItem.css( \"marginTop\" ), 10 ) || 0 )\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_cacheHelperProportions: function() {\r\n\t\t\tthis.helperProportions = {\r\n\t\t\t\twidth: this.helper.outerWidth(),\r\n\t\t\t\theight: this.helper.outerHeight()\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_setContainment: function() {\r\n\r\n\t\t\tvar ce, co, over,\r\n\t\t\t\to = this.options;\r\n\t\t\tif ( o.containment === \"parent\" ) {\r\n\t\t\t\to.containment = this.helper[ 0 ].parentNode;\r\n\t\t\t}\r\n\t\t\tif ( o.containment === \"document\" || o.containment === \"window\" ) {\r\n\t\t\t\tthis.containment = [\r\n\t\t\t\t\t0 - this.offset.relative.left - this.offset.parent.left,\r\n\t\t\t\t\t0 - this.offset.relative.top - this.offset.parent.top,\r\n\t\t\t\t\to.containment === \"document\" ?\r\n\t\t\t\t\t\tthis.document.width() :\r\n\t\t\t\t\t\tthis.window.width() - this.helperProportions.width - this.margins.left,\r\n\t\t\t\t\t( o.containment === \"document\" ?\r\n\t\t\t\t\t\t( this.document.height() || document.body.parentNode.scrollHeight ) :\r\n\t\t\t\t\t\tthis.window.height() || this.document[ 0 ].body.parentNode.scrollHeight\r\n\t\t\t\t\t) - this.helperProportions.height - this.margins.top\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t\tif ( !( /^(document|window|parent)$/ ).test( o.containment ) ) {\r\n\t\t\t\tce = $( o.containment )[ 0 ];\r\n\t\t\t\tco = $( o.containment ).offset();\r\n\t\t\t\tover = ( $( ce ).css( \"overflow\" ) !== \"hidden\" );\r\n\r\n\t\t\t\tthis.containment = [\r\n\t\t\t\t\tco.left + ( parseInt( $( ce ).css( \"borderLeftWidth\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t\t( parseInt( $( ce ).css( \"paddingLeft\" ), 10 ) || 0 ) - this.margins.left,\r\n\t\t\t\t\tco.top + ( parseInt( $( ce ).css( \"borderTopWidth\" ), 10 ) || 0 ) +\r\n\t\t\t\t\t\t( parseInt( $( ce ).css( \"paddingTop\" ), 10 ) || 0 ) - this.margins.top,\r\n\t\t\t\t\tco.left + ( over ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -\r\n\t\t\t\t\t\t( parseInt( $( ce ).css( \"borderLeftWidth\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t\t( parseInt( $( ce ).css( \"paddingRight\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t\tthis.helperProportions.width - this.margins.left,\r\n\t\t\t\t\tco.top + ( over ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -\r\n\t\t\t\t\t\t( parseInt( $( ce ).css( \"borderTopWidth\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t\t( parseInt( $( ce ).css( \"paddingBottom\" ), 10 ) || 0 ) -\r\n\t\t\t\t\t\tthis.helperProportions.height - this.margins.top\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_convertPositionTo: function( d, pos ) {\r\n\r\n\t\t\tif ( !pos ) {\r\n\t\t\t\tpos = this.position;\r\n\t\t\t}\r\n\t\t\tvar mod = d === \"absolute\" ? 1 : -1,\r\n\t\t\t\tscroll = this.cssPosition === \"absolute\" &&\r\n\t\t\t\t\t!( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\tnoder.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ?\r\n\t\t\t\t\t\tthis.offsetParent :\r\n\t\t\t\t\t\tthis.scrollParent,\r\n\t\t\t\tscrollIsRootNode = ( /(html|body)/i ).test( scroll[ 0 ].tagName );\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpos.top\t+\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.top * mod +\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.top * mod -\r\n\t\t\t\t\t( ( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.scrollParent.scrollTop() :\r\n\t\t\t\t\t\t( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod )\r\n\t\t\t\t),\r\n\t\t\t\tleft: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpos.left +\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.left * mod +\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.left * mod\t-\r\n\t\t\t\t\t( ( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 :\r\n\t\t\t\t\t\tscroll.scrollLeft() ) * mod )\r\n\t\t\t\t)\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_generatePosition: function( event ) {\r\n\r\n\t\t\tvar top, left,\r\n\t\t\t\to = this.options,\r\n\t\t\t\tpageX = event.pageX,\r\n\t\t\t\tpageY = event.pageY,\r\n\t\t\t\tscroll = this.cssPosition === \"absolute\" &&\r\n\t\t\t\t\t!( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\tnoder.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) ?\r\n\t\t\t\t\t\tthis.offsetParent :\r\n\t\t\t\t\t\tthis.scrollParent,\r\n\t\t\t\t\tscrollIsRootNode = ( /(html|body)/i ).test( scroll[ 0 ].tagName );\r\n\r\n\t\t\t// This is another very weird special case that only happens for relative elements:\r\n\t\t\t// 1. If the css position is relative\r\n\t\t\t// 2. and the scroll parent is the document or similar to the offset parent\r\n\t\t\t// we have to refresh the relative offset during the scroll so there are no jumps\r\n\t\t\tif ( this.cssPosition === \"relative\" && !( this.scrollParent[ 0 ] !== this.document[ 0 ] &&\r\n\t\t\t\t\tthis.scrollParent[ 0 ] !== this.offsetParent[ 0 ] ) ) {\r\n\t\t\t\tthis.offset.relative = this._getRelativeOffset();\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * - Position constraining -\r\n\t\t\t * Constrain the position to a mix of grid, containment.\r\n\t\t\t */\r\n\r\n\t\t\tif ( this.originalPosition ) { //If we are not dragging yet, we won't check for options\r\n\r\n\t\t\t\tif ( this.containment ) {\r\n\t\t\t\t\tif ( event.pageX - this.offset.click.left < this.containment[ 0 ] ) {\r\n\t\t\t\t\t\tpageX = this.containment[ 0 ] + this.offset.click.left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( event.pageY - this.offset.click.top < this.containment[ 1 ] ) {\r\n\t\t\t\t\t\tpageY = this.containment[ 1 ] + this.offset.click.top;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( event.pageX - this.offset.click.left > this.containment[ 2 ] ) {\r\n\t\t\t\t\t\tpageX = this.containment[ 2 ] + this.offset.click.left;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( event.pageY - this.offset.click.top > this.containment[ 3 ] ) {\r\n\t\t\t\t\t\tpageY = this.containment[ 3 ] + this.offset.click.top;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( o.grid ) {\r\n\t\t\t\t\ttop = this.originalPageY + Math.round( ( pageY - this.originalPageY ) /\r\n\t\t\t\t\t\to.grid[ 1 ] ) * o.grid[ 1 ];\r\n\t\t\t\t\tpageY = this.containment ?\r\n\t\t\t\t\t\t( ( top - this.offset.click.top >= this.containment[ 1 ] &&\r\n\t\t\t\t\t\t\ttop - this.offset.click.top <= this.containment[ 3 ] ) ?\r\n\t\t\t\t\t\t\t\ttop :\r\n\t\t\t\t\t\t\t\t( ( top - this.offset.click.top >= this.containment[ 1 ] ) ?\r\n\t\t\t\t\t\t\t\t\ttop - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) :\r\n\t\t\t\t\t\t\t\t\ttop;\r\n\r\n\t\t\t\t\tleft = this.originalPageX + Math.round( ( pageX - this.originalPageX ) /\r\n\t\t\t\t\t\to.grid[ 0 ] ) * o.grid[ 0 ];\r\n\t\t\t\t\tpageX = this.containment ?\r\n\t\t\t\t\t\t( ( left - this.offset.click.left >= this.containment[ 0 ] &&\r\n\t\t\t\t\t\t\tleft - this.offset.click.left <= this.containment[ 2 ] ) ?\r\n\t\t\t\t\t\t\t\tleft :\r\n\t\t\t\t\t\t\t\t( ( left - this.offset.click.left >= this.containment[ 0 ] ) ?\r\n\t\t\t\t\t\t\t\t\tleft - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) :\r\n\t\t\t\t\t\t\t\t\tleft;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpageY -\r\n\r\n\t\t\t\t\t// Click offset (relative to the element)\r\n\t\t\t\t\tthis.offset.click.top -\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.top -\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.top +\r\n\t\t\t\t\t( ( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.scrollParent.scrollTop() :\r\n\t\t\t\t\t\t( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) )\r\n\t\t\t\t),\r\n\t\t\t\tleft: (\r\n\r\n\t\t\t\t\t// The absolute mouse position\r\n\t\t\t\t\tpageX -\r\n\r\n\t\t\t\t\t// Click offset (relative to the element)\r\n\t\t\t\t\tthis.offset.click.left -\r\n\r\n\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\r\n\t\t\t\t\tthis.offset.relative.left -\r\n\r\n\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\r\n\t\t\t\t\tthis.offset.parent.left +\r\n\t\t\t\t\t( ( this.cssPosition === \"fixed\" ?\r\n\t\t\t\t\t\t-this.scrollParent.scrollLeft() :\r\n\t\t\t\t\t\tscrollIsRootNode ? 0 : scroll.scrollLeft() ) )\r\n\t\t\t\t)\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t_rearrange: function( event, i, a, hardRefresh ) {\r\n\r\n\t\t\ta ? a[ 0 ].appendChild( this.placeholder[ 0 ] ) :\r\n\t\t\t\ti.item[ 0 ].parentNode.insertBefore( this.placeholder[ 0 ],\r\n\t\t\t\t\t( this.direction === \"down\" ? i.item[ 0 ] : i.item[ 0 ].nextSibling ) );\r\n\r\n\t\t\t//Various things done here to improve the performance:\r\n\t\t\t// 1. we create a setTimeout, that calls refreshPositions\r\n\t\t\t// 2. on the instance, we have a counter variable, that get's higher after every append\r\n\t\t\t// 3. on the local scope, we copy the counter variable, and check in the timeout,\r\n\t\t\t// if it's still the same\r\n\t\t\t// 4. this lets only the last addition to the timeout stack through\r\n\t\t\tthis.counter = this.counter ? ++this.counter : 1;\r\n\t\t\tvar counter = this.counter;\r\n\r\n\t\t\tthis._delay( function() {\r\n\t\t\t\tif ( counter === this.counter ) {\r\n\r\n\t\t\t\t\t//Precompute after each DOM insertion, NOT on mousemove\r\n\t\t\t\t\tthis.refreshPositions( !hardRefresh );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\r\n\t\t_clear: function( event, noPropagation ) {\r\n\r\n\t\t\tthis.reverting = false;\r\n\r\n\t\t\t// We delay all events that have to be triggered to after the point where the placeholder\r\n\t\t\t// has been removed and everything else normalized again\r\n\t\t\tvar i,\r\n\t\t\t\tdelayedTriggers = [];\r\n\r\n\t\t\t// We first have to update the dom position of the actual currentItem\r\n\t\t\t// Note: don't do it if the current item is already removed (by a user), or it gets\r\n\t\t\t// reappended (see #4088)\r\n\t\t\tif ( !this._noFinalSort && this.currentItem.parent().length ) {\r\n\t\t\t\tthis.placeholder.before( this.currentItem );\r\n\t\t\t}\r\n\t\t\tthis._noFinalSort = null;\r\n\r\n\t\t\tif ( this.helper[ 0 ] === this.currentItem[ 0 ] ) {\r\n\t\t\t\tfor ( i in this._storedCSS ) {\r\n\t\t\t\t\tif ( this._storedCSS[ i ] === \"auto\" || this._storedCSS[ i ] === \"static\" ) {\r\n\t\t\t\t\t\tthis._storedCSS[ i ] = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.currentItem.css( this._storedCSS );\r\n\t\t\t\tthis._removeClass( this.currentItem, \"ui-sortable-helper\" );\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentItem.show();\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.fromOutside && !noPropagation ) {\r\n\t\t\t\tdelayedTriggers.push( function( event ) {\r\n\t\t\t\t\tthis._trigger( \"receive\", event, this._uiHash( this.fromOutside ) );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\tif ( ( this.fromOutside ||\r\n\t\t\t\t\tthis.domPosition.prev !==\r\n\t\t\t\t\tthis.currentItem.prev().not( \".ui-sortable-helper\" )[ 0 ] ||\r\n\t\t\t\t\tthis.domPosition.parent !== this.currentItem.parent()[ 0 ] ) && !noPropagation ) {\r\n\r\n\t\t\t\t// Trigger update callback if the DOM position has changed\r\n\t\t\t\tdelayedTriggers.push( function( event ) {\r\n\t\t\t\t\tthis._trigger( \"update\", event, this._uiHash() );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\t// Check if the items Container has Changed and trigger appropriate\r\n\t\t\t// events.\r\n\t\t\tif ( this !== this.currentContainer ) {\r\n\t\t\t\tif ( !noPropagation ) {\r\n\t\t\t\t\tdelayedTriggers.push( function( event ) {\r\n\t\t\t\t\t\tthis._trigger( \"remove\", event, this._uiHash() );\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tdelayedTriggers.push( ( function( c ) {\r\n\t\t\t\t\t\treturn function( event ) {\r\n\t\t\t\t\t\t\tc._trigger( \"receive\", event, this._uiHash( this ) );\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} ).call( this, this.currentContainer ) );\r\n\t\t\t\t\tdelayedTriggers.push( ( function( c ) {\r\n\t\t\t\t\t\treturn function( event ) {\r\n\t\t\t\t\t\t\tc._trigger( \"update\", event, this._uiHash( this ) );\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} ).call( this, this.currentContainer ) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Post events to containers\r\n\t\t\tfunction delayEvent( type, instance, container ) {\r\n\t\t\t\treturn function( event ) {\r\n\t\t\t\t\tcontainer._trigger( type, event, instance._uiHash( instance ) );\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tfor ( i = this.containers.length - 1; i >= 0; i-- ) {\r\n\t\t\t\tif ( !noPropagation ) {\r\n\t\t\t\t\tdelayedTriggers.push( delayEvent( \"deactivate\", this, this.containers[ i ] ) );\r\n\t\t\t\t}\r\n\t\t\t\tif ( this.containers[ i ].containerCache.over ) {\r\n\t\t\t\t\tdelayedTriggers.push( delayEvent( \"out\", this, this.containers[ i ] ) );\r\n\t\t\t\t\tthis.containers[ i ].containerCache.over = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Do what was originally in patches\r\n\t\t\tif ( this.storedCursor ) {\r\n\t\t\t\tthis.document.find( \"body\" ).css( \"cursor\", this.storedCursor );\r\n\t\t\t\tthis.storedStylesheet.remove();\r\n\t\t\t}\r\n\t\t\tif ( this._storedOpacity ) {\r\n\t\t\t\tthis.helper.css( \"opacity\", this._storedOpacity );\r\n\t\t\t}\r\n\t\t\tif ( this._storedZIndex ) {\r\n\t\t\t\tthis.helper.css( \"zIndex\", this._storedZIndex === \"auto\" ? \"\" : this._storedZIndex );\r\n\t\t\t}\r\n\r\n\t\t\tthis.dragging = false;\r\n\r\n\t\t\tif ( !noPropagation ) {\r\n\t\t\t\tthis._trigger( \"beforeStop\", event, this._uiHash() );\r\n\t\t\t}\r\n\r\n\t\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately,\r\n\t\t\t// it unbinds ALL events from the original node!\r\n\t\t\tthis.placeholder[ 0 ].parentNode.removeChild( this.placeholder[ 0 ] );\r\n\r\n\t\t\tif ( !this.cancelHelperRemoval ) {\r\n\t\t\t\tif ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {\r\n\t\t\t\t\tthis.helper.remove();\r\n\t\t\t\t}\r\n\t\t\t\tthis.helper = null;\r\n\t\t\t}\r\n\r\n\t\t\tif ( !noPropagation ) {\r\n\t\t\t\tfor ( i = 0; i < delayedTriggers.length; i++ ) {\r\n\r\n\t\t\t\t\t// Trigger all delayed events\r\n\t\t\t\t\tdelayedTriggers[ i ].call( this, event );\r\n\t\t\t\t}\r\n\t\t\t\tthis._trigger( \"stop\", event, this._uiHash() );\r\n\t\t\t}\r\n\r\n\t\t\tthis.fromOutside = false;\r\n\t\t\treturn !this.cancelHelperRemoval;\r\n\r\n\t\t},\r\n\r\n\t\t_trigger: function( type, event, ui ) {\r\n\t\t\tif ( this.overrided(type, event, ui) === false ) {\r\n\t\t\t\tthis.cancel();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_uiHash: function( _inst ) {\r\n\t\t\tvar inst = _inst || this;\r\n\t\t\treturn {\r\n\t\t\t\thelper: inst.helper,\r\n\t\t\t\tplaceholder: inst.placeholder || $( [] ),\r\n\t\t\t\tposition: inst.position,\r\n\t\t\t\toriginalPosition: inst.originalPosition,\r\n\t\t\t\toffset: inst.positionAbs,\r\n\t\t\t\titem: inst.currentItem,\r\n\t\t\t\tsender: _inst ? _inst.element : null\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tplugins.register(Sortable,\"sortable\");\r\n\r\n\treturn Sortable;\r\n});\r\n\ndefine( 'skylark-jqueryui-interact/main',[\r\n\t\"./ddmanager\",\r\n\t\"./Draggable\",\r\n\t\"./Droppable\",\r\n\t\"./Mouse\",\r\n\t\"./Resizable\",\r\n\t\"./Selectable\",\r\n\t\"./Sortable\",\r\n],function(ddmanager,Draggable,Droppable,Mouse,Resizable,Selectable,Sortable){\r\n\treturn {\r\n\t\tddmanager : ddmanager,\r\n\t\tDraggable : Draggable,\r\n\t\tDroppable : Droppable,\r\n\t\tMouse : Mouse,\r\n\t\tResizable : Resizable,\r\n\t\tSelectable : Selectable,\r\n\t\tSortable : Sortable\r\n\t};\r\n});\ndefine('skylark-jqueryui-interact', ['skylark-jqueryui-interact/main'], function (main) { return main; });\n\n"]}