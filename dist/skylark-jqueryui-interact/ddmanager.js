/**
 * skylark-jqueryui-interact - A version of jqueryui interact that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-jqueryui-interact/
 * @license MIT
 */
define(["skylark-langx/langx"],function(i){var p={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var o,i,s=p.droppables[e.options.scope]||[],r=t?t.type:null,n=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(o=0;o<s.length;o++)if(!(s[o].options.disabled||e&&!s[o].accept.call(s[o].element[0],e.currentItem||e.element))){for(i=0;i<n.length;i++)if(n[i]===s[o].element[0]){s[o].proportions().height=0;continue e}s[o].visible="none"!==s[o].element.css("display"),s[o].visible&&("mousedown"===r&&s[o]._activate.call(s[o],t),s[o].offset=s[o].element.offset(),s[o].proportions({width:s[o].element[0].offsetWidth,height:s[o].element[0].offsetHeight}))}},drop:function(e,t){var o=!1;return i.each((p.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&p.intersect(e,this,this.options.tolerance,t)&&(o=this._drop.call(this,t)||o),!this.options.disabled)&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t))}),o},dragStart:function(e,t){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||p.prepareOffsets(e,t)})},drag:function(s,r){s.options.refreshPositions&&p.prepareOffsets(s,r),i.each(p.droppables[s.options.scope]||[],function(){var e,t,o,i;this.options.disabled||this.greedyChild||!this.visible||(i=!(i=p.intersect(s,this,this.options.tolerance,r))&&this.isover?"isout":i&&!this.isover?"isover":null)&&(this.options.greedy&&(t=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===t})).length)&&((e=$(o[0]).droppable("instance")).greedyChild="isover"===i),e&&"isover"===i&&(e.isover=!1,e.isout=!0,e._out.call(e,r)),this[i]=!0,this["isout"===i?"isover":"isout"]=!1,this["isover"===i?"_over":"_out"].call(this,r),e)&&"isout"===i&&(e.isout=!1,e.isover=!0,e._over.call(e,r))})},dragStop:function(e,t){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||p.prepareOffsets(e,t)}};function f(e,t,o){return t<=e&&e<t+o}return p.intersect=function(e,t,o,i){if(!t.offset)return!1;var s=(e.positionAbs||e.position.absolute).left+e.margins.left,r=(e.positionAbs||e.position.absolute).top+e.margins.top,n=s+e.helperProportions.width,p=r+e.helperProportions.height,l=t.offset.left,a=t.offset.top,h=l+t.proportions().width,c=a+t.proportions().height;switch(o){case"fit":return l<=s&&n<=h&&a<=r&&p<=c;case"intersect":return l<s+e.helperProportions.width/2&&n-e.helperProportions.width/2<h&&a<r+e.helperProportions.height/2&&p-e.helperProportions.height/2<c;case"pointer":return f(i.pageY,a,t.proportions().height)&&f(i.pageX,l,t.proportions().width);case"touch":return(a<=r&&r<=c||a<=p&&p<=c||r<a&&c<p)&&(l<=s&&s<=h||l<=n&&n<=h||s<l&&h<n);default:return!1}},p});
//# sourceMappingURL=sourcemaps/ddmanager.js.map
