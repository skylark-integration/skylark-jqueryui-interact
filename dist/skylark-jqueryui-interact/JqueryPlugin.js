/**
 * skylark-jqueryui-interact - A version of jqueryui interact that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-jqueryui-interact/
 * @license MIT
 */
define(["skylark-langx/types","skylark-langx/objects","skylark-langx/arrays","skylark-langx/langx","skylark-utils-dom/eventer","skylark-utils-dom/plugins","skylark-utils-dom/query"],function(e,t,s,n,i,a,o){var l=a.Plugin.inherit({klassName:"JqPlugin",_classes:function(e){function s(){e.element.each(function(e,t){var s=n.map(l.classesElementLookup,function(e){return e}).some(function(e){return o(e).is(t)});s||l._on(o(t),{remove:"_untrackClassesElement"})})}function i(t,i){var r,u;for(u=0;u<t.length;u++)r=l.classesElementLookup[t[u]]||o(),e.add?(s(),r=o(n.uniq(r.get().concat(e.element.get())))):r=o(r.not(e.element).get()),l.classesElementLookup[t[u]]=r,a.push(t[u]),i&&e.classes[t[u]]&&a.push(e.classes[t[u]])}var a=[],l=this;return e=t.mixin({element:this.element,classes:this.options.classes||{}},e),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),a.join(" ")},_untrackClassesElement:function(e){var t=this;n.each(t.classesElementLookup,function(n,i){s.inArray(e.target,i)!==-1&&(t.classesElementLookup[n]=o(i.not(e.target).get()))}),this._off(o(e.target))},_removeClass:function(e,t,s){return this._toggleClass(e,t,s,!1)},_addClass:function(e,t,s){return this._toggleClass(e,t,s,!0)},_toggleClass:function(e,t,s,n){n="boolean"==typeof n?n:s;var i="string"==typeof e||null===e,a={extra:i?t:s,keys:i?e:t,element:i?this.element:e,add:n};return a.element.toggleClass(this._classes(a),n),this},_on:function(e,s,n){var i,a=this;"boolean"!=typeof e&&(n=s,s=e,e=!1),n?(s=i=o(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,i=this.widget()),t.each(n,function(t,n){function l(){if(e||a.options.disabled!==!0&&!o(this).hasClass("ui-state-disabled"))return("string"==typeof n?a[n]:n).apply(a,arguments)}"string"!=typeof n&&(l.guid=n.guid=n.guid||l.guid||o.guid++);var r=t.match(/^([\w:-]*)\s*(.*)$/),u=r[1]+a.eventNamespace,g=r[2];g?i.on(u,g,l):s.on(u,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t),this.bindings=o(this.bindings.not(e).get()),this.focusable=o(this.focusable.not(e).get()),this.hoverable=o(this.hoverable.not(e).get())},_trigger:function(t,s,n){var a,o,l=this.options[t];if(n=n||{},s=i.proxy(s),s.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),s.target=this.element[0],o=s.originalEvent)for(a in o)a in s||(s[a]=o[a]);return this.element.trigger(s,n),!(e.isFunction(l)&&l.apply(this.element[0],[s].concat(n))===!1||s.isDefaultPrevented())}});return l});
//# sourceMappingURL=sourcemaps/JqueryPlugin.js.map
