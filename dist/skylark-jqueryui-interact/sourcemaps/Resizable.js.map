{"version":3,"sources":["Resizable.js"],"names":["define","langx","datax","eventer","noder","$","plugins","Mouse","patch","ddmanager","Resizable","inherit","klassName","pluginName","widgetEventPrefix","options","alsoResize","animate","animateDuration","animateEasing","aspectRatio","autoHide","classes","ui-resizable-se","containment","ghost","grid","handles","helper","maxHeight","maxWidth","minHeight","minWidth","zIndex","resize","start","stop","_num","value","parseFloat","_isNumber","isNaN","_hasScroll","el","a","has","css","scroll","_create","margins","o","this","that","_addClass","extend","_aspectRatio","originalElement","element","_proportionallyResizeElements","_helper","nodeName","match","wrap","position","width","outerWidth","height","outerHeight","top","left","parent","data","resizable","elementIsWrapper","marginTop","marginRight","marginBottom","marginLeft","originalResizeStyle","push","zoom","display","_proportionallyResize","_setupHandles","on","disabled","_removeClass","_handles","show","resizing","hide","_mouseInit","_destroy","_mouseDestroy","_addedHandles","remove","exp","removeData","off","wrapper","insertAfter","_setOption","key","_super","_removeHandles","handle","i","n","hname","axis","length","e","s","w","se","sw","ne","nw","constructor","String","split","trim","children","append","add","_renderAxis","target","padPos","padWrapper","first","jquery","nodeType","_on","mousedown","_mouseDown","test","join","find","disableSelection","className","_mouseCapture","event","capture","contains","_mouseStart","curleft","curtop","_renderProxy","scrollLeft","scrollTop","offset","size","originalSize","sizeDiff","originalPosition","originalMousePosition","pageX","pageY","cursor","_propagate","_mouseDrag","smp","dx","dy","trigger","_change","_updatePrevProperties","apply","_updateVirtualBoundaries","shiftKey","_updateRatio","_respectSize","_updateCache","props","_applyChanges","isEmptyObject","_trigger","ui","_mouseStop","soffseth","ista","pr","soffsetw","prevPosition","prevSize","forceAspectRatio","pMaxWidth","pMinHeight","pMaxHeight","b","Infinity","pMinWidth","_vBoundaries","cpos","csize","ismaxw","ismaxh","isminw","isminh","dw","dh","cw","ch","_getPaddingPlusBorderDimensions","widths","borders","paddings","prel","outerDimensions","elementOffset","appendTo","cs","arguments","call","patches","style","transit","duration","easing","step","p","oc","ce","get","containerElement","document","containerOffset","containerPosition","parentData","body","parentNode","scrollHeight","each","name","containerSize","innerHeight","innerWidth","co","scrollWidth","cp","pRatio","cop","continueResize","isParent","isOffsetRelative","woset","Math","abs","hoset","ho","h","os","op","delta","parents","prop","sum","clone","opacity","margin","removeChild","gridX","gridY","ox","round","oy","newWidth","newHeight","isMaxWidth","isMaxHeight","isMinWidth","isMinHeight","register"],"mappings":"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","file":"../Resizable.js","sourcesContent":["define( [\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-data\",\r\n\t\"skylark-domx-eventer\",\r\n\t\"skylark-domx-noder\",\r\n\t\"skylark-domx-query\",\r\n\t\"skylark-domx-plugins-base\",\r\n\t\"./Mouse\",\r\n\t\"./patch\",\r\n\t\"./ddmanager\",\r\n],function(langx, datax, eventer, noder, $, plugins, Mouse, patch, ddmanager) {\r\n\r\n\tvar Resizable = Mouse.inherit({\r\n\t\tklassName: \"Resizable\",\r\n\r\n\t\tpluginName : \"ui.resizable\",\r\n\t\r\n\t\twidgetEventPrefix: \"resize\",\r\n\r\n\t\toptions: {\r\n\t\t\talsoResize: false,\r\n\t\t\tanimate: false,\r\n\t\t\tanimateDuration: \"slow\",\r\n\t\t\tanimateEasing: \"swing\",\r\n\t\t\taspectRatio: false,\r\n\t\t\tautoHide: false,\r\n\t\t\tclasses: {\r\n\t\t\t\t\"ui-resizable-se\": \"ui-icon ui-icon-gripsmall-diagonal-se\"\r\n\t\t\t},\r\n\t\t\tcontainment: false,\r\n\t\t\tghost: false,\r\n\t\t\tgrid: false,\r\n\t\t\thandles: \"e,s,se\",\r\n\t\t\thelper: false,\r\n\t\t\tmaxHeight: null,\r\n\t\t\tmaxWidth: null,\r\n\t\t\tminHeight: 10,\r\n\t\t\tminWidth: 10,\r\n\r\n\t\t\t// See #7960\r\n\t\t\tzIndex: 90,\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tresize: null,\r\n\t\t\tstart: null,\r\n\t\t\tstop: null\r\n\t\t},\r\n\r\n\t\t_num: function( value ) {\r\n\t\t\treturn parseFloat( value ) || 0;\r\n\t\t},\r\n\r\n\t\t_isNumber: function( value ) {\r\n\t\t\treturn !isNaN( parseFloat( value ) );\r\n\t\t},\r\n\r\n\t\t_hasScroll: function( el, a ) {\r\n\r\n\t\t\tif ( $( el ).css( \"overflow\" ) === \"hidden\" ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tvar scroll = ( a && a === \"left\" ) ? \"scrollLeft\" : \"scrollTop\",\r\n\t\t\t\thas = false;\r\n\r\n\t\t\tif ( el[ scroll ] > 0 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t// TODO: determine which cases actually cause this to happen\r\n\t\t\t// if the element doesn't have the scroll set, see if it's possible to\r\n\t\t\t// set the scroll\r\n\t\t\tel[ scroll ] = 1;\r\n\t\t\thas = ( el[ scroll ] > 0 );\r\n\t\t\tel[ scroll ] = 0;\r\n\t\t\treturn has;\r\n\t\t},\r\n\r\n\t\t_create: function() {\r\n\r\n\t\t\tvar margins,\r\n\t\t\t\to = this.options,\r\n\t\t\t\tthat = this;\r\n\t\t\tthis._addClass( \"ui-resizable\" );\r\n\r\n\t\t\tlangx.extend( this, {\r\n\t\t\t\t_aspectRatio: !!( o.aspectRatio ),\r\n\t\t\t\taspectRatio: o.aspectRatio,\r\n\t\t\t\toriginalElement: this.element,\r\n\t\t\t\t_proportionallyResizeElements: [],\r\n\t\t\t\t_helper: o.helper || o.ghost || o.animate ? o.helper || \"ui-resizable-helper\" : null\r\n\t\t\t} );\r\n\r\n\t\t\t// Wrap the element if it cannot hold child nodes\r\n\t\t\tif ( this.element[ 0 ].nodeName.match( /^(canvas|textarea|input|select|button|img)$/i ) ) {\r\n\r\n\t\t\t\tthis.element.wrap(\r\n\t\t\t\t\t$( \"<div class='ui-wrapper' style='overflow: hidden;'></div>\" ).css( {\r\n\t\t\t\t\t\tposition: this.element.css( \"position\" ),\r\n\t\t\t\t\t\twidth: this.element.outerWidth(),\r\n\t\t\t\t\t\theight: this.element.outerHeight(),\r\n\t\t\t\t\t\ttop: this.element.css( \"top\" ),\r\n\t\t\t\t\t\tleft: this.element.css( \"left\" )\r\n\t\t\t\t\t} )\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.element = this.element.parent().data(\r\n\t\t\t\t\t\"ui-resizable\", this.element.resizable( \"instance\" )\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.elementIsWrapper = true;\r\n\r\n\t\t\t\tmargins = {\r\n\t\t\t\t\tmarginTop: this.originalElement.css( \"marginTop\" ),\r\n\t\t\t\t\tmarginRight: this.originalElement.css( \"marginRight\" ),\r\n\t\t\t\t\tmarginBottom: this.originalElement.css( \"marginBottom\" ),\r\n\t\t\t\t\tmarginLeft: this.originalElement.css( \"marginLeft\" )\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.element.css( margins );\r\n\t\t\t\tthis.originalElement.css( \"margin\", 0 );\r\n\r\n\t\t\t\t// support: Safari\r\n\t\t\t\t// Prevent Safari textarea resize\r\n\t\t\t\tthis.originalResizeStyle = this.originalElement.css( \"resize\" );\r\n\t\t\t\tthis.originalElement.css( \"resize\", \"none\" );\r\n\r\n\t\t\t\tthis._proportionallyResizeElements.push( this.originalElement.css( {\r\n\t\t\t\t\tposition: \"static\",\r\n\t\t\t\t\tzoom: 1,\r\n\t\t\t\t\tdisplay: \"block\"\r\n\t\t\t\t}));\r\n\r\n\t\t\t\t// Support: IE9\r\n\t\t\t\t// avoid IE jump (hard set the margin)\r\n\t\t\t\tthis.originalElement.css( margins );\r\n\r\n\t\t\t\tthis._proportionallyResize();\r\n\t\t\t}\r\n\r\n\t\t\tthis._setupHandles();\r\n\r\n\t\t\tif ( o.autoHide ) {\r\n\t\t\t\t$( this.element )\r\n\t\t\t\t\t.on( \"mouseenter\", function() {\r\n\t\t\t\t\t\tif ( o.disabled ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat._removeClass( \"ui-resizable-autohide\" );\r\n\t\t\t\t\t\tthat._handles.show();\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.on( \"mouseleave\", function() {\r\n\t\t\t\t\t\tif ( o.disabled ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( !that.resizing ) {\r\n\t\t\t\t\t\t\tthat._addClass( \"ui-resizable-autohide\" );\r\n\t\t\t\t\t\t\tthat._handles.hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tthis._mouseInit();\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\r\n\t\t\tthis._mouseDestroy();\r\n\t\t\tthis._addedHandles.remove();\r\n\r\n\t\t\tvar wrapper,\r\n\t\t\t\t_destroy = function( exp ) {\r\n\t\t\t\t\t$( exp )\r\n\t\t\t\t\t\t.removeData( \"resizable\" )\r\n\t\t\t\t\t\t.removeData( \"ui-resizable\" )\r\n\t\t\t\t\t\t.off( \".resizable\" );\r\n\t\t\t\t};\r\n\r\n\t\t\t// TODO: Unwrap at same DOM position\r\n\t\t\tif ( this.elementIsWrapper ) {\r\n\t\t\t\t_destroy( this.element );\r\n\t\t\t\twrapper = this.element;\r\n\t\t\t\tthis.originalElement.css( {\r\n\t\t\t\t\tposition: wrapper.css( \"position\" ),\r\n\t\t\t\t\twidth: wrapper.outerWidth(),\r\n\t\t\t\t\theight: wrapper.outerHeight(),\r\n\t\t\t\t\ttop: wrapper.css( \"top\" ),\r\n\t\t\t\t\tleft: wrapper.css( \"left\" )\r\n\t\t\t\t} ).insertAfter( wrapper );\r\n\t\t\t\twrapper.remove();\r\n\t\t\t}\r\n\r\n\t\t\tthis.originalElement.css( \"resize\", this.originalResizeStyle );\r\n\t\t\t_destroy( this.originalElement );\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t_setOption: function( key, value ) {\r\n\t\t\tthis._super( key, value );\r\n\r\n\t\t\tswitch ( key ) {\r\n\t\t\tcase \"handles\":\r\n\t\t\t\tthis._removeHandles();\r\n\t\t\t\tthis._setupHandles();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"aspectRatio\":\r\n\t\t\t\tthis._aspectRatio = !!value;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setupHandles: function() {\r\n\t\t\tvar o = this.options, handle, i, n, hname, axis, that = this;\r\n\t\t\tthis.handles = o.handles ||\r\n\t\t\t\t( !$( \".ui-resizable-handle\", this.element ).length ?\r\n\t\t\t\t\t\"e,s,se\" : {\r\n\t\t\t\t\t\tn: \".ui-resizable-n\",\r\n\t\t\t\t\t\te: \".ui-resizable-e\",\r\n\t\t\t\t\t\ts: \".ui-resizable-s\",\r\n\t\t\t\t\t\tw: \".ui-resizable-w\",\r\n\t\t\t\t\t\tse: \".ui-resizable-se\",\r\n\t\t\t\t\t\tsw: \".ui-resizable-sw\",\r\n\t\t\t\t\t\tne: \".ui-resizable-ne\",\r\n\t\t\t\t\t\tnw: \".ui-resizable-nw\"\r\n\t\t\t\t\t} );\r\n\r\n\t\t\tthis._handles = $();\r\n\t\t\tthis._addedHandles = $();\r\n\t\t\tif ( this.handles.constructor === String ) {\r\n\r\n\t\t\t\tif ( this.handles === \"all\" ) {\r\n\t\t\t\t\tthis.handles = \"n,e,s,w,se,sw,ne,nw\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tn = this.handles.split( \",\" );\r\n\t\t\t\tthis.handles = {};\r\n\r\n\t\t\t\tfor ( i = 0; i < n.length; i++ ) {\r\n\r\n\t\t\t\t\thandle = langx.trim( n[ i ] );\r\n\t\t\t\t\thname = \"ui-resizable-\" + handle;\r\n\t\t\t\t\taxis = $( \"<div>\" );\r\n\t\t\t\t\tthis._addClass( axis, \"ui-resizable-handle \" + hname );\r\n\r\n\t\t\t\t\taxis.css( { zIndex: o.zIndex } );\r\n\r\n\t\t\t\t\tthis.handles[ handle ] = \".ui-resizable-\" + handle;\r\n\t\t\t\t\tif ( !this.element.children( this.handles[ handle ] ).length ) {\r\n\t\t\t\t\t\tthis.element.append( axis );\r\n\t\t\t\t\t\tthis._addedHandles = this._addedHandles.add( axis );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._renderAxis = function( target ) {\r\n\r\n\t\t\t\tvar i, axis, padPos, padWrapper;\r\n\r\n\t\t\t\ttarget = target || this.element;\r\n\r\n\t\t\t\tfor ( i in this.handles ) {\r\n\r\n\t\t\t\t\tif ( this.handles[ i ].constructor === String ) {\r\n\t\t\t\t\t\tthis.handles[ i ] = this.element.children( this.handles[ i ] ).first().show();\r\n\t\t\t\t\t} else if ( this.handles[ i ].jquery || this.handles[ i ].nodeType ) {\r\n\t\t\t\t\t\tthis.handles[ i ] = $( this.handles[ i ] );\r\n\t\t\t\t\t\tthis._on( this.handles[ i ], { \"mousedown\": that._mouseDown } );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.elementIsWrapper &&\r\n\t\t\t\t\t\t\tthis.originalElement[ 0 ]\r\n\t\t\t\t\t\t\t\t.nodeName\r\n\t\t\t\t\t\t\t\t.match( /^(textarea|input|select|button)$/i ) ) {\r\n\t\t\t\t\t\taxis = $( this.handles[ i ], this.element );\r\n\r\n\t\t\t\t\t\tpadWrapper = /sw|ne|nw|se|n|s/.test( i ) ?\r\n\t\t\t\t\t\t\taxis.outerHeight() :\r\n\t\t\t\t\t\t\taxis.outerWidth();\r\n\r\n\t\t\t\t\t\tpadPos = [ \"padding\",\r\n\t\t\t\t\t\t\t/ne|nw|n/.test( i ) ? \"Top\" :\r\n\t\t\t\t\t\t\t/se|sw|s/.test( i ) ? \"Bottom\" :\r\n\t\t\t\t\t\t\t/^e$/.test( i ) ? \"Right\" : \"Left\" ].join( \"\" );\r\n\r\n\t\t\t\t\t\ttarget.css( padPos, padWrapper );\r\n\r\n\t\t\t\t\t\tthis._proportionallyResize();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._handles = this._handles.add( this.handles[ i ] );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// TODO: make renderAxis a prototype function\r\n\t\t\tthis._renderAxis( this.element );\r\n\r\n\t\t\tthis._handles = this._handles.add( this.element.find( \".ui-resizable-handle\" ) );\r\n\t\t\tthis._handles.disableSelection();\r\n\r\n\t\t\tthis._handles.on( \"mouseover\", function() {\r\n\t\t\t\tif ( !that.resizing ) {\r\n\t\t\t\t\tif ( this.className ) {\r\n\t\t\t\t\t\taxis = this.className.match( /ui-resizable-(se|sw|ne|nw|n|e|s|w)/i );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.axis = axis && axis[ 1 ] ? axis[ 1 ] : \"se\";\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tif ( o.autoHide ) {\r\n\t\t\t\tthis._handles.hide();\r\n\t\t\t\tthis._addClass( \"ui-resizable-autohide\" );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_removeHandles: function() {\r\n\t\t\tthis._addedHandles.remove();\r\n\t\t},\r\n\r\n\t\t_mouseCapture: function( event ) {\r\n\t\t\tvar i, handle,\r\n\t\t\t\tcapture = false;\r\n\r\n\t\t\tfor ( i in this.handles ) {\r\n\t\t\t\thandle = $( this.handles[ i ] )[ 0 ];\r\n\t\t\t\tif ( handle === event.target || noder.contains( handle, event.target ) ) {\r\n\t\t\t\t\tcapture = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn !this.options.disabled && capture;\r\n\t\t},\r\n\r\n\t\t_mouseStart: function( event ) {\r\n\r\n\t\t\tvar curleft, curtop, cursor,\r\n\t\t\t\to = this.options,\r\n\t\t\t\tel = this.element;\r\n\r\n\t\t\tthis.resizing = true;\r\n\r\n\t\t\tthis._renderProxy();\r\n\r\n\t\t\tcurleft = this._num( this.helper.css( \"left\" ) );\r\n\t\t\tcurtop = this._num( this.helper.css( \"top\" ) );\r\n\r\n\t\t\tif ( o.containment ) {\r\n\t\t\t\tcurleft += $( o.containment ).scrollLeft() || 0;\r\n\t\t\t\tcurtop += $( o.containment ).scrollTop() || 0;\r\n\t\t\t}\r\n\r\n\t\t\tthis.offset = this.helper.offset();\r\n\t\t\tthis.position = { left: curleft, top: curtop };\r\n\r\n\t\t\tthis.size = this._helper ? {\r\n\t\t\t\t\twidth: this.helper.width(),\r\n\t\t\t\t\theight: this.helper.height()\r\n\t\t\t\t} : {\r\n\t\t\t\t\twidth: el.width(),\r\n\t\t\t\t\theight: el.height()\r\n\t\t\t\t};\r\n\r\n\t\t\tthis.originalSize = this._helper ? {\r\n\t\t\t\t\twidth: el.outerWidth(),\r\n\t\t\t\t\theight: el.outerHeight()\r\n\t\t\t\t} : {\r\n\t\t\t\t\twidth: el.width(),\r\n\t\t\t\t\theight: el.height()\r\n\t\t\t\t};\r\n\r\n\t\t\tthis.sizeDiff = {\r\n\t\t\t\twidth: el.outerWidth() - el.width(),\r\n\t\t\t\theight: el.outerHeight() - el.height()\r\n\t\t\t};\r\n\r\n\t\t\tthis.originalPosition = { left: curleft, top: curtop };\r\n\t\t\tthis.originalMousePosition = { left: event.pageX, top: event.pageY };\r\n\r\n\t\t\tthis.aspectRatio = ( typeof o.aspectRatio === \"number\" ) ?\r\n\t\t\t\to.aspectRatio :\r\n\t\t\t\t( ( this.originalSize.width / this.originalSize.height ) || 1 );\r\n\r\n\t\t\tcursor = $( \".ui-resizable-\" + this.axis ).css( \"cursor\" );\r\n\t\t\t$( \"body\" ).css( \"cursor\", cursor === \"auto\" ? this.axis + \"-resize\" : cursor );\r\n\r\n\t\t\tthis._addClass( \"ui-resizable-resizing\" );\r\n\t\t\tthis._propagate( \"start\", event );\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t_mouseDrag: function( event ) {\r\n\r\n\t\t\tvar data, props,\r\n\t\t\t\tsmp = this.originalMousePosition,\r\n\t\t\t\ta = this.axis,\r\n\t\t\t\tdx = ( event.pageX - smp.left ) || 0,\r\n\t\t\t\tdy = ( event.pageY - smp.top ) || 0,\r\n\t\t\t\ttrigger = this._change[ a ];\r\n\r\n\t\t\tthis._updatePrevProperties();\r\n\r\n\t\t\tif ( !trigger ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tdata = trigger.apply( this, [ event, dx, dy ] );\r\n\r\n\t\t\tthis._updateVirtualBoundaries( event.shiftKey );\r\n\t\t\tif ( this._aspectRatio || event.shiftKey ) {\r\n\t\t\t\tdata = this._updateRatio( data, event );\r\n\t\t\t}\r\n\r\n\t\t\tdata = this._respectSize( data, event );\r\n\r\n\t\t\tthis._updateCache( data );\r\n\r\n\t\t\tthis._propagate( \"resize\", event );\r\n\r\n\t\t\tprops = this._applyChanges();\r\n\r\n\t\t\tif ( !this._helper && this._proportionallyResizeElements.length ) {\r\n\t\t\t\tthis._proportionallyResize();\r\n\t\t\t}\r\n\r\n\t\t\tif ( !langx.isEmptyObject( props ) ) {\r\n\t\t\t\tthis._updatePrevProperties();\r\n\t\t\t\tthis._trigger( \"resize\", event, this.ui() );\r\n\t\t\t\tthis._applyChanges();\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_mouseStop: function( event ) {\r\n\r\n\t\t\tthis.resizing = false;\r\n\t\t\tvar pr, ista, soffseth, soffsetw, s, left, top,\r\n\t\t\t\to = this.options, that = this;\r\n\r\n\t\t\tif ( this._helper ) {\r\n\r\n\t\t\t\tpr = this._proportionallyResizeElements;\r\n\t\t\t\tista = pr.length && ( /textarea/i ).test( pr[ 0 ].nodeName );\r\n\t\t\t\tsoffseth = ista && this._hasScroll( pr[ 0 ], \"left\" ) ? 0 : that.sizeDiff.height;\r\n\t\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width;\r\n\r\n\t\t\t\ts = {\r\n\t\t\t\t\twidth: ( that.helper.width()  - soffsetw ),\r\n\t\t\t\t\theight: ( that.helper.height() - soffseth )\r\n\t\t\t\t};\r\n\t\t\t\tleft = ( parseFloat( that.element.css( \"left\" ) ) +\r\n\t\t\t\t\t( that.position.left - that.originalPosition.left ) ) || null;\r\n\t\t\t\ttop = ( parseFloat( that.element.css( \"top\" ) ) +\r\n\t\t\t\t\t( that.position.top - that.originalPosition.top ) ) || null;\r\n\r\n\t\t\t\tif ( !o.animate ) {\r\n\t\t\t\t\tthis.element.css( langx.extend( s, { top: top, left: left }));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.helper.height( that.size.height );\r\n\t\t\t\tthat.helper.width( that.size.width );\r\n\r\n\t\t\t\tif ( this._helper && !o.animate ) {\r\n\t\t\t\t\tthis._proportionallyResize();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t$( \"body\" ).css( \"cursor\", \"auto\" );\r\n\r\n\t\t\tthis._removeClass( \"ui-resizable-resizing\" );\r\n\r\n\t\t\tthis._propagate( \"stop\", event );\r\n\r\n\t\t\tif ( this._helper ) {\r\n\t\t\t\tthis.helper.remove();\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\r\n\t\t_updatePrevProperties: function() {\r\n\t\t\tthis.prevPosition = {\r\n\t\t\t\ttop: this.position.top,\r\n\t\t\t\tleft: this.position.left\r\n\t\t\t};\r\n\t\t\tthis.prevSize = {\r\n\t\t\t\twidth: this.size.width,\r\n\t\t\t\theight: this.size.height\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_applyChanges: function() {\r\n\t\t\tvar props = {};\r\n\r\n\t\t\tif ( this.position.top !== this.prevPosition.top ) {\r\n\t\t\t\tprops.top = this.position.top + \"px\";\r\n\t\t\t}\r\n\t\t\tif ( this.position.left !== this.prevPosition.left ) {\r\n\t\t\t\tprops.left = this.position.left + \"px\";\r\n\t\t\t}\r\n\t\t\tif ( this.size.width !== this.prevSize.width ) {\r\n\t\t\t\tprops.width = this.size.width + \"px\";\r\n\t\t\t}\r\n\t\t\tif ( this.size.height !== this.prevSize.height ) {\r\n\t\t\t\tprops.height = this.size.height + \"px\";\r\n\t\t\t}\r\n\r\n\t\t\tthis.helper.css( props );\r\n\r\n\t\t\treturn props;\r\n\t\t},\r\n\r\n\t\t_updateVirtualBoundaries: function( forceAspectRatio ) {\r\n\t\t\tvar pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b,\r\n\t\t\t\to = this.options;\r\n\r\n\t\t\tb = {\r\n\t\t\t\tminWidth: this._isNumber( o.minWidth ) ? o.minWidth : 0,\r\n\t\t\t\tmaxWidth: this._isNumber( o.maxWidth ) ? o.maxWidth : Infinity,\r\n\t\t\t\tminHeight: this._isNumber( o.minHeight ) ? o.minHeight : 0,\r\n\t\t\t\tmaxHeight: this._isNumber( o.maxHeight ) ? o.maxHeight : Infinity\r\n\t\t\t};\r\n\r\n\t\t\tif ( this._aspectRatio || forceAspectRatio ) {\r\n\t\t\t\tpMinWidth = b.minHeight * this.aspectRatio;\r\n\t\t\t\tpMinHeight = b.minWidth / this.aspectRatio;\r\n\t\t\t\tpMaxWidth = b.maxHeight * this.aspectRatio;\r\n\t\t\t\tpMaxHeight = b.maxWidth / this.aspectRatio;\r\n\r\n\t\t\t\tif ( pMinWidth > b.minWidth ) {\r\n\t\t\t\t\tb.minWidth = pMinWidth;\r\n\t\t\t\t}\r\n\t\t\t\tif ( pMinHeight > b.minHeight ) {\r\n\t\t\t\t\tb.minHeight = pMinHeight;\r\n\t\t\t\t}\r\n\t\t\t\tif ( pMaxWidth < b.maxWidth ) {\r\n\t\t\t\t\tb.maxWidth = pMaxWidth;\r\n\t\t\t\t}\r\n\t\t\t\tif ( pMaxHeight < b.maxHeight ) {\r\n\t\t\t\t\tb.maxHeight = pMaxHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._vBoundaries = b;\r\n\t\t},\r\n\r\n\t\t_updateCache: function( data ) {\r\n\t\t\tthis.offset = this.helper.offset();\r\n\t\t\tif ( this._isNumber( data.left ) ) {\r\n\t\t\t\tthis.position.left = data.left;\r\n\t\t\t}\r\n\t\t\tif ( this._isNumber( data.top ) ) {\r\n\t\t\t\tthis.position.top = data.top;\r\n\t\t\t}\r\n\t\t\tif ( this._isNumber( data.height ) ) {\r\n\t\t\t\tthis.size.height = data.height;\r\n\t\t\t}\r\n\t\t\tif ( this._isNumber( data.width ) ) {\r\n\t\t\t\tthis.size.width = data.width;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_updateRatio: function( data ) {\r\n\r\n\t\t\tvar cpos = this.position,\r\n\t\t\t\tcsize = this.size,\r\n\t\t\t\ta = this.axis;\r\n\r\n\t\t\tif ( this._isNumber( data.height ) ) {\r\n\t\t\t\tdata.width = ( data.height * this.aspectRatio );\r\n\t\t\t} else if ( this._isNumber( data.width ) ) {\r\n\t\t\t\tdata.height = ( data.width / this.aspectRatio );\r\n\t\t\t}\r\n\r\n\t\t\tif ( a === \"sw\" ) {\r\n\t\t\t\tdata.left = cpos.left + ( csize.width - data.width );\r\n\t\t\t\tdata.top = null;\r\n\t\t\t}\r\n\t\t\tif ( a === \"nw\" ) {\r\n\t\t\t\tdata.top = cpos.top + ( csize.height - data.height );\r\n\t\t\t\tdata.left = cpos.left + ( csize.width - data.width );\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\t_respectSize: function( data ) {\r\n\r\n\t\t\tvar o = this._vBoundaries,\r\n\t\t\t\ta = this.axis,\r\n\t\t\t\tismaxw = this._isNumber( data.width ) && o.maxWidth && ( o.maxWidth < data.width ),\r\n\t\t\t\tismaxh = this._isNumber( data.height ) && o.maxHeight && ( o.maxHeight < data.height ),\r\n\t\t\t\tisminw = this._isNumber( data.width ) && o.minWidth && ( o.minWidth > data.width ),\r\n\t\t\t\tisminh = this._isNumber( data.height ) && o.minHeight && ( o.minHeight > data.height ),\r\n\t\t\t\tdw = this.originalPosition.left + this.originalSize.width,\r\n\t\t\t\tdh = this.originalPosition.top + this.originalSize.height,\r\n\t\t\t\tcw = /sw|nw|w/.test( a ), ch = /nw|ne|n/.test( a );\r\n\t\t\tif ( isminw ) {\r\n\t\t\t\tdata.width = o.minWidth;\r\n\t\t\t}\r\n\t\t\tif ( isminh ) {\r\n\t\t\t\tdata.height = o.minHeight;\r\n\t\t\t}\r\n\t\t\tif ( ismaxw ) {\r\n\t\t\t\tdata.width = o.maxWidth;\r\n\t\t\t}\r\n\t\t\tif ( ismaxh ) {\r\n\t\t\t\tdata.height = o.maxHeight;\r\n\t\t\t}\r\n\r\n\t\t\tif ( isminw && cw ) {\r\n\t\t\t\tdata.left = dw - o.minWidth;\r\n\t\t\t}\r\n\t\t\tif ( ismaxw && cw ) {\r\n\t\t\t\tdata.left = dw - o.maxWidth;\r\n\t\t\t}\r\n\t\t\tif ( isminh && ch ) {\r\n\t\t\t\tdata.top = dh - o.minHeight;\r\n\t\t\t}\r\n\t\t\tif ( ismaxh && ch ) {\r\n\t\t\t\tdata.top = dh - o.maxHeight;\r\n\t\t\t}\r\n\r\n\t\t\t// Fixing jump error on top/left - bug #2330\r\n\t\t\tif ( !data.width && !data.height && !data.left && data.top ) {\r\n\t\t\t\tdata.top = null;\r\n\t\t\t} else if ( !data.width && !data.height && !data.top && data.left ) {\r\n\t\t\t\tdata.left = null;\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\t_getPaddingPlusBorderDimensions: function( element ) {\r\n\t\t\tvar i = 0,\r\n\t\t\t\twidths = [],\r\n\t\t\t\tborders = [\r\n\t\t\t\t\telement.css( \"borderTopWidth\" ),\r\n\t\t\t\t\telement.css( \"borderRightWidth\" ),\r\n\t\t\t\t\telement.css( \"borderBottomWidth\" ),\r\n\t\t\t\t\telement.css( \"borderLeftWidth\" )\r\n\t\t\t\t],\r\n\t\t\t\tpaddings = [\r\n\t\t\t\t\telement.css( \"paddingTop\" ),\r\n\t\t\t\t\telement.css( \"paddingRight\" ),\r\n\t\t\t\t\telement.css( \"paddingBottom\" ),\r\n\t\t\t\t\telement.css( \"paddingLeft\" )\r\n\t\t\t\t];\r\n\r\n\t\t\tfor ( ; i < 4; i++ ) {\r\n\t\t\t\twidths[ i ] = ( parseFloat( borders[ i ] ) || 0 );\r\n\t\t\t\twidths[ i ] += ( parseFloat( paddings[ i ] ) || 0 );\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\theight: widths[ 0 ] + widths[ 2 ],\r\n\t\t\t\twidth: widths[ 1 ] + widths[ 3 ]\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_proportionallyResize: function() {\r\n\r\n\t\t\tif ( !this._proportionallyResizeElements.length ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar prel,\r\n\t\t\t\ti = 0,\r\n\t\t\t\telement = this.helper || this.element;\r\n\r\n\t\t\tfor ( ; i < this._proportionallyResizeElements.length; i++ ) {\r\n\r\n\t\t\t\tprel = this._proportionallyResizeElements[ i ];\r\n\r\n\t\t\t\t// TODO: Seems like a bug to cache this.outerDimensions\r\n\t\t\t\t// considering that we are in a loop.\r\n\t\t\t\tif ( !this.outerDimensions ) {\r\n\t\t\t\t\tthis.outerDimensions = this._getPaddingPlusBorderDimensions( prel );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tprel.css( {\r\n\t\t\t\t\theight: ( element.height() - this.outerDimensions.height ) || 0,\r\n\t\t\t\t\twidth: ( element.width() - this.outerDimensions.width ) || 0\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_renderProxy: function() {\r\n\r\n\t\t\tvar el = this.element, o = this.options;\r\n\t\t\tthis.elementOffset = el.offset();\r\n\r\n\t\t\tif ( this._helper ) {\r\n\r\n\t\t\t\tthis.helper = this.helper || $( \"<div style='overflow:hidden;'></div>\" );\r\n\r\n\t\t\t\tthis._addClass( this.helper, this._helper );\r\n\t\t\t\tthis.helper.css( {\r\n\t\t\t\t\twidth: this.element.outerWidth(),\r\n\t\t\t\t\theight: this.element.outerHeight(),\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tleft: this.elementOffset.left + \"px\",\r\n\t\t\t\t\ttop: this.elementOffset.top + \"px\",\r\n\t\t\t\t\tzIndex: ++o.zIndex //TODO: Don't modify option\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tthis.helper\r\n\t\t\t\t\t.appendTo( \"body\" )\r\n\t\t\t\t\t.disableSelection();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthis.helper = this.element;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_change: {\r\n\t\t\te: function( event, dx ) {\r\n\t\t\t\treturn { width: this.originalSize.width + dx };\r\n\t\t\t},\r\n\t\t\tw: function( event, dx ) {\r\n\t\t\t\tvar cs = this.originalSize, sp = this.originalPosition;\r\n\t\t\t\treturn { left: sp.left + dx, width: cs.width - dx };\r\n\t\t\t},\r\n\t\t\tn: function( event, dx, dy ) {\r\n\t\t\t\tvar cs = this.originalSize, sp = this.originalPosition;\r\n\t\t\t\treturn { top: sp.top + dy, height: cs.height - dy };\r\n\t\t\t},\r\n\t\t\ts: function( event, dx, dy ) {\r\n\t\t\t\treturn { height: this.originalSize.height + dy };\r\n\t\t\t},\r\n\t\t\tse: function( event, dx, dy ) {\r\n\t\t\t\treturn langx.extend( this._change.s.apply( this, arguments ),\r\n\t\t\t\t\tthis._change.e.apply( this, [ event, dx, dy ] ) );\r\n\t\t\t},\r\n\t\t\tsw: function( event, dx, dy ) {\r\n\t\t\t\treturn langx.extend( this._change.s.apply( this, arguments ),\r\n\t\t\t\t\tthis._change.w.apply( this, [ event, dx, dy ] ) );\r\n\t\t\t},\r\n\t\t\tne: function( event, dx, dy ) {\r\n\t\t\t\treturn langx.extend( this._change.n.apply( this, arguments ),\r\n\t\t\t\t\tthis._change.e.apply( this, [ event, dx, dy ] ) );\r\n\t\t\t},\r\n\t\t\tnw: function( event, dx, dy ) {\r\n\t\t\t\treturn langx.extend( this._change.n.apply( this, arguments ),\r\n\t\t\t\t\tthis._change.w.apply( this, [ event, dx, dy ] ) );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_propagate: function( n, event ) {\r\n\t\t\tpatch.call( this, n, [ event, this.ui(), this ], true );\r\n\t\t\t//$.ui.plugin.call( this, n, [ event, this.ui() ] );\r\n\t\t\t( n !== \"resize\" && this._trigger( n, event, this.ui() ) );\r\n\t\t},\r\n\r\n\t\tpatches: {},\r\n\r\n\t\tui: function() {\r\n\t\t\treturn {\r\n\t\t\t\toriginalElement: this.originalElement,\r\n\t\t\t\telement: this.element,\r\n\t\t\t\thelper: this.helper,\r\n\t\t\t\tposition: this.position,\r\n\t\t\t\tsize: this.size,\r\n\t\t\t\toriginalSize: this.originalSize,\r\n\t\t\t\toriginalPosition: this.originalPosition\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\t/*\r\n\t * Resizable Extensions\r\n\t */\r\n\r\n\tpatch.add(Resizable, \"animate\", {\r\n\r\n\t\tstop: function( event ) {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tpr = that._proportionallyResizeElements,\r\n\t\t\t\tista = pr.length && ( /textarea/i ).test( pr[ 0 ].nodeName ),\r\n\t\t\t\tsoffseth = ista && that._hasScroll( pr[ 0 ], \"left\" ) ? 0 : that.sizeDiff.height,\r\n\t\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width,\r\n\t\t\t\tstyle = {\r\n\t\t\t\t\twidth: ( that.size.width - soffsetw ),\r\n\t\t\t\t\theight: ( that.size.height - soffseth )\r\n\t\t\t\t},\r\n\t\t\t\tleft = ( parseFloat( that.element.css( \"left\" ) ) +\r\n\t\t\t\t\t( that.position.left - that.originalPosition.left ) ) || null,\r\n\t\t\t\ttop = ( parseFloat( that.element.css( \"top\" ) ) +\r\n\t\t\t\t\t( that.position.top - that.originalPosition.top ) ) || null;\r\n\r\n\t\t\tthat.element.transit(\r\n\t\t\t\tlangx.extend( style, top && left ? { top: top, left: left } : {} ), {\r\n\t\t\t\t\tduration: o.animateDuration,\r\n\t\t\t\t\teasing: o.animateEasing,\r\n\t\t\t\t\tstep: function() {\r\n\r\n\t\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\t\twidth: parseFloat( that.element.css( \"width\" ) ),\r\n\t\t\t\t\t\t\theight: parseFloat( that.element.css( \"height\" ) ),\r\n\t\t\t\t\t\t\ttop: parseFloat( that.element.css( \"top\" ) ),\r\n\t\t\t\t\t\t\tleft: parseFloat( that.element.css( \"left\" ) )\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tif ( pr && pr.length ) {\r\n\t\t\t\t\t\t\t$( pr[ 0 ] ).css( { width: data.width, height: data.height } );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Propagating resize, and updating values for each animation step\r\n\t\t\t\t\t\tthat._updateCache( data );\r\n\t\t\t\t\t\tthat._propagate( \"resize\", event );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tpatch.add(Resizable, \"containment\", {\r\n\r\n\t\tstart: function() {\r\n\t\t\tvar element, p, co, ch, cw, width, height,\r\n\t\t\t\tthat = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tel = that.element,\r\n\t\t\t\toc = o.containment,\r\n\t\t\t\tce = ( oc instanceof $ ) ?\r\n\t\t\t\t\toc.get( 0 ) :\r\n\t\t\t\t\t( /parent/.test( oc ) ) ? el.parent().get( 0 ) : oc;\r\n\r\n\t\t\tif ( !ce ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthat.containerElement = $( ce );\r\n\r\n\t\t\tif ( /document/.test( oc ) || oc === document ) {\r\n\t\t\t\tthat.containerOffset = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0\r\n\t\t\t\t};\r\n\t\t\t\tthat.containerPosition = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthat.parentData = {\r\n\t\t\t\t\telement: $( document ),\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: $( document ).width(),\r\n\t\t\t\t\theight: $( document ).height() || document.body.parentNode.scrollHeight\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\telement = $( ce );\r\n\t\t\t\tp = [];\r\n\t\t\t\t$( [ \"Top\", \"Right\", \"Left\", \"Bottom\" ] ).each( function( i, name ) {\r\n\t\t\t\t\tp[ i ] = that._num( element.css( \"padding\" + name ) );\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tthat.containerOffset = element.offset();\r\n\t\t\t\tthat.containerPosition = element.position();\r\n\t\t\t\tthat.containerSize = {\r\n\t\t\t\t\theight: ( element.innerHeight() - p[ 3 ] ),\r\n\t\t\t\t\twidth: ( element.innerWidth() - p[ 1 ] )\r\n\t\t\t\t};\r\n\r\n\t\t\t\tco = that.containerOffset;\r\n\t\t\t\tch = that.containerSize.height;\r\n\t\t\t\tcw = that.containerSize.width;\r\n\t\t\t\twidth = ( that._hasScroll ( ce, \"left\" ) ? ce.scrollWidth : cw );\r\n\t\t\t\theight = ( that._hasScroll ( ce ) ? ce.scrollHeight : ch ) ;\r\n\r\n\t\t\t\tthat.parentData = {\r\n\t\t\t\t\telement: ce,\r\n\t\t\t\t\tleft: co.left,\r\n\t\t\t\t\ttop: co.top,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tresize: function( event ) {\r\n\t\t\tvar woset, hoset, isParent, isOffsetRelative,\r\n\t\t\t\tthat = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tco = that.containerOffset,\r\n\t\t\t\tcp = that.position,\r\n\t\t\t\tpRatio = that._aspectRatio || event.shiftKey,\r\n\t\t\t\tcop = {\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0\r\n\t\t\t\t},\r\n\t\t\t\tce = that.containerElement,\r\n\t\t\t\tcontinueResize = true;\r\n\r\n\t\t\tif ( ce[ 0 ] !== document && ( /static/ ).test( ce.css( \"position\" ) ) ) {\r\n\t\t\t\tcop = co;\r\n\t\t\t}\r\n\r\n\t\t\tif ( cp.left < ( that._helper ? co.left : 0 ) ) {\r\n\t\t\t\tthat.size.width = that.size.width +\r\n\t\t\t\t\t( that._helper ?\r\n\t\t\t\t\t\t( that.position.left - co.left ) :\r\n\t\t\t\t\t\t( that.position.left - cop.left ) );\r\n\r\n\t\t\t\tif ( pRatio ) {\r\n\t\t\t\t\tthat.size.height = that.size.width / that.aspectRatio;\r\n\t\t\t\t\tcontinueResize = false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.position.left = o.helper ? co.left : 0;\r\n\t\t\t}\r\n\r\n\t\t\tif ( cp.top < ( that._helper ? co.top : 0 ) ) {\r\n\t\t\t\tthat.size.height = that.size.height +\r\n\t\t\t\t\t( that._helper ?\r\n\t\t\t\t\t\t( that.position.top - co.top ) :\r\n\t\t\t\t\t\tthat.position.top );\r\n\r\n\t\t\t\tif ( pRatio ) {\r\n\t\t\t\t\tthat.size.width = that.size.height * that.aspectRatio;\r\n\t\t\t\t\tcontinueResize = false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.position.top = that._helper ? co.top : 0;\r\n\t\t\t}\r\n\r\n\t\t\tisParent = that.containerElement.get( 0 ) === that.element.parent().get( 0 );\r\n\t\t\tisOffsetRelative = /relative|absolute/.test( that.containerElement.css( \"position\" ) );\r\n\r\n\t\t\tif ( isParent && isOffsetRelative ) {\r\n\t\t\t\tthat.offset.left = that.parentData.left + that.position.left;\r\n\t\t\t\tthat.offset.top = that.parentData.top + that.position.top;\r\n\t\t\t} else {\r\n\t\t\t\tthat.offset.left = that.element.offset().left;\r\n\t\t\t\tthat.offset.top = that.element.offset().top;\r\n\t\t\t}\r\n\r\n\t\t\twoset = Math.abs( that.sizeDiff.width +\r\n\t\t\t\t( that._helper ?\r\n\t\t\t\t\tthat.offset.left - cop.left :\r\n\t\t\t\t\t( that.offset.left - co.left ) ) );\r\n\r\n\t\t\thoset = Math.abs( that.sizeDiff.height +\r\n\t\t\t\t( that._helper ?\r\n\t\t\t\t\tthat.offset.top - cop.top :\r\n\t\t\t\t\t( that.offset.top - co.top ) ) );\r\n\r\n\t\t\tif ( woset + that.size.width >= that.parentData.width ) {\r\n\t\t\t\tthat.size.width = that.parentData.width - woset;\r\n\t\t\t\tif ( pRatio ) {\r\n\t\t\t\t\tthat.size.height = that.size.width / that.aspectRatio;\r\n\t\t\t\t\tcontinueResize = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( hoset + that.size.height >= that.parentData.height ) {\r\n\t\t\t\tthat.size.height = that.parentData.height - hoset;\r\n\t\t\t\tif ( pRatio ) {\r\n\t\t\t\t\tthat.size.width = that.size.height * that.aspectRatio;\r\n\t\t\t\t\tcontinueResize = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( !continueResize ) {\r\n\t\t\t\tthat.position.left = that.prevPosition.left;\r\n\t\t\t\tthat.position.top = that.prevPosition.top;\r\n\t\t\t\tthat.size.width = that.prevSize.width;\r\n\t\t\t\tthat.size.height = that.prevSize.height;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstop: function() {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tco = that.containerOffset,\r\n\t\t\t\tcop = that.containerPosition,\r\n\t\t\t\tce = that.containerElement,\r\n\t\t\t\thelper = $( that.helper ),\r\n\t\t\t\tho = helper.offset(),\r\n\t\t\t\tw = helper.outerWidth() - that.sizeDiff.width,\r\n\t\t\t\th = helper.outerHeight() - that.sizeDiff.height;\r\n\r\n\t\t\tif ( that._helper && !o.animate && ( /relative/ ).test( ce.css( \"position\" ) ) ) {\r\n\t\t\t\t$( this ).css( {\r\n\t\t\t\t\tleft: ho.left - cop.left - co.left,\r\n\t\t\t\t\twidth: w,\r\n\t\t\t\t\theight: h\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tif ( that._helper && !o.animate && ( /static/ ).test( ce.css( \"position\" ) ) ) {\r\n\t\t\t\t$( this ).css( {\r\n\t\t\t\t\tleft: ho.left - cop.left - co.left,\r\n\t\t\t\t\twidth: w,\r\n\t\t\t\t\theight: h\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add(Resizable, \"alsoResize\", {\r\n\r\n\t\tstart: function() {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options;\r\n\r\n\t\t\t$( o.alsoResize ).each( function() {\r\n\t\t\t\tvar el = $( this );\r\n\t\t\t\tel.data( \"ui-resizable-alsoresize\", {\r\n\t\t\t\t\twidth: parseFloat( el.width() ), height: parseFloat( el.height() ),\r\n\t\t\t\t\tleft: parseFloat( el.css( \"left\" ) ), top: parseFloat( el.css( \"top\" ) )\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\tresize: function( event, ui ) {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tos = that.originalSize,\r\n\t\t\t\top = that.originalPosition,\r\n\t\t\t\tdelta = {\r\n\t\t\t\t\theight: ( that.size.height - os.height ) || 0,\r\n\t\t\t\t\twidth: ( that.size.width - os.width ) || 0,\r\n\t\t\t\t\ttop: ( that.position.top - op.top ) || 0,\r\n\t\t\t\t\tleft: ( that.position.left - op.left ) || 0\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$( o.alsoResize ).each( function() {\r\n\t\t\t\t\tvar el = $( this ), start = $( this ).data( \"ui-resizable-alsoresize\" ), style = {},\r\n\t\t\t\t\t\tcss = el.parents( ui.originalElement[ 0 ] ).length ?\r\n\t\t\t\t\t\t\t\t[ \"width\", \"height\" ] :\r\n\t\t\t\t\t\t\t\t[ \"width\", \"height\", \"top\", \"left\" ];\r\n\r\n\t\t\t\t\tlangx.each( css, function( i, prop ) {\r\n\t\t\t\t\t\tvar sum = ( start[ prop ] || 0 ) + ( delta[ prop ] || 0 );\r\n\t\t\t\t\t\tif ( sum && sum >= 0 ) {\r\n\t\t\t\t\t\t\tstyle[ prop ] = sum || null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\tel.css( style );\r\n\t\t\t\t} );\r\n\t\t},\r\n\r\n\t\tstop: function() {\r\n\t\t\t$( this ).removeData( \"ui-resizable-alsoresize\" );\r\n\t\t}\r\n\t} );\r\n\r\n\tpatch.add(Resizable, \"ghost\", {\r\n\r\n\t\tstart: function() {\r\n\r\n\t\t\tvar that = $( this ).resizable( \"instance\" ), cs = that.size;\r\n\r\n\t\t\tthat.ghost = that.originalElement.clone();\r\n\t\t\tthat.ghost.css( {\r\n\t\t\t\topacity: 0.25,\r\n\t\t\t\tdisplay: \"block\",\r\n\t\t\t\tposition: \"relative\",\r\n\t\t\t\theight: cs.height,\r\n\t\t\t\twidth: cs.width,\r\n\t\t\t\tmargin: 0,\r\n\t\t\t\tleft: 0,\r\n\t\t\t\ttop: 0\r\n\t\t\t} );\r\n\r\n\t\t\tthat._addClass( that.ghost, \"ui-resizable-ghost\" );\r\n\r\n\t\t\t// DEPRECATED\r\n\t\t\t// TODO: remove after 1.12\r\n\t\t\t/*\r\n\t\t\tif ( $.uiBackCompat !== false && typeof that.options.ghost === \"string\" ) {\r\n\r\n\t\t\t\t// Ghost option\r\n\t\t\t\tthat.ghost.addClass( this.options.ghost );\r\n\t\t\t}\r\n\t\t\t*/\r\n\r\n\t\t\tthat.ghost.appendTo( that.helper );\r\n\r\n\t\t},\r\n\r\n\t\tresize: function() {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" );\r\n\t\t\tif ( that.ghost ) {\r\n\t\t\t\tthat.ghost.css( {\r\n\t\t\t\t\tposition: \"relative\",\r\n\t\t\t\t\theight: that.size.height,\r\n\t\t\t\t\twidth: that.size.width\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstop: function() {\r\n\t\t\tvar that = $( this ).resizable( \"instance\" );\r\n\t\t\tif ( that.ghost && that.helper ) {\r\n\t\t\t\tthat.helper.get( 0 ).removeChild( that.ghost.get( 0 ) );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tpatch.add(Resizable, \"grid\", {\r\n\r\n\t\tresize: function() {\r\n\t\t\tvar outerDimensions,\r\n\t\t\t\tthat = $( this ).resizable( \"instance\" ),\r\n\t\t\t\to = that.options,\r\n\t\t\t\tcs = that.size,\r\n\t\t\t\tos = that.originalSize,\r\n\t\t\t\top = that.originalPosition,\r\n\t\t\t\ta = that.axis,\r\n\t\t\t\tgrid = typeof o.grid === \"number\" ? [ o.grid, o.grid ] : o.grid,\r\n\t\t\t\tgridX = ( grid[ 0 ] || 1 ),\r\n\t\t\t\tgridY = ( grid[ 1 ] || 1 ),\r\n\t\t\t\tox = Math.round( ( cs.width - os.width ) / gridX ) * gridX,\r\n\t\t\t\toy = Math.round( ( cs.height - os.height ) / gridY ) * gridY,\r\n\t\t\t\tnewWidth = os.width + ox,\r\n\t\t\t\tnewHeight = os.height + oy,\r\n\t\t\t\tisMaxWidth = o.maxWidth && ( o.maxWidth < newWidth ),\r\n\t\t\t\tisMaxHeight = o.maxHeight && ( o.maxHeight < newHeight ),\r\n\t\t\t\tisMinWidth = o.minWidth && ( o.minWidth > newWidth ),\r\n\t\t\t\tisMinHeight = o.minHeight && ( o.minHeight > newHeight );\r\n\r\n\t\t\to.grid = grid;\r\n\r\n\t\t\tif ( isMinWidth ) {\r\n\t\t\t\tnewWidth += gridX;\r\n\t\t\t}\r\n\t\t\tif ( isMinHeight ) {\r\n\t\t\t\tnewHeight += gridY;\r\n\t\t\t}\r\n\t\t\tif ( isMaxWidth ) {\r\n\t\t\t\tnewWidth -= gridX;\r\n\t\t\t}\r\n\t\t\tif ( isMaxHeight ) {\r\n\t\t\t\tnewHeight -= gridY;\r\n\t\t\t}\r\n\r\n\t\t\tif ( /^(se|s|e)$/.test( a ) ) {\r\n\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t} else if ( /^(ne)$/.test( a ) ) {\r\n\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t\tthat.position.top = op.top - oy;\r\n\t\t\t} else if ( /^(sw)$/.test( a ) ) {\r\n\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t\tthat.position.left = op.left - ox;\r\n\t\t\t} else {\r\n\t\t\t\tif ( newHeight - gridY <= 0 || newWidth - gridX <= 0 ) {\r\n\t\t\t\t\touterDimensions = that._getPaddingPlusBorderDimensions( this );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( newHeight - gridY > 0 ) {\r\n\t\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t\t\tthat.position.top = op.top - oy;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewHeight = gridY - outerDimensions.height;\r\n\t\t\t\t\tthat.size.height = newHeight;\r\n\t\t\t\t\tthat.position.top = op.top + os.height - newHeight;\r\n\t\t\t\t}\r\n\t\t\t\tif ( newWidth - gridX > 0 ) {\r\n\t\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\t\tthat.position.left = op.left - ox;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewWidth = gridX - outerDimensions.width;\r\n\t\t\t\t\tthat.size.width = newWidth;\r\n\t\t\t\t\tthat.position.left = op.left + os.width - newWidth;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tplugins.register(Resizable,\"resizable\");\r\n\r\n\treturn Resizable;\r\n\r\n});\r\n"]}